(window.webpackJsonpfood_and_u_client=window.webpackJsonpfood_and_u_client||[]).push([[8,9,11],{632:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var r=a(55),n=a(12),o=a(146),i=a(0),c=a.n(i),l=a(680),s=a(676),d=a(4),u=a(644),p=a.n(u),m=a(105),f=a(17),h=a(47),g=a(9),b=a(279),y=a(76),v=a(578),E=a(567),S=a(679),k=a.n(S);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=Object(m.a)((function(e){return{root:{flexGrow:1,width:"auto",marginTop:10,marginBottom:0},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(f.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0}}}));function N(e){var t=e.inputRef,a=Object(o.a)(e,["inputRef"]);return c.a.createElement("div",Object.assign({ref:t},a))}var T={Control:function(e){var t=e.children,a=e.innerProps,r=e.innerRef,n=e.selectProps,o=n.classes,i=n.TextFieldProps;return c.a.createElement(b.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:N,inputProps:O({className:o.input,ref:r,children:t},a)}},i))},Menu:function(e){return c.a.createElement(y.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return c.a.createElement(g.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.a.createElement(E.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,r=void 0===a?{}:a,n=e.children;return c.a.createElement(g.a,Object.assign({color:"textSecondary",className:t.classes.placeholder},r),n)},SingleValue:function(e){var t=e.selectProps,a=e.innerProps,r=void 0===a?{}:a,n=e.children;return c.a.createElement(g.a,Object.assign({className:t.classes.singleValue},r),n)},MultiValue:function(e){return c.a.createElement(v.a,{tabIndex:-1,label:e.children,className:Object(d.default)(e.selectProps.classes.chip,Object(n.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:c.a.createElement(k.a,e.removeProps)})},ValueContainer:function(e){return c.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function w(e){var t=C(),a=Object(h.a)(),n=e.id,o=e.name,i=e.label,d=e.options,u=e.value,m=e.updateSelection,f=e.isMulti,g=e.creatableSelect,b=e.createCustomOption,y=e.removeCustomOption,v=c.a.useState(null),E=Object(r.a)(v,2),S=E[0],k=E[1],D=c.a.useState(null),N=Object(r.a)(D,2),w=N[0],M=N[1],j=c.a.useRef(null),P=function(e){k(e),m(e)},A=function(e){if(M(e),e){var t,a;if(g){(t=e.find((function(e){return!d.map((function(e){return e.value})).includes(e.value)&&e.__isNew__})))&&b(O({},t,{name:o,key:p()()}));var r=d.filter((function(e){return e.__isNew__}));!t&&r.length>0&&(a=r.find((function(t){return!e.map((function(e){return e.value})).includes(t.value)})))&&y(a)}var n=[],c=[];e.forEach((function(e){n.push(e.value),c.push(e.label)})),m({value:n,label:c,name:o})}else m({value:null,label:i,name:o})},x={input:function(e){return O({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return g?c.a.createElement("div",{className:t.root},c.a.createElement(s.a,{ref:j,classes:t,styles:x,inputId:n,name:o,TextFieldProps:{label:"".concat((f?w:S)?i:""),InputLabelProps:{htmlFor:{id:n},shrink:!0}},noOptionsMessage:function(){return c.a.createElement("span",null,"Invalid")},backspaceRemovesValue:!0,placeholder:i,options:d,innerProps:{},components:T,value:f?d.filter((function(e){return u&&u.includes(e.value)})):d.filter((function(e){return e.value===u})),onChange:f?A:P,isMulti:f})):c.a.createElement("div",{className:t.root},c.a.createElement(l.a,{classes:t,styles:x,inputId:n,name:o,TextFieldProps:{label:"".concat((f?w:S)?i:""),InputLabelProps:{htmlFor:{id:n},shrink:!0}},noOptionsMessage:function(){return c.a.createElement("span",null,"Invalid")},backspaceRemovesValue:!0,placeholder:i,options:d,innerProps:{},components:T,value:f?d.filter((function(e){return u&&u.includes(e.value)})):d.filter((function(e){return e.value===u})),onChange:f?A:P,isMulti:f}))}},638:function(e,t,a){"use strict";var r=a(55),n=a(0),o=a.n(n),i=a(105),c=a(71),l=a(621),s=a(854),d=a(844),u=function(e){var t=e.to,a=e.type,r=e.onClick,n=o.a.useMemo((function(){return o.a.forwardRef((function(e,a){return o.a.createElement(c.b,Object.assign({to:t},e,{ref:a}))}))}),[t]);return"button"===a?o.a.createElement(d.a,Object.assign({onClick:r},e)):o.a.createElement(d.a,Object.assign({wrapped:!0,component:n},e))},p=Object(i.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));t.a=function(e){var t=p(),a=e.currentLocation,n=e.children,i=o.a.useState(0),c=Object(r.a)(i,2),d=c[0],m=c[1],f=function(e,t){var a=t.map((function(e){return e&&e.props.to})).findIndex((function(t){return t===e}));return-1===a?0:a}(a,n);return 0===f&&"/tracker/timeline"!==a||d===f||m(f),o.a.createElement("div",{className:t.root},o.a.createElement(l.a,{position:"static"},o.a.createElement(s.a,{variant:"fullWidth",value:d,onChange:function(e,t){m(t)},"aria-label":"container nav tabs"},e.children.map((function(e,t){return e&&o.a.createElement(u,{to:e.props.to,type:e.props.type,onClick:e.props.onClick,key:t,label:e.props.children,id:"nav-tab-".concat(t),"aria-controls":"nav-tabpanel-".concat(t)})})))))}},664:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(105),i=a(11),c=a.n(i),l=a(4),s=a(234),d=a(336),u=a(235),p=a(76),m=a(77),f=a(142),h=a(29),g=a(98),b=a(9),y=a(55),v=a(857),E=a(627),S=a(859),k=a(858),D=a(856),O=a(341),C=a(861),N=a(328),T=a(339),w=a(576),M=function(e){var t=e.data,a=(e.chartType,e.width),r=t.sort((function(e,t){return e.date>t.date})).map((function(e){return{day:e.displayDate,date:e.date,calories:Number(e.ENERC_KCAL.toFixed(2)),carbs:Math.floor(e.ENERC_KCAL*e.percentCarbs/100),percentCarbs:e.percentCarbs,fat:Math.floor(e.ENERC_KCAL*e.percentFat/100),percentFat:e.percentFat,protein:Math.floor(e.ENERC_KCAL*e.percentProtein/100),percentProtein:e.percentProtein}})),o=["carbs","fat","protein"].map((function(e){return r.map((function(t){return{day:t.day,calories:isNaN(Number(t[e]))?0:Number(t[e]),label:e&&Number(t[e])>0?e:null,date:t.date,percent:t["percent".concat(e[0].toUpperCase()).concat(e.slice(1))]}}))}));return n.a.createElement("div",null,n.a.createElement("svg",{viewBox:"0 0 500 350"},t.length>0?n.a.createElement(v.a,{standalone:!1,domainPadding:{x:[100,0]},theme:E.a.material,width:a},n.a.createElement(S.a,{offset:10,domainPadding:{x:[0,0]},style:{data:{width:15}}},n.a.createElement(k.a,{domainPadding:{x:[50,0]}},n.a.createElement(D.a,{data:r.map((function(e){return{day:e.day,calories:isNaN(e.calories)?"0":e.calories}})),style:{data:{fill:"#458ca8"}},x:"day",y:"calories",labels:function(e){var t=e.datum;return"calories: ".concat(t.calories)},labelComponent:n.a.createElement(O.a,{text:function(e){var t=e.datum;return"calories: ".concat(t.calories)},cornerRadius:function(e){e.datum;return 5},pointerLength:function(e){e.datum;return 10},flyoutStyle:{stroke:function(e){var t=e.datum;return c()(t.day).isSame(new Date)?"tomato":"black"}},constrainToVisibleArea:!0,renderInPortal:!0})})),n.a.createElement(k.a,{colorScale:"qualitative",domainPadding:{x:[50,0]}},o.map((function(e,t){return n.a.createElement(D.a,{key:t,data:e,x:"day",y:"calories",labels:function(e){var t=e.datum;return"".concat(t&&t.label,": ").concat(t&&t.percent,"%")},labelComponent:n.a.createElement(O.a,{text:function(e){var t=e.datum;return"".concat(t&&t.label,": ").concat(t&&t.percent,"%")},cornerRadius:function(){return 5},pointerLength:function(){return 10},flyoutStyle:{stroke:function(e){var t=e.datum;return c()(t&&t.date).dayOfYear()===c()(new Date).dayOfYear()?"tomato":"black"},fill:"white"},constrainToVisibleArea:!0,renderInPortal:!0}),events:[{target:"data",eventHandlers:{onClick:function(){return console.log("stackbar clicked")},onMouseOver:function(){return{target:"labels",mutation:function(){return{active:!0}}}}}}]})})))),n.a.createElement(C.a,{tickValues:r.map((function(e){return c()(e.day).dayOfYear()})),tickFormat:r.map((function(e){return"".concat(c()(e).format("Do"),"\n          ").concat(c()(e).format("MMM"))}))}),n.a.createElement(C.a,{dependentAxis:!0,orientation:"left",tickFormat:function(e){return"".concat(e,"\n          KCal")},offsetX:40})):null,n.a.createElement(N.a,null,n.a.createElement("g",null,n.a.createElement(T.a,{x:410,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Protein"}),n.a.createElement("rect",{x:"440",y:"0",width:"20",height:"20",fill:"#efc94c"}),n.a.createElement(T.a,{x:330,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Fat"}),n.a.createElement("rect",{x:"350",y:"0",width:"20",height:"20",fill:"#45b29d"}),n.a.createElement(T.a,{x:255,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Carbs"}),n.a.createElement("rect",{x:"280",y:"0",width:"20",height:"20",fill:"#334d5c"}),n.a.createElement(T.a,{x:155,y:10,textAnchor:"middle",style:{fontSize:12},text:"Total Calories"}),n.a.createElement("rect",{x:"200",y:"0",width:"20",height:"20",fill:"#458ca8"})))))},j=function(e){return n.a.createElement("g",null,n.a.createElement(T.a,e),n.a.createElement(O.a,Object.assign({},e,{x:200,y:250,orientation:"top",pointerLength:0,cornerRadius:50,flyoutWidth:100,flyoutHeight:100,flyoutStyle:{fill:"#252525",opacity:1,transition:"all 0.5s ease-out"}})))};j.defaultEvents=O.a.defaultEvents;var P=function(e){var t=e.data,a=(e.chartType,e.width,Object(r.useState)(!1)),o=Object(y.a)(a,2),i=o[0],c=o[1],l=Object(r.useState)(!0),s=Object(y.a)(l,2),d=s[0],u=s[1];Object(r.useEffect)((function(){var e=setTimeout((function(){u(!1)}),100);return function(){clearTimeout(e)}}),[d]);var p=t&&[{x:"carbs",y:t.percentCarbs},{x:"fat",y:t.percentFat},{x:"protein",y:t.percentProtein}];return t?n.a.createElement("svg",{viewBox:"0 0 400 400"},n.a.createElement(w.a,{standalone:!1,colorScale:"qualitative",style:{labels:{fill:"#fff"}},innerRadius:100,labelRadius:120,labels:function(e){var t=e.datum;return t.y>0?"".concat(t.x," \n      ").concat(t.y,"%"):null},labelComponent:n.a.createElement(j,null),data:d?[{x:"",y:0},{x:"",y:0},{x:"",y:0}]:p,events:[{target:"data",eventHandlers:{onMouseOver:function(){return c(!0),{target:"labels",mutation:function(){return{active:!0,style:{opacity:1,fill:"#fff",fontSize:20,transition:"all 0.25s ease-out"}}}}},onMouseOut:function(){return c(!1),{target:"labels",mutation:function(){return{active:!1}}}}}}],animate:{duration:1e3,easing:"circleInOut"}}),i?null:n.a.createElement(T.a,{textAnchor:"middle",style:{fontSize:20},x:200,y:200,text:"Total \n        ".concat(t.ENERC_KCAL.toFixed()," \n      Calories")})):null},A=a(16),x=Object(o.a)((function(e){return{root:{margin:0,padding:0,paddingTop:20,maxWidth:"100%",overflow:"visible"},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},cardContentPieCharts:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},chart:{maxWidth:"60%"},list:{width:"400px"},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10,textTransform:"capitalize"}}}));t.a=function(e){var t=x(),a=e.trackerData,r=e.history,o=e.setCurrentTimelineView,i=e.setCurrentTimelineDate,y=[],v=[],E=[],S=[],k=[],D=[];a&&a.timelineSnippets&&a.timelineSnippets.ENTRIES&&a.timelineSnippets.DAYS&&(y=a.timelineSnippets.ENTRIES.filter((function(e){return e[A.b]===A.e.dietEntry})).sort((function(e,t){return e.start<t.start})).filter((function(e,t){return t<=5})),v=a.timelineSnippets.ENTRIES.filter((function(e){return e[A.b]===A.e.mealPlan})).sort((function(e,t){return e.start>t.start})).filter((function(e,t){return t<=5})),E=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).find((function(e){return c()(e.date).dayOfYear()===c()(new Date).subtract(1,"day").dayOfYear()})),S=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).find((function(e){return c()(e.date).dayOfYear()===c()(new Date).dayOfYear()})),k=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).find((function(e){return c()(e.date).dayOfYear()===c()(new Date).dayOfYear()})),D=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).find((function(e){return c()(e.date).dayOfYear()===c()(new Date).add(1,"day").dayOfYear()})));var O=function(e){r.push("/tracker/timeline"),o(A.f.AGENDA),i(e)},C=function(){r.push("/tracker/timeline")};return n.a.createElement(p.a,{className:t.root},n.a.createElement(b.a,{variant:"h5",gutterBottom:!0},"Recent Tracker Activity"),a&&a._id&&a.timelineSnippets.ENTRIES.length>0&&a.timelineSnippets.DAYS.length>0?n.a.createElement(m.a,{container:!0,spacing:3,justify:"space-around"},E?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for yesterday's Diet Entries summary",subheader:"What had you eaten yesterday"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(b.a,{variant:"body2",gutterBottom:!0},E.numEntries," ",1!==E.numEntries?"Entries":"Entry"),n.a.createElement(P,{className:t.chart,data:E,chartType:"PIE",width:500})))):null,S?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for today's Diet Entries summary",subheader:"What have you eaten today"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(b.a,{variant:"body2",gutterBottom:!0},S.numEntries," ",1!==S.numEntries?"Entries":"Entry"),n.a.createElement(P,{className:t.chart,data:S,chartType:"PIE",width:500})))):null,k?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for today's Meal Plan summary",subheader:"What have you planned to eat today"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(b.a,{variant:"body2",gutterBottom:!0},k.numEntries," ",1!==k.numEntries?"Entries":"Entry"),n.a.createElement(P,{className:t.chart,data:k,chartType:"PIE",width:500})))):null,D?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for tomorrow's Meal Plan summary",subheader:"What have you planned to eat tomorrow"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(b.a,{variant:"body2",gutterBottom:!0},D.numEntries," ",1!==D.numEntries?"Entries":"Entry"),n.a.createElement(P,{className:t.chart,data:D,chartType:"PIE",width:500})))):null,n.a.createElement(m.a,{item:!0,xs:12,md:6},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for Last 7 days Diet Entries",subheader:"What have you lately eaten"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(M,{className:t.chart,data:a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).filter((function(e){return c()(e.date).dayOfYear()>=c()(new Date).subtract(5,"days").dayOfYear()&&c()(e.date).dayOfYear()<=c()(new Date).dayOfYear()})),chartType:"BAR",width:500})))),n.a.createElement(m.a,{item:!0},n.a.createElement(s.a,{className:t.card,raised:!0},n.a.createElement(d.a,{title:"Recent Diet Entries",subheader:"What have you lately eaten"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(f.a,{component:"div",className:t.list},y.map((function(e){return n.a.createElement(h.a,{key:e._id,className:t.genericItem,divider:!0},n.a.createElement(g.a,{variant:"text",onClick:O.bind(void 0,e.start),className:t.button},n.a.createElement(b.a,{variant:"body2"},e.title," -"," "),n.a.createElement(b.a,{variant:"subtitle2",color:"textSecondary"},c()(e.start).format("ddd, hA"))))})))))),n.a.createElement(m.a,{item:!0,xs:12,md:6},n.a.createElement(s.a,{className:Object(l.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for Next 7 days Meal Plans",subheader:"What have you planned to eat"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(M,{className:t.chart,data:a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).filter((function(e){return c()(e.date).dayOfYear()>=c()(new Date).dayOfYear()&&c()(e.date).dayOfYear()<=c()(new Date).add(5,"days").dayOfYear()})),chartType:"BAR",width:500})))),n.a.createElement(m.a,{item:!0},n.a.createElement(s.a,{className:t.card,raised:!0},n.a.createElement(d.a,{title:"Recent Meal Plans",subheader:"What have you planned to eat"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(f.a,{component:"div",className:t.list},v.map((function(e){return n.a.createElement(h.a,{key:e._id,className:t.genericItem,divider:!0},n.a.createElement(g.a,{variant:"text",onClick:O.bind(void 0,e.start),className:t.button},n.a.createElement(b.a,{variant:"body2"},e.title," -"," "),n.a.createElement(b.a,{variant:"subtitle2",color:"textSecondary"},c()(e.start).format("ddd, hA"))))}))))))):a&&a._id&&0===a.timelineSnippets.ENTRIES.length&&0===a.timelineSnippets.DAYS.length?n.a.createElement("div",null,n.a.createElement(b.a,{variant:"body2",gutterBottom:!0}," ","No entries have been made to your selected tracker."),n.a.createElement(g.a,{variant:"contained",onClick:e.redirectToAddDietEntry?e.redirectToAddDietEntry:C,className:t.button}," ","Add a new Diet Entry"," "),n.a.createElement(g.a,{variant:"contained",onClick:e.redirectToAddMealPlan?e.redirectToAddMealPlan:C,className:t.button}," ","Add a new Meal Plan"," ")):n.a.createElement("div",null,n.a.createElement(b.a,{variant:"body2",gutterBottom:!0}," ","Default tracker has not been set. Please select one of your existing trackers or create a new one."),n.a.createElement(g.a,{variant:"contained",onClick:function(){r.push("/tracker/startSelectTracker")},className:t.button}," ","Start/Select Tracker"," ")))}},692:function(e,t,a){},740:function(e,t,a){"use strict";a.r(t);var r=a(30),n=a(31),o=a(34),i=a(32),c=a(33),l=a(0),s=a.n(l),d=a(39),u=a(60),p=a(26),m=a(71),f=a(96),h=a(662),g=a(11),b=a.n(g),y=a(13),v=a(12),E=a(113),S=a(6),k=a(76),D=a(98),O=a(9),C=a(191),N=a(193),T=a(630),w=a(632),M=Array(180).fill(1).map((function(e,t){return{value:e+t,label:e+t,name:"tracker_lengthValue"}})),j=["days","weeks","months","years"].map((function(e){return{value:e,label:e,name:"tracker_lengthUnit"}})),P=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={default_tracker:void 0,tracker_title:"",tracker_goal:"",tracked_meals:["all"],tracker_lengthValue:"30",tracker_lengthUnit:"days",trackedMealsOptions:["all","breakfast","lunch","evening snack","dinner","midnight snack"].map((function(e){return{value:e,label:e,name:"tracked_meals",key:e}})),availableTrackers:[]},a.componentDidUpdate=function(e,t){if(e.allTrackers!==a.props.allTrackers&&a.props.allTrackers){var r=a.props.allTrackers.map((function(e){return{value:e._id,label:e.title,name:"default_tracker"}}));a.setState({availableTrackers:r})}e.successDataTrackerSync!==a.props.successDataTrackerSync&&a.props.successDataTrackerSync&&a.props.history.push("/tracker/timeline")},a.handleCreateCustomOption=function(e){var t=[].concat(Object(E.a)(a.state.trackedMealsOptions),[e]);a.setState({trackedMealsOptions:t})},a.handleRemoveCustomOption=function(e){var t=a.state.trackedMealsOptions.filter((function(t){return t.key!==e.key}));a.setState({trackedMealsOptions:t})},a.handleChange=function(e){e&&a.setState(Object(v.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.requestStartNewTracker=function(e){e.preventDefault();var t=a.state,r=t.tracker_title,n=t.tracker_goal,o=t.tracked_meals,i=t.tracker_lengthValue,c=t.tracker_lengthUnit,l=t.trackedMealsOptions;a.props.handleStartNewTracker({tracker_title:r,tracker_goal:n,tracked_meals:o,tracker_lengthValue:i,tracker_lengthUnit:c,trackedMealsOptions:l})},a.requestSelectTracker=function(e){e.preventDefault(),a.state.default_tracker&&a.props.handleSelectTracker(a.state.default_tracker)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.allTrackers&&this.props.lastUsedDefaultTracker&&this.props.allTrackers.find((function(t){return t._id===e.props.lastUsedDefaultTracker}))&&this.setState({default_tracker:this.props.lastUsedDefaultTracker}),this.props.allTrackers){var t=this.props.allTrackers.map((function(e){return{value:e._id,label:e.title,name:"default_tracker"}}));this.setState({availableTrackers:t})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.successDataTrackerSync,r=e.errorMessageTrackerSync,n=this.state,o=n.default_tracker,i=n.tracker_title,c=n.tracker_goal,l=n.tracked_meals,d=n.tracker_lengthValue,u=n.tracker_lengthUnit,p=n.trackedMealsOptions,m=n.availableTrackers;return s.a.createElement("div",null,s.a.createElement(k.a,{className:t.rootPaper},s.a.createElement(O.a,{variant:"h5",gutterBottom:!0},"Select or Setup a new Diet Tracker"),s.a.createElement("form",{className:t.inputForm,onSubmit:this.requestSelectTracker},s.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Select from previously created Trackers"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-default-tracker",name:"default_tracker",label:"Set Default Tracker",options:m,value:o,updateSelection:this.handleChange}),s.a.createElement(N.a,null,"Select from your previous trackers for quick setup"))),s.a.createElement(D.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Select Tracker")),s.a.createElement(T.ValidatorForm,{className:t.inputForm,onSubmit:this.requestStartNewTracker,onError:function(e){return console.log(e)}},s.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Customize and create new Tracker"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.TextValidator,{className:t.textField,label:"Tracker Title",onChange:this.handleChange,name:"tracker_title",value:i||"",validators:["required","maxStringLength:50"],errorMessages:["this field is required","max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.TextValidator,{className:t.textField,label:"Tracker Goal",onChange:this.handleChange,name:"tracker_goal",value:c||"",validators:["maxStringLength:100"],errorMessages:["max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracked-meals",name:"tracked_meals",label:"Tracked Meals",options:p,createCustomOption:this.handleCreateCustomOption,removeCustomOption:this.handleRemoveCustomOption,value:l,updateSelection:this.handleChange,isMulti:!0,creatableSelect:!0}),s.a.createElement(N.a,null,"Planning enables tracking with reminders"))),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracker-lengthValue",name:"tracker_lengthValue",label:"Tracker Timeframe",options:M,value:d,updateSelection:this.handleChange}),s.a.createElement(N.a,null,"Setup timeframe for the tracker")),s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracker-lengthUnit",name:"tracker_lengthUnit",label:"Timeframe Unit",options:j,value:u,updateSelection:this.handleChange}),s.a.createElement(N.a,null,"Change tracker's timeframe unit"))),s.a.createElement(D.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Start New Tracker")),s.a.createElement(O.a,{variant:"body1",gutterBottom:!0,color:"secondary"},!a&&r?r:null)))}}]),t}(l.Component),A=Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:20,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},formControl:{marginRight:50},submitButton:{marginTop:20}}}))(P),x=a(644),R=a.n(x),_=a(719),I=a.n(_);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var B=Array(180).fill(1).map((function(e,t){return{value:e+t,label:e+t,name:"tracker_lengthValue"}})),V=["days","weeks","months","years"].map((function(e){return{value:e,label:e,name:"tracker_lengthUnit"}})),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={reminders:[],tracker_title:"",tracker_goal:"",tracked_meals:[],trackedMealsOptions:[],tracker_lengthValue:void 0,tracker_lengthUnit:void 0},a.componentDidUpdate=function(e,t){if(a.props.trackerPreferences&&a.props.trackerPreferences!==e.trackerPreferences){var r=a.props.trackerPreferences,n=r.tracker_title,o=r.tracker_goal,i=r.reminders,c=r.tracked_meals,l=r.trackedMealsOptions,s=r.tracker_lengthValue,d=r.tracker_lengthUnit;a.setState({tracker_title:n,tracker_goal:o,reminders:i,tracked_meals:c,trackedMealsOptions:l,tracker_lengthValue:s,tracker_lengthUnit:d})}},a.handleChange=function(e){e&&a.setState(Object(v.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.handleCreateCustomOption=function(e){var t=[].concat(Object(E.a)(a.state.trackedMealsOptions),[e]);a.setState({trackedMealsOptions:t})},a.handleRemoveCustomOption=function(e){var t=a.state.trackedMealsOptions.filter((function(t){return t.key!==e.key}));a.setState({trackedMealsOptions:t})},a.onTimePickerChange=function(e,t){console.log(e);var r=a.state.reminders.map((function(a){return a.id===t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{value:e}):a}));a.setState({reminders:r})},a.handleRemoveReminder=function(e){var t=a.state.reminders.filter((function(t){return t.id!==e}));a.setState({reminders:t})},a.handleAddReminder=function(){var e=[].concat(Object(E.a)(a.state.reminders),[{id:R()(),time:"10:00"}]);a.setState({reminders:e})},a.saveTrackerPreferences=function(e){e.preventDefault(),console.log(a.state),a.props.updateTrackerPreferences(a.state)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(this.props.trackerPreferences){var e=this.props.trackerPreferences,t=e.tracker_title,a=e.tracker_goal,r=e.reminders,n=e.tracked_meals,o=e.trackedMealsOptions,i=e.tracker_lengthValue,c=e.tracker_lengthUnit;this.setState({tracker_title:t,tracker_goal:a,reminders:r,tracked_meals:n,trackedMealsOptions:o,tracker_lengthValue:i,tracker_lengthUnit:c})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.reminders,n=a.tracker_title,o=a.tracker_goal,i=a.tracked_meals,c=a.trackedMealsOptions,l=a.tracker_lengthValue,d=a.tracker_lengthUnit;return s.a.createElement("div",null,s.a.createElement(k.a,{className:t.rootPaper},s.a.createElement(O.a,{variant:"h5",gutterBottom:!0},"Edit"," ",this.props.trackerPreferences&&this.props.trackerPreferences.tracker_title||"tracker"," ","preferences"),s.a.createElement(T.ValidatorForm,{className:t.inputForm,onSubmit:this.saveTrackerPreferences,onError:function(e){return console.log(e)}},s.a.createElement(O.a,{variant:"body1",gutterBottom:!0},"Update tracker preferences and reminder settings"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.TextValidator,{className:t.textField,label:"Tracker Title",onChange:this.handleChange,name:"tracker_title",value:n||"",validators:["required","maxStringLength:50"],errorMessages:["this field is required","max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.TextValidator,{className:t.textField,label:"Tracker Goal",onChange:this.handleChange,name:"tracker_goal",value:o||"",validators:["maxStringLength:100"],errorMessages:["max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracked-meals",name:"tracked_meals",label:"Tracked Meals",options:c,createCustomOption:this.handleCreateCustomOption,removeCustomOption:this.handleRemoveCustomOption,value:i,updateSelection:this.handleChange,isMulti:!0,creatableSelect:!0}),s.a.createElement(N.a,null,"Planning enables tracking with reminders"))),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracker-lengthValue",name:"tracker_lengthValue",label:"Tracker Timeframe",options:B,value:l,updateSelection:this.handleChange}),s.a.createElement(N.a,null,"Setup timeframe for the tracker")),s.a.createElement(C.a,{className:t.formControl},s.a.createElement(w.a,{id:"select-tracker-lengthUnit",name:"tracker_lengthUnit",label:"Timeframe Unit",options:V,value:d,updateSelection:this.handleChange}),s.a.createElement(N.a,null,"Change tracker's timeframe unit"))),s.a.createElement("div",{className:t.reminderGroup},r.map((function(a,r){return s.a.createElement(C.a,{className:t.reminderFormControl,key:r},s.a.createElement(I.a,{onChange:function(t){return e.onTimePickerChange(t,a.id)},value:a.time,format:"hh:mm a"}),s.a.createElement(D.a,{type:"button",variant:"outlined",className:t.removeButton,onClick:e.handleRemoveReminder.bind(e,a.id)},"Remove"))})),s.a.createElement(D.a,{type:"button",variant:"outlined",onClick:this.handleAddReminder},"Add New Reminder")),s.a.createElement(D.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Save Tracker Preferences"))))}}]),t}(l.Component),U=Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:20,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},reminderGroup:{width:"90%",marginTop:20,marginBottom:20,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"flex-start"},formControl:{marginRight:50},reminderFormControl:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginBottom:20},removeButton:{marginLeft:50},submitButton:{marginTop:20}}}))(L),Y=a(641),z=a(146),H=a(1),G=a.n(H),W=a(4),q="PREV",K="NEXT",X={MONTH:"month",WEEK:"week",DAY:"day",AGENDA:"agenda"},Q=Object.keys(X).map((function(e){return X[e]})),J=G.a.oneOfType([G.a.string,G.a.func]);G.a.any,G.a.func,G.a.oneOfType([G.a.arrayOf(G.a.oneOf(Q)),G.a.objectOf((function(e,t){var a=-1!==Q.indexOf(t)&&"boolean"===typeof e[t];if(a)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return G.a.elementType.apply(G.a,[e,t].concat(n))}))]),G.a.oneOfType([G.a.oneOf(["overlap","no-overlap"]),G.a.func]);function Z(e,t){var a=null;return"function"===typeof t?a=t(e):"string"===typeof t&&"object"===typeof e&&null!=e&&t in e&&(a=e[t]),a}var $=function(e){return function(t){return Z(t,e)}},ee=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleResizeUp=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","UP"))},a.handleResizeDown=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","DOWN"))},a.handleResizeLeft=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","LEFT"))},a.handleResizeRight=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","RIGHT"))},a.handleStartDragging=function(e){0===e.button&&a.context.draggable.onBeginAction(a.props.event,"move")},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"renderAnchor",value:function(e){var t="Up"===e||"Down"===e?"ns":"ew";return s.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-anchor"),onMouseDown:this["handleResize".concat(e)]},s.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-icon")}))}},{key:"render",value:function(){var e=this.props,t=e.event,a=e.type,r=e.continuesPrior,n=e.continuesAfter,o=this.props.children;if(t.__isPreview)return s.a.cloneElement(o,{className:Object(W.default)(o.props.className,"rbc-addons-dnd-drag-preview")});var i=this.context.draggable,c=i.draggableAccessor,l=i.resizableAccessor,d=!c||!!Z(t,c);if(!d)return o;var u=!l||!!Z(t,l);if(u||d){var p={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(u){var m=null,f=null;"date"===a?(m=!r&&this.renderAnchor("Left"),f=!n&&this.renderAnchor("Right")):(m=!r&&this.renderAnchor("Up"),f=!n&&this.renderAnchor("Down"));var h=this.props,g=h.isMonthDateCellWrapper,y=h.mouseMoveDateCell,v="object"!==typeof t.start?new Date(b()(t.start)):t.start,E=g&&new Date(b()(y.value)).getDate()===v.getDate(),S={padding:"2px",transition:"all 0.1s ease-out",visibility:E?"hidden":"visible",display:E?"none":"block",borderRadius:"5px",opacity:1};p.children=s.a.createElement("div",{className:Object(W.default)("rbc-addons-dnd-resizable",t.className),style:S},m,o.props.children,f)}i.dragAndDropAction.interacting&&i.dragAndDropAction.event===t&&(p.className=Object(W.default)(o.props.className,"rbc-addons-dnd-dragged-event")),o=s.a.cloneElement(o,p)}return o}}]),t}(s.a.Component);ee.contextTypes={draggable:G.a.shape({onStart:G.a.func,onEnd:G.a.func,onBeginAction:G.a.func,draggableAccessor:J,resizableAccessor:J,dragAndDropAction:G.a.object})};var te=Object(d.b)((function(e){return{mouseMoveDateCell:e.uiState.uiStateHelperOne.uiState,isMonthDateCellWrapper:e.uiState.uiStateHelperOne.isVisible}}))(ee),ae=a(245),re=a(629),ne={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function oe(e,t){var a=re.startOf(e,t);return re.eq(a,e)?a:re.add(a,1,t)}function ie(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,n=[];re.lte(r,t,a);)n.push(r),r=re.add(r,1,a);return n}function ce(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=re.startOf(e,"day"),e=re.hours(e,re.hours(t)),e=re.minutes(e,re.minutes(t)),e=re.seconds(e,re.seconds(t)),re.milliseconds(e,re.milliseconds(t)))}function le(e){return 0===re.hours(e)&&0===re.minutes(e)&&0===re.seconds(e)&&0===re.milliseconds(e)}function se(e,t,a){return a&&"milliseconds"!==a?Math.round(Math.abs(+re.startOf(e,a)/ne[a]-+re.startOf(t,a)/ne[a])):Math.abs(+e-+t)}var de=a(23),ue=a(639),pe=a(663),me=a(648);function fe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return Object(me.default)(a,e,t,{passive:!1})}function he(e,t){var a=t.clientX,r=t.clientY,n=document.elementFromPoint(a,r);return Object(pe.default)(n,".rbc-event",e)}function ge(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}function be(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ye(e),n=r.top,o=r.left,i=r.right,c=void 0===i?o:i,l=r.bottom,s=void 0===l?n:l,d=ye(t),u=d.top,p=d.left,m=d.right,f=void 0===m?p:m,h=d.bottom;return!(s-a<u||n+a>(void 0===h?u:h)||c-a<p||o+a>f)}function ye(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),a=t.left+ve("left"),r=t.top+ve("top");return{top:r,left:a,right:(e.offsetWidth||0)+a,bottom:(e.offsetHeight||0)+r}}function ve(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var Ee=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.global,o=void 0!==n&&n,i=a.longPressThreshold,c=void 0===i?250:i;Object(r.a)(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=fe("touchmove",(function(){}),window),this._removeKeyDownListener=fe("keydown",this._keyListener),this._removeKeyUpListener=fe("keyup",this._keyListener),this._removeDropFromOutsideListener=fe("drop",this._dropFromOutsideListener),this._onDragOverfromOutisde=fe("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Object(n.a)(e,[{key:"on",value:function(e,t){var a=this._listeners[e]||(this._listeners[e]=[]);return a.push(t),{remove:function(){var e=a.indexOf(t);-1!==e&&a.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var n,o=this._listeners[e]||[];return o.forEach((function(e){void 0===n&&(n=e.apply(void 0,a))})),n}},{key:"teardown",value:function(){this.isDetached=!0,this.listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&be(t,ye(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var a=this,r=null,n=null,o=null,i=function(t){r=setTimeout((function(){l(),e(t)}),a.longPressThreshold),n=fe("touchmove",(function(){return l()})),o=fe("touchend",(function(){return l()}))},c=fe("touchstart",i),l=function(){r&&clearTimeout(r),n&&n(),o&&o(),r=null,n=null,o=null};return t&&i(t),function(){l(),c()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=fe("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=fe("mousedown",e._handleInitialEvent)})),a=fe("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),a()}}},{key:"_dropFromOutsideListener",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:a,y:r,clientX:n,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:a,y:r,clientX:n,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(!this.isDetached){var t,a=ge(e),r=a.clientX,n=a.clientY,o=a.pageX,i=a.pageY,c=this.container();if(3!==e.which&&2!==e.button&&(s=r,d=n,!(l=c)||Object(ue.default)(l,document.elementFromPoint(s,d)))){var l,s,d;if(!this.globalMouse&&c&&!Object(ue.default)(c,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==typeof e&&(e={top:e,left:e,right:e,bottom:e});return e}(0),p=u.top,m=u.left,f=u.bottom,h=u.right;if(!be({top:(t=ye(c)).top-p,left:t.left-m,bottom:t.bottom+f,right:t.right+h},{top:i,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:i,clientX:r,clientY:n}))switch(e.type){case"mousedown":this._removeEndListener=fe("mouseup",this._handleTerminatingEvent),this._onEscListener=fe("keydown",this._handleTerminatingEvent),this._removeMoveListener=fe("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=fe("touchend",this._handleTerminatingEvent),this._removeMoveListener=fe("touchmove",this._handleMoveEvent)}}}}},{key:"_handleTerminatingEvent",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var n=!this.container||Object(ue.default)(this.container(),e.target),o=this._selectRect,i=this.isClick(a,r);return this._initialEventData=null,"Escape"===e.key?this.emit("reset"):n?i&&n?this._handleClickEvent(e):i?void 0:this.emit("select",o):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:r,clientX:n,clientY:o})):(this._lastClickData={timestamp:i},this.emit("click",{x:a,y:r,clientX:n,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,a=t.x,r=t.y,n=ge(e),o=n.pageX,i=n.pageY,c=Math.abs(a-o),l=Math.abs(r-i),s=Math.min(o,a),d=Math.min(i,r),u=this.selecting;(!this.isClick(o,i)||u||c||l)&&(this.selecting=!0,this._selectRect={top:d,left:s,x:o,y:i,right:s+c,bottom:d+l},u||this.emit("selectStart",this._initialEventData),this.isClick(o,i)||this.emit("selecting",this._selectRect),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var a=this._initialEventData,r=a.x,n=a.y;return!a.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-n)<=5}}]),e}();function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function De(e){return"string"===typeof e?e:e+"%"}var Oe=function(e){var t,a=e.style,r=e.className,n=e.event,o=e.accessors,i=e.rtl,c=e.selected,l=e.label,d=e.continuesEarlier,u=e.continuesLater,p=e.getters,m=e.onClick,f=e.onDoubleClick,h=e.components,g=h.event,b=h.eventWrapper,y=o.title(n),E=o.tooltip(n),S=o.end(n),k=o.start(n),D=p.eventProp(n,k,S,c),O=a.height,C=a.top,N=a.width,T=a.xOffset,w=[s.a.createElement("div",{key:"1",className:"rbc-event-label"},l),s.a.createElement("div",{key:"2",className:"rbc-event-content"},g?s.a.createElement(g,{event:n,title:y}):y)];return s.a.createElement(b,Object.assign({type:"time"},e),s.a.createElement("div",{onClick:m,onDoubleClick:f,style:ke({},D.style,(t={top:De(C)},Object(v.a)(t,i?"right":"left",De(T)),Object(v.a)(t,"width",De(N)),Object(v.a)(t,"height",De(O)),t)),title:E?("string"===typeof l?l+": ":"")+E:void 0,className:Object(W.default)("rbc-event",n.className,r,D.className,{"rbc-selected":c,"rbc-event-continues-earlier":d,"rbc-event-continues-later":u})},w))};function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te={start:$((function(e){return e.start})),end:$((function(e){return e.end}))},we=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t.filter(Boolean).map(l.createFactory),n=function(e){var t=e.children,a=Object(z.a)(e,["children"]);return r.reduceRight((function(e,t){return t(a,e)}),t)};return n},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.keys(t),r=Ne({},e);return a.forEach((function(a){r[a]=e[a]?we(e[a],t[a]):t[a]})),r};var je=function(e){return e.children};function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=function(e,t){var a=t.x,r=t.y,n=e.left,o=e.right,i=e.top;return a<o+10&&a>n&&r>i},Re=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleMove=function(e,t){var r=a.context.draggable.dragAndDropAction.event,n=a.props,o=n.accessors,i=n.slotMetrics;if(xe(t,e)){var c=i.closestSlotFromPoint({y:e.y-a.eventOffsetTop,x:e.x},t),l=o.start(r),s=o.end(r),d=re.add(c,se(l,s,"minutes"),"minutes");a.update(r,i.getRange(c,d,!1,!0))}else a.reset()},a.handleDropFromOutside=function(e,t){var r=a.props,n=r.slotMetrics,o=r.resource,i=n.closestSlotFromPoint({y:e.y,x:e.x},t);a.context.draggable.onDropFromOutside({start:i,end:n.nextSlot(i),allDay:!1,resource:o})},a._selectable=function(){var e=Object(de.findDOMNode)(Object(ae.a)(a)),t=a._selector=new Ee((function(){return e.closest(".rbc-time-view")}));t.on("beforeSelect",(function(t){var r=a.context.draggable.dragAndDropAction;if(!r.action)return!1;if("resize"===r.action)return xe(ye(e),t);var n=he(e,t);if(!n)return!1;a.eventOffsetTop=t.y-ye(n).top})),t.on("selecting",(function(t){var r=ye(e),n=a.context.draggable.dragAndDropAction;"move"===n.action&&a.handleMove(t,r),"resize"===n.action&&a.handleResize(t,r)})),t.on("dropFromOutside",(function(t){if(a.context.draggable.onDropFromOutside){var r=ye(e);xe(r,t)&&a.handleDropFromOutside(t,r)}})),t.on("dragOver",(function(t){if(a.context.draggable.dragFromOutsideItem){var r=ye(e);a.handleDropFromOutside(t,r)}})),t.on("selectStart",(function(){return a.context.draggable.onStart()})),t.on("select",(function(t){var r=ye(e);a.state.event&&xe(r,t)&&a.handleInteractionEnd()})),t.on("click",(function(){return a.context.draggable.onEnd(null)})),t.on("reset",(function(){a.reset(),a.context.draggable.onEnd(null)}))},a.handleInteractionEnd=function(){var e=a.props.resource,t=a.state.event;a.reset(),a.context.draggable.onEnd({start:t.start,end:t.end,resourceId:e})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a.state={},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(e,t){var a=t.startDate,r=t.endDate,n=t.top,o=t.height,i=this.state.event;i&&a===i.start&&r===i.end||this.setState({top:n,height:o,event:Ae({},e,{start:a,end:r})})}},{key:"handleResize",value:function(e,t){var a,r,n=this.props,o=n.accessors,i=n.slotMetrics,c=this.context.draggable.dragAndDropAction,l=c.event,s=c.direction,d=i.closestSlotFromPoint(e,t);"UP"===s?(r=o.end(l),a=re.min(d,i.closestSlotFromDate(r,-1))):"DOWN"===s&&(a=o.start(l),r=re.max(d,i.closestSlotFromDate(a))),this.update(l,i.getRange(a,r))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.accessors,r=e.components,n=e.getters,o=e.slotMetrics,i=e.localizer,c=this.state,l=c.event,d=c.top,u=c.height;if(!l)return t;var p,m=t.props.children,f=l.start,h=l.end,g="eventTimeRangeFormat",b=o.startsBeforeDay(f),y=o.startsAfterDay(h);return b?g="eventTimeRangeEndFormat":y&&(g="eventTimeRangeStartFormat"),p=b&&y?i.messages.allDay:i.format({start:f,end:h},g),s.a.cloneElement(t,{children:s.a.createElement(s.a.Fragment,null,m,l&&s.a.createElement(Oe,{event:l,label:p,className:"rbc-addons-dnd-drag-preview",style:{top:d,height:u,width:100},getters:n,components:Ae({},r,{eventWrapper:je}),accessors:Ae({},a,{},Te),continuesEarlier:b,continuesLater:y}))})}}]),t}(s.a.Component);Re.contextTypes={draggable:G.a.shape({onStart:G.a.func,onEnd:G.a.func,onDropFromOutside:G.a.func,onBeginAction:G.a.func,dragAndDropAction:G.a.object,dragFromOutsideItem:G.a.func})};var _e=Re;function Ie(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)}function Fe(e,t){return(e.right-e.left)/t}function Be(e,t,a,r){var n=Fe(e,r);return a?r-1-Math.floor((t-e.left)/n):Math.floor((t-e.left)/n)}function Ve(e,t){var a=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&a>=e.left&&a<=e.right}var Le=a(723),Ue=a.n(Le);function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";return{first:e[0],last:re.add(e[e.length-1],1,t)}}function ze(e,t,a){var r=Ye(t),n=r.first,o=r.last,i=se(n,o,"day"),c=re.max(re.startOf(a.start(e),"day"),n),l=re.min(oe(a.end(e),"day"),o),s=Ue()(t,(function(e){return re.eq(e,c,"day")})),d=se(c,l,"day");return d=Math.min(d,i),{event:e,span:d=Math.max(d,1),left:s+1,right:Math.max(s+d,1)}}function He(e,t,a,r){var n=re.startOf(r.start(e),"day"),o=r.end(e),i=re.lte(n,a,"day"),c=re.eq(n,o,"minutes")?re.gte(o,t,"minutes"):re.gt(o,t,"minutes");return i&&c}function Ge(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ke=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,r=e.event,n=e.selected,o=e.isAllDay,i=e.onSelect,c=e.onDoubleClick,l=e.localizer,d=e.continuesPrior,u=e.continuesAfter,p=e.accessors,m=e.getters,f=e.children,h=e.components,g=h.event,b=h.eventWrapper,y=e.slotStart,v=e.slotEnd,E=Object(z.a)(e,["style","className","event","selected","isAllDay","onSelect","onDoubleClick","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"]),S=p.title(r),k=p.tooltip(r),D=p.end(r),O=p.start(r),C=p.allDay(r),N=o||C||se(O,oe(D,"day"),"day")>1,T=m.eventProp(r,O,D,n),w=s.a.createElement("div",{className:"rbc-event-content",title:k||void 0},g?s.a.createElement(g,{event:r,continuesPrior:d,continuesAfter:u,title:S,isAllDay:C,localizer:l,slotStart:y,slotEnd:v}):S);return s.a.createElement(b,Object.assign({},this.props,{type:"date"}),s.a.createElement("div",Object.assign({},E,{tabIndex:0,style:qe({},T.style,{},t),className:Object(W.default)("rbc-event",r.className,a,T.className,{"rbc-selected":n,"rbc-event-allday":N,"rbc-event-continues-prior":d,"rbc-event-continues-after":u}),onClick:function(e){return i&&i(r,e)},onDoubleClick:function(e){return c&&c(r,e)}}),"function"===typeof f?f(w):w))}}]),t}(s.a.Component),Xe=(G.a.object.isRequired,G.a.object,G.a.bool,G.a.object.isRequired,G.a.object.isRequired,G.a.object.isRequired,G.a.object.isRequired,G.a.func,G.a.func,{segments:[],selected:{}}),Qe=function(e,t){var a=e.selected,r=e.accessors,n=e.getters,o=e.onSelect,i=e.onDoubleClick,c=e.localizer,l=e.slotMetrics,d=e.components,u=l.continuesPrior(t),p=l.continuesAfter(t);return s.a.createElement(Ke,{event:t,getters:n,localizer:c,accessors:r,components:d,onSelect:o,onDoubleClick:i,continuesPrior:u,continuesAfter:p,slotStart:l.first,slotEnd:l.last,selected:Ie(t,a)})},Je=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",n=arguments.length>4?arguments[4]:void 0,o=Math.abs(t)/e*100+"%";return s.a.createElement("div",{key:a,className:Object(W.default)("rbc-row-segment",n.className),style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},r)};function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var $e=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.segments,r=t.slotMetrics.slots,n=t.className,o=1;return s.a.createElement("div",{className:Object(W.default)(n,"rbc-row")},a.reduce((function(t,a,n){var i=a.event,c=a.left,l=a.right,s=a.span,d="_lvl_"+n,u=c-o,p=Qe(e.props,i);return u&&t.push(Je(r,u,"".concat(d,"_gap")," ",i)),t.push(Je(r,s,d,p,i)),o=l+1,t}),[]))}}]),t}(s.a.Component);$e.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Xe);var et=$e;function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleMove=function(e,t,r){var n=e.x,o=e.y,i=a.context.draggable.dragAndDropAction.event,c=void 0===i?r:i,l=a.props.slotMetrics,s=a.props.accessors;if(c){var d=ye(t);if(Ve(d,{x:n,y:o})){var u=ce(l.getDateForSlot(Be(d,n,!1,l.slots)),s.start(c)),p=re.add(u,se(s.start(c),s.end(c),"minutes"),"minutes");a.update(c,u,p)}else a.reset()}},a.handleDropFromOutside=function(e,t){if(a.context.draggable.onDropFromOutside){var r=a.props.slotMetrics,n=r.getDateForSlot(Be(t,e.x,!1,r.slots));a.context.draggable.onDropFromOutside({start:n,end:re.add(n,1,"day"),allDay:!1})}},a.handleDragOverFromOutside=function(e,t){var r=e.x,n=e.y;a.context.draggable.dragFromOutsideItem&&a.handleMove({x:r,y:n},t,a.context.draggable.dragFromOutsideItem())},a._selectable=function(){var e=Object(de.findDOMNode)(Object(ae.a)(a)).closest(".rbc-month-row, .rbc-allday-cell"),t=e.closest(".rbc-month-view, .rbc-time-view"),r=a._selector=new Ee((function(){return t}));r.on("beforeSelect",(function(t){var r=a.props.isAllDay,n=a.context.draggable.dragAndDropAction.action;return"move"===n||"resize"===n&&(!r||Ve(ye(e),t))})),r.on("selecting",(function(t){var r=ye(e),n=a.context.draggable.dragAndDropAction;"move"===n.action&&a.handleMove(t,r),"resize"===n.action&&a.handleResize(t,r)})),r.on("selectStart",(function(){return a.context.draggable.onStart()})),r.on("select",(function(t){var r=ye(e);a.state.segment&&Ve(r,t)&&a.handleInteractionEnd()})),r.on("dropFromOutside",(function(t){if(a.context.draggable.onDropFromOutside){var r=ye(e);Ve(r,t)&&a.handleDropFromOutside(t,r)}})),r.on("dragOverFromOutside",(function(t){if(a.context.draggable.dragFromOutsideItem){var r=ye(e);a.handleDragOverFromOutside(t,r)}})),r.on("click",(function(){return a.context.draggable.onEnd(null)})),r.on("reset",(function(){a.reset(),a.context.draggable.onEnd(null)}))},a.handleInteractionEnd=function(){var e=a.props,t=e.resourceId,r=e.isAllDay,n=a.state.segment.event;a.reset(),a.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t,isAllDay:r})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a.state={},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(e,t,a){var r=ze(at({},e,{end:a,start:t,__isPreview:!0}),this.props.slotMetrics.range,Te),n=this.state.segment;n&&r.span===n.span&&r.left===n.left&&r.right===n.right||this.setState({segment:r})}},{key:"handleResize",value:function(e,t){var a=this.context.draggable.dragAndDropAction,r=a.event,n=a.direction,o=this.props,i=o.accessors,c=o.slotMetrics,l=function(e,t){var a=t.start(e),r=t.end(e);return re.eq(a,r,"minutes")&&0===a.getMinutes()&&(r=re.add(r,1,"day")),{start:a,end:r}}(r,i),s=l.start,d=l.end,u=ye(t),p=Ve(u,e);if("RIGHT"===n){if(p){if(c.last<s)return this.reset();d=re.add(c.getDateForSlot(Be(u,e.x,!1,c.slots)),1,"day")}else{if(!(re.inRange(s,c.first,c.last)||u.bottom<e.y&&+c.first>+s))return void this.setState({segment:null});d=re.add(c.last,1,"milliseconds")}d=re.max(d,re.add(s,1,"day"))}else if("LEFT"===n){if(p){if(c.first>d)return this.reset();s=c.getDateForSlot(Be(u,e.x,!1,c.slots))}else{if(!(re.inRange(d,c.first,c.last)||u.top>e.y&&+c.last<+d))return void this.reset();s=re.add(c.first,-1,"milliseconds")}s=re.min(re.add(d,-1,"day"),s)}this.update(r,s,d)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.accessors,r=this.state.segment;return s.a.createElement("div",{className:"rbc-addons-dnd-row-body"},t,r&&s.a.createElement(et,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[r],accessors:at({},a,{},Te)})))}}]),t}(s.a.Component);rt.contextTypes={draggable:G.a.shape({onStart:G.a.func,onEnd:G.a.func,dragAndDropAction:G.a.object,onDropFromOutside:G.a.func,onBeginAction:G.a.func,dragFromOutsideItem:G.a.func})};var nt=rt;function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var it=function(e){var t=function(t){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];(t=Object(o.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(c)))).defaultOnDragOver=function(e){e.preventDefault()},t.handleBeginAction=function(e,a,r){var n=t.props.onDragStart;t.setState({event:e,action:a,direction:r}),n&&n({event:e,action:a,direction:r})},t.handleInteractionStart=function(){!1===t.state.interacting&&t.setState({interacting:!0})},t.handleInteractionEnd=function(e){var a=t.state,r=a.action,n=a.event;r&&(t.setState({action:null,event:null,interacting:!1,direction:null}),null!=e&&(e.event=n,"move"===r&&t.props.onEventDrop(e),"resize"===r&&t.props.onEventResize(e)))};var s=t.props.components;return t.components=Me(s,{eventWrapper:te,eventContainerWrapper:_e,weekWrapper:nt}),t.state={interacting:!1},t}return Object(c.a)(a,t),Object(n.a)(a,[{key:"getChildContext",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var t=this.props,a=t.selectable,r=t.elementProps,n=Object(z.a)(t,["selectable","elementProps"]),o=this.state.interacting;delete n.onEventDrop,delete n.onEventResize,n.selectable=!!a&&"ignoreEvents";var i=this.props.onDropFromOutside?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):r;return n.className=Object(W.default)(n.className,"rbc-addons-dnd",!!o&&"rbc-addons-dnd-is-dragging"),s.a.createElement(e,Object.assign({},n,{elementProps:i,components:this.components}))}}]),a}(s.a.Component);return t.defaultProps={components:{},draggableAccessor:null,resizableAccessor:null,step:30},t.contextTypes={dragDropManager:G.a.object},t.childContextTypes={draggable:G.a.shape({onStart:G.a.func,onEnd:G.a.func,onBeginAction:G.a.func,onDropFromOutside:G.a.func,dragFromOutsideItem:G.a.func,draggableAccessor:J,resizableAccessor:J,dragAndDropAction:G.a.object})},t},ct=(a(640),a(724),a(105)),lt=a(845),st=a(846),dt=a(725),ut=a.n(dt),pt=a(726),mt=a.n(pt),ft=a(153),ht=a.n(ft),gt=a(134),bt=a.n(gt),yt=a(77),vt=a(16),Et=Object(ct.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,position:"relative",width:"100%",minHeight:75},toolbar_container:{justifyContent:"space-between",alignItems:"center",textAlign:"center"},navigation_container:{justifyContent:"flex-start"},filter_container:{justifyContent:"flex-end"},labelDate:{fontSize:"1rem"},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textTransform:"capitalize",fontSize:"1rem"},labelFilterButton:{textTransform:"capitalize",fontSize:"1rem"},button_active:{backgroundColor:"#BBB"},add_dietEntry_fab:{position:"absolute",bottom:e.spacing(2),left:e.spacing(2)},add_mealPlan_fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),St=function(e,t){var a=Et(),r={prev:"",current:"Today",next:""};switch(e.view){case vt.f.AGENDA:case vt.f.DAY:r={prev:"".concat(b()(b()(e.date).subtract(1,"day")).format("Do")),current:"Today",next:"".concat(b()(b()(e.date).add(1,"day")).format("Do"))};break;case vt.f.WEEK:r={prev:"".concat(b()(b()(e.date).subtract(1,"week")).format("Wo")," wk"),current:"This Week",next:"".concat(b()(b()(e.date).add(1,"week")).format("Wo")," wk")};break;case vt.f.MONTH:r={prev:"".concat(b()(b()(e.date).subtract(1,"month")).format("MMM")),current:"This Month",next:"".concat(b()(b()(e.date).add(1,"month")).format("MMM"))};break;default:r={prev:"",current:"Today",next:""}}return s.a.createElement("div",{className:a.root},s.a.createElement(yt.a,{container:!0,spacing:2,className:a.toolbar_container},s.a.createElement(yt.a,{item:!0,xs:8,sm:5,className:a.navigation_container},s.a.createElement(lt.a,{"aria-label":"contained default button group"},s.a.createElement(D.a,{variant:"contained",className:a.button,onClick:function(){var t=e.date;switch(e.view){case vt.f.AGENDA:case vt.f.DAY:e.date.setDate(t.getDate()-1);break;case vt.f.WEEK:e.date.setDate(t.getDate()-7);break;case vt.f.MONTH:default:e.date.setYear(t.getFullYear()),e.date.setMonth(t.getMonth()-1),e.date.setDate(1)}e.onNavigate("prev"),e.updateCalendarDate(e.date)}},s.a.createElement(ht.a,null)," ",r.prev),s.a.createElement(D.a,{variant:"contained",className:a.button,onClick:function(){e.onNavigate("TODAY"),e.updateCalendarDate(new Date)}},r.current),s.a.createElement(D.a,{variant:"contained",className:a.button,onClick:function(){var t=e.date;switch(e.view){case vt.f.AGENDA:case vt.f.DAY:e.date.setDate(t.getDate()+1);break;case vt.f.WEEK:e.date.setDate(t.getDate()+7);break;case vt.f.MONTH:default:e.date.setYear(t.getFullYear()),e.date.setMonth(t.getMonth()+1),e.date.setDate(1)}e.onNavigate("next"),e.updateCalendarDate(e.date)}},r.next," ",s.a.createElement(bt.a,null)))),s.a.createElement(yt.a,{item:!0,xs:4,sm:2,className:a.label},s.a.createElement("label",{className:a.labelDate},function(){var t=b()(e.date);return s.a.createElement("span",null,s.a.createElement("b",null,t.format("MMMM")),e.view===vt.f.DAY||e.view===vt.f.AGENDA?s.a.createElement("span",null," ",t.format("Do"),","):null,s.a.createElement("span",null," ",t.format("YYYY")))}())),s.a.createElement(yt.a,{xs:12,sm:5,item:!0,className:a.filter_container},s.a.createElement(lt.a,{"aria-label":"contained default button group"},s.a.createElement(D.a,{variant:"contained",className:a.button&&e.view===vt.f.AGENDA?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.AGENDA),e.onView(vt.f.AGENDA)}},s.a.createElement("span",{className:a.labelFilterButton},"Entries")),s.a.createElement(D.a,{variant:"contained",className:a.button&&e.view===vt.f.DAY?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.DAY),e.onView(vt.f.DAY)}},s.a.createElement("span",{className:a.labelFilterButton},"Day")),s.a.createElement(D.a,{variant:"contained",className:a.button&&e.view===vt.f.WEEK?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.WEEK),e.onView(vt.f.WEEK)}},s.a.createElement("span",{className:a.labelFilterButton},"Week")),s.a.createElement(D.a,{variant:"contained",className:a.button&&e.view===vt.f.MONTH?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.MONTH),e.onView(vt.f.MONTH)}},s.a.createElement("span",{className:a.labelFilterButton},"Month")))),s.a.createElement(st.a,{"aria-label":"add entry",className:a.add_dietEntry_fab,color:"default",onClick:e.showAddDietEntryForm},s.a.createElement(ut.a,{color:"primary"})),s.a.createElement(st.a,{"aria-label":"add entry",className:a.add_mealPlan_fab,color:"default",onClick:e.showAddMealPlanForm},s.a.createElement(mt.a,{color:"primary"}))))},kt=a(55),Dt=a(683),Ot=a(645),Ct=a(634),Nt=a(727),Tt=a.n(Nt),wt=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},Mt=function(e,t,a,r){return"".concat(+re.startOf(e,"minutes"))+"".concat(+re.startOf(t,"minutes"))+"".concat(a,"-").concat(r)};var jt=a(690),Pt=a.n(jt),At=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,a=e.resource,r=e.group,n=e.getters,o=e.components,i=(o=void 0===o?{}:o).timeSlotWrapper,c=void 0===i?Pt.a:i;return s.a.createElement("div",{elevation:10,className:"rbc-timeslot-group"},r.map((function(e,r){var o=n?n.slotProp(e,a):{};return s.a.createElement(c,{key:r,value:e,resource:a},s.a.createElement("div",Object.assign({},o,{className:Object(W.default)("rbc-time-slot",o.className)}),t&&t(e,r)))})))}}]),t}(l.Component),xt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).renderSlot=function(e,t){if(0!==t)return null;var r=a.props,n=r.localizer,o=r.getNow,i=a.slotMetrics.dateIsInGroup(o(),t);return s.a.createElement("span",{className:Object(W.default)("rbc-label",i&&"rbc-now")},n.format(e,"timeGutterFormat"))};var d=a.props,u=d.min,p=d.max,m=d.timeslots,f=d.step;return a.slotMetrics=function e(t){for(var a=t.min,r=t.max,n=t.step,o=t.timeslots,i=Mt(a,r,n,o),c=re.startOf(a,"day"),l=wt(c,a),s=1+se(a,r,"minutes")+wt(a,r),d=se(c,a,"minutes")+l,u=Math.ceil(s/(n*o)),p=u*o,m=new Array(u),f=new Array(p),h=0;h<u;h++){m[h]=new Array(o);for(var g=0;g<o;g++){var b=h*o+g,y=b*n;f[b]=m[h][g]=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,d+y,0,0)}}var v=f.length*n;function E(e){var t=se(a,e,"minutes")+wt(a,e);return Math.min(t,s)}return f.push(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,d+v,0,0)),{groups:m,update:function(t){return Mt(t)!==i?e(t):this},dateIsInGroup:function(e,t){var a=m[t+1];return re.inRange(e,m[t][0],a?a[0]:r,"minutes")},nextSlot:function(e){var t=f[Math.min(f.indexOf(e)+1,f.length-1)];return t===e&&(t=re.add(e,n,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(f.length-1,Math.max(0,Math.floor(e*p)));return f[t]},closestSlotFromPoint:function(e,t){var a=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/a)},closestSlotFromDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(re.lt(e,a,"minutes"))return f[0];var r=se(a,e,"minutes");return f[(r-r%n)/n+t]},startsBeforeDay:function(e){return re.lt(e,a,"day")},startsAfterDay:function(e){return re.gt(e,r,"day")},startsBefore:function(e){return re.lt(ce(a,e),a,"minutes")},startsAfter:function(e){return re.gt(ce(r,e),r,"minutes")},getRange:function(e,t,o,i){o||(e=re.min(r,re.max(a,e))),i||(t=re.min(r,re.max(a,t)));var c=E(e),l=E(t),s=l-c<n&&!re.eq(r,t)?(c-n)/(n*p)*100:c/(n*p)*100;return{top:s,height:l/(n*p)*100-s,start:E(e),startDate:e,end:E(t),endDate:t}},getCurrentTimePosition:function(e){return E(e)/(n*p)*100}}}({min:u,max:p,timeslots:m,step:f}),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.min,a=e.max,r=e.timeslots,n=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:a,timeslots:r,step:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.resource,r=t.components;return s.a.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map((function(t,n){return s.a.createElement(At,{key:n,group:t,resource:a,components:r,renderSlot:e.renderSlot})})))}}]),t}(l.Component),Rt=a(646),_t=a(685),It=a(686);function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Bt=function(e,t){return e.left<=t&&e.right>=t},Vt=function(e,t){return e.range===t.range&&e.events===t.events};function Lt(){return Object(Ct.a)((function(e){for(var t=e.range,a=e.events,r=e.maxRows,n=e.minRows,o=e.accessors,i=Ye(t),c=i.first,l=i.last,s=a.map((function(e){return ze(e,t,o)})),d=function(e){var t,a,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],a=0;a<o.length&&Ge(r,o[a]);a++);a>=n?i.push(r):(o[a]||(o[a]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:i}}(s,Math.max(r-1,1)),u=d.levels,p=d.extra;u.length<n;)u.push([]);return{first:c,last:l,levels:u,extra:p,range:t,slots:t.length,clone:function(t){return Lt()(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return re.eq(t,e,"day")}))},getEventsForSlot:function(e){return s.filter((function(t){return Bt(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return re.lt(o.start(e),c,"day")},continuesAfter:function(e){var t=o.end(e);return re.eq(o.start(e),t,"minutes")?re.gte(t,l,"minutes"):re.gt(t,l,"minutes")}}}),Vt)}var Ut=a(731),Yt=a.n(Ut),zt=a(732),Ht=a.n(zt),Gt=a(734),Wt=a.n(Gt),qt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleSelectSlot=function(e){var t=a.props,r=t.range;(0,t.onSelectSlot)(r.slice(e.start,e.end+1),e)},a.handleShowMore=function(e,t){var r,n=a.props,o=n.range,i=n.onShowMore,c=a.slotMetrics(a.props),l=Object(It.a)(Object(de.findDOMNode)(Object(ae.a)(a)),".rbc-row-bg")[0];l&&(r=l.children[e-1]),i(c.getEventsForSlot(e),o[e-1],r,e,t)},a.createHeadingRef=function(e){a.headingRow=e},a.createEventRef=function(e){a.eventRow=e},a.getContainer=function(){var e=a.props.container;return e?e():Object(de.findDOMNode)(Object(ae.a)(a))},a.renderHeadingCell=function(e,t){var r=a.props,n=r.renderHeader,o=r.getNow;return n({date:e,key:"header_".concat(t),className:Object(W.default)("rbc-date-cell",re.eq(e,o(),"day")&&"rbc-now")})},a.renderDummy=function(){var e=a.props,t=e.className,r=e.range,n=e.renderHeader;return s.a.createElement("div",{className:t},s.a.createElement("div",{className:"rbc-row-content"},n&&s.a.createElement("div",{className:"rbc-row",ref:a.createHeadingRef},r.map(a.renderHeadingCell)),s.a.createElement("div",{className:"rbc-row",ref:a.createEventRef},s.a.createElement("div",{className:"rbc-row-segment"},s.a.createElement("div",{className:"rbc-event"},s.a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},a.slotMetrics=Lt(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"getRowLimit",value:function(){var e=Object(_t.a)(this.eventRow),t=this.headingRow?Object(_t.a)(this.headingRow):0,a=Object(_t.a)(Object(de.findDOMNode)(this))-t;return Math.max(Math.floor(a/e),1)}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.rtl,r=e.range,n=e.className,o=e.selected,i=e.selectable,c=e.renderForMeasure,l=e.accessors,d=e.getters,u=e.components,p=e.getNow,m=e.renderHeader,f=e.onSelect,h=e.localizer,g=e.onSelectStart,b=e.onSelectEnd,y=e.onDoubleClick,v=e.resourceId,E=e.longPressThreshold,S=e.isAllDay;if(c)return this.renderDummy();var k=this.slotMetrics(this.props),D=k.levels,O=k.extra,C=u.weekWrapper,N={selected:o,accessors:l,getters:d,localizer:h,components:u,onSelect:f,onDoubleClick:y,resourceId:v,slotMetrics:k};return s.a.createElement("div",{className:n},s.a.createElement(Yt.a,{date:t,getNow:p,rtl:a,range:r,selectable:i,container:this.getContainer,getters:d,onSelectStart:g,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:E}),s.a.createElement("div",{className:"rbc-row-content"},m&&s.a.createElement("div",{className:"rbc-row ",ref:this.createHeadingRef},r.map(this.renderHeadingCell)),s.a.createElement(C,Object.assign({isAllDay:S},N),D.map((function(e,t){return s.a.createElement(Ht.a,Object.assign({key:t,segments:e},N))})),!!O.length&&s.a.createElement(Wt.a,Object.assign({segments:O,onShowMore:this.handleShowMore},N)))))}}]),t}(s.a.Component);qt.defaultProps={minRows:0,maxRows:1/0};var Kt=qt,Xt=a(735),Qt=a.n(Xt),Jt=a(234),Zt=a(235),$t=Object(ct.a)((function(e){return{card:{width:"100%",height:"100%",backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.3s","&:hover":{backgroundColor:"rgba(135, 206, 250, 0.64)",zIndex:"1 !important"},boxSizing:"border-box",boxShadow:"16px 16px 16px 16px rgba(0, 0, 0, 0.2)"},cardContent:{padding:"0 !important",margin:0,width:"100%"},headerColorMealPlan:{backgroundColor:"rgba(255, 225, 220, 0.96)"},headerColorDietEntry:{backgroundColor:"rgba(255, 245, 220, 0.96)"},headerBody:{lineHeight:.8,fontWeight:"normal"},headerLabel:{marginTop:0,paddingTop:10}}})),ea=function(e){var t=e.label,a=$t(),r=vt.c.map((function(e){return e[vt.d]}));return s.a.createElement(Jt.a,{className:a.card,raised:!0},s.a.createElement(Zt.a,{className:Object(W.default)(a.cardContent,r[0]===t?a.headerColorMealPlan:a.headerColorDietEntry)},s.a.createElement(O.a,{variant:"caption"},t)))};function ta(e,t){e&&e.apply(null,[].concat(t))}var aa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleHeaderClick=function(e,t,r){r.preventDefault(),ta(a.props.onDrillDown,[e,t])},a.renderRow=function(e){var t=a.props,r=t.events,n=t.rtl,o=t.selectable,i=t.getNow,c=t.range,l=t.getters,d=t.localizer,u=t.accessors,p=t.components,m=u.resourceId(e),f=e?r.filter((function(e){return u.resource(e)===m})):r;return s.a.createElement(Kt,{isAllDay:!0,rtl:n,getNow:i,minRows:2,range:c,events:f,resourceId:m,className:"rbc-allday-cell",selectable:o,selected:a.props.selected,components:p,accessors:u,getters:l,localizer:d,onSelect:a.props.onSelectEvent,onDoubleClick:a.props.onDoubleClickEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold})},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"renderHeaderCells",value:function(e,t){var a=this,r=this.props,n=r.localizer,o=r.getDrilldownView,i=r.getNow,c=r.getters.dayProp,l=r.components.header,d=void 0===l?Qt.a:l,u=i();return e.map((function(e,r){var i=o(e),l=n.format(e,"dayFormat"),p=c(e),m=p.className,f=p.style,h=Object(v.a)({},vt.b,t),g=s.a.createElement(d,Object.assign({date:e,label:l},h,{localizer:n}));return s.a.createElement("div",{key:r,style:f,className:Object(W.default)("rbc-header",m,re.eq(e,u,"day")&&"rbc-today")},i?s.a.createElement(D.a,{variant:"text",style:{margin:0,padding:0,width:"100%",boxSizing:"border-box",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)"},href:"#",onClick:function(t){return a.handleHeaderClick(e,i,t)}},g):s.a.createElement("span",null,g))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,r=t.rtl,n=t.resources,o=t.range,i=t.events,c=t.getNow,l=t.accessors,d=t.selectable,u=t.components,p=t.getters,m=t.scrollRef,f=t.localizer,h=t.isOverflowing,g=t.components,b=g.timeGutterHeader,y=g.resourceHeader,v=void 0===y?ea:y,E={};h&&(E[r?"marginLeft":"marginRight"]="".concat(Object(Rt.a)(),"px"));var S=n.groupEvents(i);return s.a.createElement("div",{style:E,ref:m,className:Object(W.default)("rbc-time-header",h&&"rbc-overflowing")},s.a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},b&&s.a.createElement(b,null)),o.map((function(t,a){return n.map((function(a,n){var o=Object(kt.a)(a,2),i=o[0],m=o[1];return s.a.createElement("div",{className:"rbc-time-header-content",key:i||n},s.a.createElement("div",{className:"rbc-row rbc-time-header-cell"},e.renderHeaderCells([t],i)),s.a.createElement(Kt,{isAllDay:!0,rtl:r,getNow:c,minRows:2,range:[t],events:S.get(i)||[],resourceId:m&&i,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:u,accessors:l,getters:p,localizer:f,onSelect:e.props.onSelectEvent,onDoubleClick:e.props.onDoubleClickEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold}),m&&s.a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},s.a.createElement("div",{className:"rbc-header"},s.a.createElement(v,{index:n,label:l.resourceTitle(m),resource:m}))))}))})))}}]),t}(s.a.Component),ra={};var na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleScroll=function(e){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=e.target.scrollLeft)},a.handleResize=function(){Dt.a(a.rafHandle),a.rafHandle=Dt.b(a.checkOverflow)},a.gutterRef=function(e){a.gutter=e&&Object(de.findDOMNode)(e)},a.handleSelectAlldayEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ta(a.props.onSelectEvent,t)},a.handleSelectAllDaySlot=function(e,t){ta(a.props.onSelectSlot,{slots:e,start:e[0],end:e[e.length-1],action:t.action})},a.checkOverflow=function(){if(!a._updatingOverflow){var e=a.contentRef.current,t=e.scrollHeight>e.clientHeight;a.state.isOverflowing!==t&&(a._updatingOverflow=!0,a.setState({isOverflowing:t},(function(){a._updatingOverflow=!1})))}},a.memoizedResources=Object(Ct.a)((function(e,t){return function(e,t){return{map:function(a){return e?e.map((function(e,r){return a([t.resourceId(e),e],r)})):[a([ra,null],0)]},groupEvents:function(a){var r=new Map;return e?(a.forEach((function(e){var a=t.resource(e)||ra,n=r.get(a)||[];n.push(e),r.set(a,n)})),r):(r.set(ra,a),r)}}}(e,t)})),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=s.a.createRef(),a.contentRef=s.a.createRef(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){this.calculateScroll()}},{key:"componentDidMount",value:function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Dt.a(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){null==this.props.width&&this.measureGutter(),this.applyScroll()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.range,r=t.scrollToTime;re.eq(e.range[0],a[0],"minute")&&re.eq(e.scrollToTime,r,"minute")||this.calculateScroll(e)}},{key:"renderEvents",value:function(e,t,a){var r=this,n=this.props,o=n.min,i=n.max,c=n.components,l=n.accessors,d=n.localizer,u=this.memoizedResources(this.props.resources,l),p=u.groupEvents(t);return e.map((function(e,t){return u.map((function(n,u){var m=Object(kt.a)(n,2),f=m[0],h=m[1],g=(p.get(f)||[]).filter((function(t){return re.inRange(e,l.start(t),l.end(t),"day")}));return s.a.createElement(Tt.a,Object.assign({},r.props,{localizer:d,min:ce(e,o),max:ce(e,i),resource:h&&f,components:c,isNow:re.eq(e,a,"day"),key:u+"-"+t,date:e,events:g}))}))}))}},{key:"render",value:function(){var e=this.props,t=e.events,a=e.range,r=e.width,n=e.rtl,o=e.selected,i=e.getNow,c=e.resources,l=e.components,d=e.accessors,u=e.getters,p=e.localizer,m=e.min,f=e.max,h=e.showMultiDayTimes,g=e.longPressThreshold;r=r||this.state.gutterWidth;var b=a[0],y=a[a.length-1];this.slots=a.length;var v=[],E=[];return t.forEach((function(e){if(He(e,b,y,d)){var t=d.start(e),a=d.end(e);d.allDay(e)||le(t)&&le(a)||!h&&!re.eq(t,a,"day")?v.push(e):E.push(e)}})),v.sort((function(e,t){return function(e,t,a){var r=+re.startOf(a.start(e),"day")-+re.startOf(a.start(t),"day"),n=se(a.start(e),oe(a.end(e),"day"),"day"),o=se(a.start(t),oe(a.end(t),"day"),"day");return r||Math.max(o,1)-Math.max(n,1)||!!a.allDay(t)-!!a.allDay(e)||+a.start(e)-+a.start(t)}(e,t,d)})),s.a.createElement("div",{className:Object(W.default)("rbc-time-view",c&&"rbc-time-view-resources")},s.a.createElement(aa,{range:a,events:v,width:r,rtl:n,getNow:i,localizer:p,selected:o,resources:this.memoizedResources(c,d),selectable:this.props.selectable,accessors:d,getters:u,components:l,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView}),s.a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},s.a.createElement(xt,{date:b,ref:this.gutterRef,localizer:p,min:ce(b,m),max:ce(b,f),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:l,className:"rbc-time-gutter"}),this.renderEvents(a,E,i())))}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t=Object(Ot.a)(e.gutter);t&&e.state.gutterWidth!==t&&e.setState({gutterWidth:t})}))}},{key:"applyScroll",value:function(){if(this._scrollRatio){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,a=e.max,r=e.scrollToTime,n=r-re.startOf(r,"day"),o=se(a,t);this._scrollRatio=n/o}}]),t}(l.Component);na.defaultProps={step:30,timeslots:2,min:re.startOf(new Date,"day"),max:re.endOf(new Date,"day"),scrollToTime:re.startOf(new Date,"day")};var oa=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.date,a="object"!==typeof e?new Date(b()(e)):e,r=t.range(a);return s.a.createElement(na,Object.assign({},this.props,{range:r,eventOffset:15,hideTimeGutter:!0}))}}]),t}(l.Component);oa.range=function(e){return[new Date(b()(e).hour(0).minutes(0).seconds(1))]},oa.navigate=function(e,t){switch(t){case Y.b.PREVIOUS:case Y.b.NEXT:return re.add("day");default:return e}},oa.title=function(e){return"Today's Tracker Timeline: ".concat(e.toLocaleDateString())};var ia=oa,ca=a(736),la=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,a=e.date,r=Object(z.a)(e,["date"]),n=t.range(a,this.props);return s.a.createElement(na,Object.assign({},r,{range:n,eventOffset:15}))}}]),t}(s.a.Component);la.defaultProps=na.defaultProps,la.navigate=function(e,t){switch(t){case vt.a.PREVIOUS:return Object(re.add)(e,-1,"week");case vt.a.NEXT:return Object(re.add)(e,1,"week");default:return e}},la.range=function(e,t){var a=t.localizer.startOfWeek();return ie(Object(re.startOf)(e,"week",a),Object(re.endOf)(e,"week",a))},la.title=function(e,t){var a=t.localizer,r=la.range(e,{localizer:a}),n=Object(ca.a)(r),o=n[0],i=n.slice(1);return a.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};var sa=la,da=a(693),ua=a(687),pa=a(847),ma=a(850),fa=a(848),ha=a(849),ga=Object(ct.a)((function(e){return{card:{width:"100%",height:"99%",backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.3s","&:hover":{backgroundColor:"rgba(135, 206, 250, 0.26)",zIndex:"1 !important"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0,height:"100px"},headerColorDefault:{backgroundColor:"default"},headerColorCustom:{backgroundColor:"default"},headerBody:{lineHeight:.8,fontWeight:"normal",textTransform:"capitalize"},headerLabel:{marginTop:0,paddingTop:10},headerLabelMonth:{marginTop:0},gutterTitle:{paddingTop:10},tableHead:{"& p":{paddingLeft:10}},dateHeader:{cursor:"pointer",paddingRight:"2%"}}})),ba=function(e){var t=ga();return s.a.createElement(Jt.a,{className:t.card},s.a.createElement(s.a.Fragment,null,s.a.createElement(Zt.a,{className:t.cardContent},s.a.createElement(O.a,{className:t.gutterTitle,color:"textSecondary",gutterBottom:!0},"Nutrition Status"))))},ya=Object(d.b)((function(e){return{trackerEntries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,trackerDataDays:e.appData.tracker.selectedTracker.timelineSnippets.DAYS}}))((function(e){var t=e.label,a=e.date,r=e.trackerEntries,n=ga(),o=r.filter((function(e){return t=a,r=e.start,b()(t).isSame(r,"day")&&b()(t).isSame(r,"month")&&b()(t).isSame(r,"year");var t,r})),i=a.getDate()===(new Date).getDate(),c=o.filter((function(t){return t[vt.b]===e[vt.b]})),l=c.length,d=l>0&&vt.c.find((function(t){return t[vt.b]===e[vt.b]}))[vt.d],u=l>0&&c.reduce((function(e,t){return e+Number(t.ENERC_KCAL)}),0).toFixed(2);return s.a.createElement(Jt.a,{className:n.card},s.a.createElement(s.a.Fragment,null,s.a.createElement(Zt.a,{className:Object(W.default)(n.cardContent,l&&!i?n.headerColorCustom:n.headerColorDefault)},s.a.createElement(O.a,{className:n.headerLabel,color:"textPrimary"},t),c&&l>0&&s.a.createElement("div",{className:n.headerBody},s.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0},l," ",d&&d.replace(/s$/,l>1?"s":"")),s.a.createElement(O.a,{variant:"body1",component:"h2",gutterBottom:!0},u," KCal")))))})),va=function(e){var t=ga();return s.a.createElement(O.a,{className:t.headerLabelMonth,color:"textPrimary"},e.label)},Ea=function(e){var t=ga(),a=e.label,r=e.date,n=e.onDrillDown,o=e.events.find((function(e){return b()(r).isSame(e.start,"day")})),i=r<new Date;return s.a.createElement("div",{onClick:n,className:Object(W.default)(t.dateHeader,i&&o?t.headerColorCustom:t.headerColorDefault)},a)},Sa=function(e){var t=e.messages,a=e.headerRef,r=e.dateColRef,n=e.timeColRef,o=ga(),i=t.date,c=t.time,l=t.event;return s.a.createElement(k.a,null,s.a.createElement(pa.a,{className:"rbc-agenda-table","aria-label":"header table",ref:a},s.a.createElement(fa.a,null,s.a.createElement(ha.a,null,s.a.createElement(ma.a,{className:Object(W.default)(o.tableHead,"rbc-header"),align:"left",ref:r},s.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0},i)),s.a.createElement(ma.a,{className:Object(W.default)(o.tableHead,"rbc-header"),align:"left",ref:n},s.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0},c)),s.a.createElement(ma.a,{className:Object(W.default)(o.tableHead,"rbc-header"),align:"left"},s.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0},l))))))},ka=a(578),Da=a(337),Oa=a(246),Ca=a(247);function Na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Na(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Na(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wa=Object(ct.a)((function(e){return{card:{width:"100%",height:"100%",padding:20,backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)",zIndex:"1 !important"}},cardContent:{paddingTop:2,paddingBottom:0,marginBottom:0},title:{fontSize:14,marginTop:0},resourceTypeChip:{color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.87)",marginBottom:10,marginRight:10},convertChip:{color:"rgba(0, 0, 0, 0.87)",backgroundColor:"rgba(232, 223, 224, 0.64)",marginBottom:10,marginRight:10},dietEntryStyle:{backgroundColor:"#3174ad"},mealPlanStyle:{backgroundColor:"#455a64"},dietEntryHoverStyle:{backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#3174ad"}},mealPlanHoverStyle:{backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#455a64"}},cardActions:{paddingTop:0,marginTop:0,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},button:{marginLeft:10,marginRight:10},buttonGroup:{display:"flex",justifyContent:"space-between",alignItems:"center"},dangerButton:{"&:hover":{color:"crimson"}},cardLabel:{padding:10,backgroundColor:"rgba(232, 223, 224, 0.64)"},dateTimePickerButton:{backgroundColor:"rgba(232, 223, 224, 0.64)"}}})),Ma=Object(d.b)((function(e){return{entries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES}}))((function(e){var t=wa(),a=e.event,r=e.entries,n=b()(a.start).dayOfYear()===b()(new Date).subtract(1,"day").dayOfYear()||b()(a.start).dayOfYear()===b()(new Date).dayOfYear();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jt.a,{className:t.card},s.a.createElement(Zt.a,{className:t.cardContent},s.a.createElement(ka.a,{label:a[vt.b]===vt.e.mealPlan?"Planned Meal":"Diet Entry",className:Object(W.default)(t.resourceTypeChip,a[vt.b]===vt.e.mealPlan?t.mealPlanStyle:t.dietEntryStyle)}),n?s.a.createElement(ka.a,{label:a[vt.b]!==vt.e.mealPlan?"Convert to Planned Meal":"Convert to Diet Entry",className:Object(W.default)(t.convertChip,a[vt.b]!==vt.e.mealPlan?t.mealPlanHoverStyle:t.dietEntryHoverStyle),onClick:function(){var t=a[vt.b]===vt.e.mealPlan?vt.e.dietEntry:vt.e.mealPlan,r=Ta({},a,{resourceId:t,className:t});e.editTrackerEntry(r)}}):null,s.a.createElement(O.a,{variant:"h4",gutterBottom:!0},a.title),s.a.createElement(Oa.a,{entryData:a})),s.a.createElement(Da.a,{className:t.cardActions},s.a.createElement("div",{className:t.buttonGroup},a[vt.b]===vt.e.mealPlan?s.a.createElement(D.a,{className:t.button,variant:"outlined",color:"default",onClick:function(t){e.setCurrentTimelineRecipeDetail({recipeDetail:a}),e.showRecipeModal()}},"View Detailed Recipe"):null,s.a.createElement(D.a,{className:t.button,variant:"outlined",color:"default",onClick:function(t){e.setSnippetId(a._id),e.setSnippetType("ENTRIES"),e.setSnippetData(r.find((function(e){return e._id===a._id}))),e.setCurrentTimelineRecipeDetail(),e.showDetailsModal()}},"View Detailed Nutrition Analysis"),s.a.createElement(D.a,{className:Object(W.default)(t.button,t.dangerButton),variant:"outlined",color:"default",onClick:function(){e.removeTrackerEntry(a)}},"Delete Entry")))))})),ja=function(e){var t=wa(),a=e.label;return s.a.createElement(Jt.a,{className:t.cardLabel},s.a.createElement(Zt.a,{className:t.cardContent},s.a.createElement(O.a,{variant:"h6",gutterBottom:!0},a)))},Pa=function(e){var t=wa(),a=e.label;return s.a.createElement(Jt.a,{className:t.cardLabel},s.a.createElement(Zt.a,{className:t.cardContent},s.a.createElement(O.a,{variant:"h6",gutterBottom:!0},a)))},Aa=Object(d.b)((function(e){return{entries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,selectedSnippetId:e.appData.tracker.targetTimeline.selectedSnippetId,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,dateTimePickerVisibility:e.uiState.uiStateHelperTwo.isVisible}}),{editTrackerEntry:y.trackerActions.editTrackerEntry,setSelectedSnippetId:y.trackerActions.setSelectedSnippetId,setCurrentTimelineDate:y.trackerActions.setCurrentTimelineDate,setDateTimePickerVisibility:y.uiStateActions.setHelperTwoVisibility})((function(e){var t=e.event,a=e.entries.find((function(e){return e._id===t._id})),r=function(){e.setSelectedSnippetId(a._id),e.setDateTimePickerVisibility(!0)},n=wa(),o=a[vt.b]===vt.e.mealPlan;return s.a.createElement(s.a.Fragment,null,e.selectedSnippetId!==t._id?s.a.createElement(D.a,{className:n.dateTimePickerButton,variant:"outlined",color:"default",onClick:r,fullWidth:!0},"Change Time Slot"):e.dateTimePickerVisibility?s.a.createElement(Ca.a,{targetEntrySlot:{start:a.start,end:a.end},setDateTimePickerVisibility:e.setDateTimePickerVisibility,requestAddEntryToTracker:function(t,r){e.editTrackerEntry(Ta({},a,{},t)),e.setDateTimePickerVisibility(!1),e.setSelectedSnippetId(void 0),b()(r).isSame(e.currentTimelineDate)||e.setCurrentTimelineDate(r)},isMealPlanner:o,setSelectedSnippetId:e.setSelectedSnippetId}):s.a.createElement(D.a,{className:n.dateTimePickerButton,variant:"outlined",color:"default",onClick:r,fullWidth:!0},"Change Time Slot"))})),xa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).renderDay=function(e,t,r){var n=a.props,o=n.selected,i=n.getters,c=n.accessors,l=n.localizer,d=n.components,u=d.event,p=d.date;return(t=t.filter((function(t){return He(t,re.startOf(e,"day"),re.endOf(e,"day"),c)}))).map((function(n,d){var m=c.title(n),f=c.end(n),h=c.start(n),g=i.eventProp(n,h,f,Ie(n,o)),b=0===d&&l.format(e,"agendaDateFormat"),y=0===d&&s.a.createElement("td",{rowSpan:t.length,className:"rbc-agenda-date-cell"},p?s.a.createElement(p,{day:e,label:b}):b);return s.a.createElement("tr",{key:r+"_"+d,className:g.className,style:g.style},s.a.createElement("td",null,s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,y,s.a.createElement("td",{className:"rbc-agenda-time-cell"},a.timeRangeLabel(e,n))))))),s.a.createElement("tr",null,s.a.createElement("td",{className:"rbc-agenda-time-cell"},s.a.createElement(Aa,{event:n})))))),s.a.createElement("td",{className:"rbc-agenda-event-cell"},u?s.a.createElement(u,{event:n,title:m}):m))}),[])},a.timeRangeLabel=function(e,t){var r=a.props,n=r.accessors,o=r.localizer,i="",c=r.components.time,l=o.messages.allDay,d=n.end(t),u=n.start(t);return n.allDay(t)||(re.eq(u,d)?l=o.format(u,"agendaTimeFormat"):re.eq(u,d,"day")?l=o.format({start:u,end:d},"agendaTimeRangeFormat"):re.eq(e,u,"day")?l=o.format(u,"agendaTimeFormat"):re.eq(e,d,"day")&&(l=o.format(d,"agendaTimeFormat"))),re.gt(e,u,"day")&&(i="rbc-continues-prior"),re.lt(e,d,"day")&&(i+=" rbc-continues-after"),s.a.createElement("span",{className:i.trim()},c?s.a.createElement(c,{event:t,day:e,label:l}):l)},a._adjustHeader=function(){if(a.tbodyRef.current){var e=a.headerRef.current,t=a.tbodyRef.current.firstChild;if(t){var r=a.contentRef.current.scrollHeight>a.contentRef.current.clientHeight,n=a._widths||[];a._widths=[Object(Ot.a)(t.children[0]),Object(Ot.a)(t.children[1])],n[0]===a._widths[0]&&n[1]===a._widths[1]||(a.dateColRef.current.style.width=a._widths[0]+"px",a.timeColRef.current.style.width=a._widths[1]+"px"),r?(Object(da.a)(e,"rbc-header-overflowing"),e.style.marginRight=Object(Rt.a)()+"px"):Object(ua.a)(e,"rbc-header-overflowing")}}},a.headerRef=s.a.createRef(),a.dateColRef=s.a.createRef(),a.timeColRef=s.a.createRef(),a.contentRef=s.a.createRef(),a.tbodyRef=s.a.createRef(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._adjustHeader()}},{key:"componentDidUpdate",value:function(){this._adjustHeader()}},{key:"render",value:function(){var e=this,t=this.props,a=t.length,r=t.date,n=t.events,o=t.accessors,i=t.localizer,c=t.customHeader,l=i.messages,d=re.add(r,a,"day"),u=ie(r,d,"day");return(n=n.filter((function(e){return He(e,r,d,o)}))).sort((function(e,t){return+o.start(e)-+o.start(t)})),s.a.createElement("div",{className:"rbc-agenda-view"},0!==n.length?s.a.createElement(s.a.Fragment,null,c?s.a.createElement(Sa,{messages:l,headerRef:this.headerRef,dateColRef:this.dateColRef,timeColRef:this.timeColRef}):s.a.createElement("table",{ref:this.headerRef,className:"rbc-agenda-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"rbc-header",ref:this.dateColRef},l.date),s.a.createElement("th",{className:"rbc-header",ref:this.timeColRef},l.time),s.a.createElement("th",{className:"rbc-header"},l.event)))),s.a.createElement("div",{className:"rbc-agenda-content",ref:this.contentRef},s.a.createElement("table",{className:"rbc-agenda-table"},s.a.createElement("tbody",{ref:this.tbodyRef},u.map((function(t,a){return e.renderDay(t,n,a)})))))):s.a.createElement("span",{className:"rbc-agenda-empty"},l.noEventsInRange))}}]),t}(s.a.Component);xa.defaultProps={length:30},xa.range=function(e,t){var a=t.length,r=void 0===a?xa.defaultProps.length:a;return{start:e,end:re.add(e,r,"day")}},xa.navigate=function(e,t,a){var r=a.length,n=void 0===r?xa.defaultProps.length:r;switch(t){case q:return re.add(e,-n,"day");case K:return re.add(e,n,"day");default:return e}},xa.title=function(e,t){var a=t.length,r=void 0===a?xa.defaultProps.length:a,n=t.localizer,o=re.add(e,r,"day");return n.format({start:e,end:o},"agendaHeaderFormat")};var Ra=xa,_a=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return s.a.createElement(Ra,Object.assign({},this.props,{events:this.props.events,date:new Date(b()(this.props.date).set("hour",0)),length:0,customHeader:!0}))}}]),t}(l.Component);_a.defaultProps={length:0},_a.navigate=function(e,t){switch(t){case Y.b.PREVIOUS:case Y.b.NEXT:return re.add("day");default:return e}},_a.title=function(e){return"Today's Tracker Entries: ".concat(e.toLocaleDateString())};var Ia=_a;function Fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fa(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Va=function(e){var t=e.children,a=(e.range,e.value),r=new Date;return s.a.cloneElement(l.Children.only(t),{style:Ba({},t.style,{backgroundColor:a<r?"#f5f5dc":"#fff"})})},La=Object(ct.a)((function(e){return{rootPaper:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(232, 223, 224, 0.64)"},card:{width:"96%",height:"96%",backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.1s ease-out",cursor:"pointer",opacity:.5},cardHoverStyle:{"&:hover":{backgroundColor:"rgba(135, 206, 250, 0.26)",opacity:1}},today:{border:"solid 1px rgba(56, 142, 60, 0.64)"},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},text:{backfaceVisibility:"hidden !important"},title:Object(v.a)({fontSize:14,marginTop:0,textOverflow:"fade",whiteSpace:"nowrap"},e.breakpoints.down("lg"),{whiteSpace:"normal"}),pos:{marginBottom:12},cardActions:{paddingTop:0,marginTop:0},moreButton:{zIndex:200}}})),Ua=Object(d.b)((function(e){return{trackerEntries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,trackerDataDays:e.appData.tracker.selectedTracker.timelineSnippets.DAYS}}),{setMouseMoveDateCellState:y.uiStateActions.setUIStateHelperOne,isMonthDateCellWrapper:y.uiStateActions.setHelperOneVisibility})((function(e){var t=e.children,a=(e.range,e.value),r=e.setMouseMoveDateCellState,n=e.isMonthDateCellWrapper,o=(e.events,e.trackerEntries),i=e.trackerDataDays,c=La(),l=a<new Date,d=function(e,t){return b()(e).isSame(t,"day")&&b()(e).isSame(t,"month")&&b()(e).isSame(t,"year")},u=o.filter((function(e){var t="object"!==typeof e.start?new Date(b()(e.start)):e.start;return d(a,t)})),p=u.filter((function(e){return e.resourceId===vt.e.dietEntry})).length,m=u.filter((function(e){return e.resourceId===vt.e.mealPlan})).length,f=u.length,h=i.find((function(e){return d(a,e.date)&&e.resourceId===vt.e.dietEntry})),g=i.find((function(e){return d(a,e.date)&&e.resourceId===vt.e.mealPlan})),y=a.getDate()===(new Date).getDate()&&0===p&&m>0?g:l?h:g;return s.a.createElement("div",{style:{display:"flex",flex:1,borderLeft:"1px solid #DDD",position:"relative"}},s.a.cloneElement(t,{},s.a.createElement(k.a,{className:c.rootPaper},s.a.createElement(Jt.a,{className:Object(W.default)(c.card,c.cardHoverStyle,d(a,new Date)?c.today:"")},y&&u&&f>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Zt.a,{className:c.cardContent},s.a.createElement(O.a,{className:Object(W.default)(c.title,c.text),color:"textPrimary",gutterBottom:!0},h&&h.numEntries>0?"".concat(h.numEntries," Diet Entries"):null,h&&h.numEntries>0?", ":"",g&&g.numEntries>0?"".concat(g.numEntries," Meal Plans"):null),s.a.createElement(O.a,{className:c.text,variant:"h5",component:"h2"},y&&Number(y.ENERC_KCAL).toFixed(2)," KCal"),s.a.createElement(O.a,{className:c.text,variant:"body2",component:"p"},y&&Number(y.percentProtein).toFixed(2),"% Pro, ",y&&Number(y.percentCarbs).toFixed(2),"% Crb, ",y&&Number(y.percentFat).toFixed(2),"% Fat"),s.a.createElement(O.a,{className:c.text,variant:"body2",component:"p"},"a day of balanced diet")),s.a.createElement(Da.a,{className:c.cardActions},s.a.createElement(D.a,{className:c.moreButton,size:"small",fullWidth:!0,onMouseOver:function(){r({name:"MonthDateCellWrapper",value:a}),n(!0)},onMouseOut:function(){r({name:"MonthDateCellWrapper",value:a}),n(!1)}},"Learn More")))))))}));function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var za=Object(ct.a)((function(e){return{title:{fontSize:14,marginTop:0}}})),Ha=function(e){var t,a,r=za(),n=void 0===e.resource,o=e.resource===vt.e.dietEntry,i=e.resource===vt.e.mealPlan,c=b()(e.value).date()===b()(new Date).date()&&b()(e.value).month()===b()(new Date).month()&&b()(e.value).year()===b()(new Date).year(),l=e.value?b()(e.value).hours():void 0,d=e.value?b()(e.value).minutes():void 0;switch(!0){case 8===l&&45===d:t="Breakfast";break;case 12===l&&45===d:t="Lunch";break;case 16===l&&45===d:t="Evening Snack";break;case 20===l&&45===d:t="Dinner";break;case 0===l&&45===d:t="Midnight Snack";break;default:t=null}switch(!0){case 5===l&&0===d:case 9===l&&0===d:case 13===l&&0===d:case 17===l&&0===d:case 21===l&&0===d:a=!0;break;default:a=null}var u=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ya(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.children.style,{display:"flex",flex:1,paddingLeft:10,backgroundColor:c?"#eaf6ff":t&&o?"rgba(255, 245, 220, 0.96)":t&&i?"rgba(255, 225, 220, 0.96)":"inherit"});return o||i||n?s.a.createElement("div",{style:u},t&&s.a.createElement(O.a,{className:r.title,color:"textSecondary",gutterBottom:!0},t),a?s.a.createElement(O.a,{component:"div",className:r.title,color:"textPrimary",gutterBottom:!0},e.children):e.children):s.a.createElement("div",null,e.children)},Ga=function(e){return t=new Date,a=e,b()(t).isSame(a,"day")&&b()(t).isSame(a,"month")&&b()(t).isSame(a,"year")?{className:"special-today",style:{border:"solid 2px rgba(56, 142, 60, 0.64)"}}:{};var t,a},Wa=function(e){var t=b()(new Date).hours(5).minutes(0).seconds(0),a=b()(new Date).add(1,"day").hours(0).minutes(59).seconds(59);return b()(e).isBetween(t,a)?{className:"today custom-timeslot",style:{}}:{className:"custom-timeslot"}},qa=function(e){var t=e.start.getHours()<5;return{style:{backgroundColor:e[vt.b]===vt.e.dietEntry?t?"rgba(255, 182, 193, 0.5)":"rgba(49, 116, 173, 0.2)":"rgba(69, 90, 100, 0.2)",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)"}}},Ka=function(e){var t=("object"!==typeof e.start?new Date(b()(e.start)):e.start).getHours()<5;return{style:{backgroundColor:e[vt.b]===vt.e.dietEntry?t?"rgba(255, 182, 193, 0.5)":"#3174ad":"#455A64",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)"}}},Xa=function(e){var t=e.start,a=!0;e.resourceId===vt.e.mealPlan&&b()(t).dayOfYear()<b()(new Date).subtract(1,"day").dayOfYear()&&(a=!1);var r=("object"!==typeof t?new Date(b()(t)):t).getHours()<5;return{style:{display:a?"block":"none",backgroundColor:e[vt.b]===vt.e.dietEntry?r?"rgba(255, 182, 193, 0.5)":"#3174ad":"#455A64",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)",borderRadius:"5px"}}},Qa=a(239),Ja=a(257),Za=a(258),$a=Object(f.g)(Za.a),er=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentWillUnmount=function(){console.log("AddDietEntryForm unmounting!")},a.requestSwitchEntryModalState=function(){a.props.switchAddEntryForm(a.props.targetEntrySlot,vt.e.mealPlan),a.props.setEntryModalState(vt.e.mealPlan)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal;return s.a.createElement(Qa.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{gutterBottom:!0,className:"dialogTitle"},"Add entry to your Tracker"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(Ja.a,null),s.a.createElement($a,null))},DialogActionChildren:function(){return s.a.createElement(D.a,{className:Object(W.default)(a.button,a.switchButton),variant:"outlined",color:"default",onClick:e.requestSwitchEntryModalState},"Switch to Meal Planner")}})}}]),t}(l.Component),tr=Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},switchButton:{color:"#455a64","&:hover":{backgroundColor:"#455a64",color:"#fff"}}}}))(er),ar=a(250),rr=a(57),nr=a(252),or=a(150),ir=a(151);function cr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var lr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){},a.componentDidUpdate=function(e,t){e.successDataRecipesSync!==a.props.successDataRecipesSync&&a.props.successDataRecipesSync&&a.props.enqueueSnackbar("Recipe has been saved to your favorites",{variant:"default"})},a.componentWillUnmount=function(){a.props.setEntryModalVisibility(!1),a.props.setConfirmTimeSlotSelection(!1),a.props.setTargetNewEntrySlot(),a.props.clearCurrentRecipesData(),a.props.clearPrimaryAppState(),a.props.clearSecondaryAppState(),console.log("MealPlanner unmounting!")},a.backToRecipeSnippets=function(){a.props.setCurrentRecipeDetail(void 0)},a.handleSaveRecipe=function(){var e=a.props.currentRecipeDetail&&a.props.currentRecipeDetail.recipeDetail;a.props.saveRecipe(e.id,e.title)},a.requestDetailRecipeNurition=function(){a.props.setDetailsModalVisibility(!0)},a.hideDetailsModal=function(){a.props.setDetailsModalVisibility(!1)},a.initiateSlotSelectForEntry=function(){a.props.setDateTimePickerVisibility(!0)},a.confirmSlotSelectForEntry=function(){a.props.setConfirmTimeSlotSelection(!0)},a.requestAddEntryToTracker=function(e,t){if(a.props.currentRecipeDetail&&a.props.currentRecipeDetail.recipeDetail&&!a.props.errorMessageSecondary){var r=Object(rr.b)(a.props.currentRecipeDetail.recipeDetail);a.props.addEntryToTracker(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cr(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{},e),(function(){console.log("redirect after new tracker entry saved successful"),"/tracker/timeline"!==a.props.match.url&&a.props.history.push("/tracker/timeline"),a.props.setDateTimePickerVisibility(!1),a.props.setCurrentTimelineView(vt.f.AGENDA),a.props.setCurrentTimelineDate(t),a.props.setTargetNewEntrySlot(),a.props.setEntryModalVisibility(!1),a.props.clearCurrentRecipesData(),a.props.clearPrimaryAppState()}))}},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.errorMessagePrimary,r=e.dateTimePickerVisibility,n=e.openDetailsModal,o=e.currentRecipeDetail,i=e.targetEntrySlot,c=e.confirmTimeSlotSelection,l=o&&o.recipeDetail;return console.log({recipeDetail:l}),s.a.createElement("div",null,s.a.createElement(k.a,{className:t.rootPaper},a?s.a.createElement(O.a,{variant:"h5"},a):s.a.createElement(s.a.Fragment,null,l?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(nr.a,{addRecipeToMealPlanner:!0})),l?s.a.createElement(s.a.Fragment,null,s.a.createElement(or.a,{backToRecipeSnippets:this.backToRecipeSnippets}),l&&r?s.a.createElement(Ca.a,{targetEntrySlot:i,dateTimePickerVisibility:r,setDateTimePickerVisibility:this.props.setDateTimePickerVisibility,confirmTimeSlotSelection:c,requestAddEntryToTracker:this.requestAddEntryToTracker,isMealPlanner:!0}):null,l?s.a.createElement("div",{className:t.buttonGroup},s.a.createElement(D.a,{className:t.button,variant:"contained",color:"default",onClick:this.handleSaveRecipe},"Save Recipe but don't add to Meal-Planner"),s.a.createElement(D.a,{className:t.button,variant:"contained",color:"default",onClick:this.requestDetailRecipeNurition},"View Detailed Recipe Nutrition"),r?s.a.createElement(D.a,{className:t.button,variant:"contained",color:"primary",onClick:this.confirmSlotSelectForEntry},"Confirm Add MealPlan to My Tracker"):s.a.createElement(D.a,{className:t.button,variant:"contained",color:"default",onClick:this.initiateSlotSelectForEntry},"Select Time Slot to Add to the Tracker")):null):null)),n&&l?s.a.createElement(ir.a,{openDetailsModal:n,showDetailsModal:this.requestDetailRecipeNurition,hideDetailsModal:this.hideDetailsModal,selectionData:Object(rr.b)(l)}):null)}}]),t}(l.Component),sr=Object(p.compose)(u.withSnackbar,Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:10},nutritionSummary:{marginBottom:10},dateTimePickerRoot:{padding:10,position:"relative",backgroundColor:"rgba(232, 223, 224, 0.64)"},dateTimePickerButtonGroup:{padding:10},dateTimePickerCloseButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},buttonGroup:{display:"flex",justifyContent:"flex-end"},button:{margin:10}}})),Object(d.b)((function(e){return{errorMessagePrimary:e.appState.primary.errorMessage,errorMessageSecondary:e.appState.secondary.errorMessage,successDataRecipesSync:e.appState.recipesSync.successData,errorMessageRecipesSync:e.appState.recipesSync.errorMessage,currentRecipeDetail:e.appData.userData.recipes.current.detail,confirmTimeSlotSelection:e.appData.tracker.targetTimeline.confirmTimeSlotSelectionMealPlan,targetEntryId:e.appData.tracker.targetTimeline.targetEntryId,targetEntrySlot:e.appData.tracker.targetTimeline.targetEntrySlot,openDetailsModal:e.uiState.uiModalTwoHelper.isVisible,dateTimePickerVisibility:e.uiState.uiStateMealplanHelper.isVisible}}),{addEntryToTracker:y.trackerActions.addEntryToTracker,saveRecipe:y.recipesActions.saveRecipeToFavorites,setCurrentRecipeDetail:y.recipesActions.setCurrentRecipeDetail,clearCurrentRecipesData:y.recipesActions.clearCurrentRecipesData,setCurrentTimelineView:y.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:y.trackerActions.setCurrentTimelineDate,setTargetNewEntrySlot:y.trackerActions.setTargetNewEntrySlot,setConfirmTimeSlotSelection:y.trackerActions.setConfirmTimeSlotSelectionMealPlan,setEntryModalVisibility:y.uiStateActions.setModalOneVisibility,setDetailsModalVisibility:y.uiStateActions.setModalTwoVisibility,setDateTimePickerVisibility:y.uiStateActions.setMealplanHelperVisibility,clearPrimaryAppState:y.appStateActions.clearPrimaryAppState,clearSecondaryAppState:y.appStateActions.clearSecondaryAppState}))(lr),dr=Object(f.g)(sr),ur=Object(f.g)(ar.a),pr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentWillUnmount=function(){console.log("AddMealPlanForm unmounting!")},a.requestSwitchEntryModalState=function(){a.props.switchAddEntryForm(a.props.targetEntrySlot,vt.e.dietEntry),a.props.setEntryModalState(vt.e.dietEntry)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal;return s.a.createElement(Qa.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{gutterBottom:!0,className:"dialogTitle"},"Add meal plan to your tracker"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(ur,{addRecipeToMealPlanner:!0}),s.a.createElement(dr,null))},DialogActionChildren:function(){return s.a.createElement(D.a,{className:Object(W.default)(a.button,a.switchButton),variant:"outlined",color:"default",onClick:e.requestSwitchEntryModalState},"Switch to Diet Entry")}})}}]),t}(l.Component),mr=Object(p.compose)(f.g,Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},switchButton:{color:"#3174ad","&:hover":{backgroundColor:"#3174ad",color:"#fff"}}}})))(pr),fr=Object(ct.a)((function(e){return{nutritionSummary:{marginBottom:10,padding:10,backgroundColor:"rgba(232, 223, 224, 0.64)"}}})),hr=function(e){var t=e.entryData,a=e.daySummary,r=fr();return s.a.createElement(k.a,{className:r.nutritionSummary},s.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Meal Plan Highlights"),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},"Meal Slot - "),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},a?"all day":b()(t.start).format("ddd, hh:mm A"))),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},a?null:"Recipe/Dish - "),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},t.mealRecipe||t.title)),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},a?"Total":"Meal"," Calorie Count - "),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.ENERC_KCAL).toFixed(2)),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," Cal")),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentCarbs).toFixed(2)),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Carbs")),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentFat).toFixed(2)),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Fat")),s.a.createElement("div",null,s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentProtein).toFixed(2)),s.a.createElement(O.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Protein")))};function gr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function br(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gr(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yr=Object(ct.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10},dangerButton:{"&:hover":{color:"crimson"}},resourceTypeChip:{color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.87)",marginBottom:10,marginRight:10},convertChip:{color:"rgba(0, 0, 0, 0.87)",backgroundColor:"rgba(232, 223, 224, 0.64)",marginBottom:10,marginRight:10},dietEntryStyle:{backgroundColor:"#3174ad"},mealPlanStyle:{backgroundColor:"#455a64"},dietEntryHoverStyle:{color:"#3174ad",backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#3174ad"}},mealPlanHoverStyle:{color:"#455a64",backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#455a64"}}}})),vr=function(e){var t=yr(),a=e.openEntryModal,r=e.showEntryModal,n=e.hideEntryModal,o=e.entry,i=e.dateTimePickerVisibility,c=e.setDateTimePickerVisibility,l=o&&o[vt.b]===vt.e.mealPlan,d=function(){e.showDetailsModal(),e.setSelectedSnippetData(e.entry)},u=function(t){e.setCurrentTimelineRecipeDetail({recipeDetail:e.entry}),e.showRecipeModal()},p=function(){e.removeTrackerEntry(e.entry),e.hideEntryModal()},m=function(){e.setDateTimePickerVisibility(!0)},f=function(t,a){e.editTrackerEntry(br({},o,{},t)),e.setDateTimePickerVisibility(!1),b()(a).isSame(e.currentTimelineDate)||e.setCurrentTimelineDate(a)},h=o&&b()(o.start).dayOfYear()===b()(new Date).subtract(1,"day").dayOfYear()||o&&b()(o.start).dayOfYear()===b()(new Date).dayOfYear(),g=function(){var t=o[vt.b]===vt.e.mealPlan?vt.e.dietEntry:vt.e.mealPlan,a=br({},o,{resourceId:t,className:t});e.editTrackerEntry(a)};return s.a.createElement(Qa.a,{openDialogModal:a,showDialogModal:r,hideDialogModal:n,DialogTitleChildren:function(){return o?s.a.createElement(s.a.Fragment,null,s.a.createElement(ka.a,{label:o[vt.b]===vt.e.mealPlan?"Meal Plan":"Diet Entry",className:Object(W.default)(t.resourceTypeChip,o[vt.b]===vt.e.mealPlan?t.mealPlanStyle:t.dietEntryStyle)}),h?s.a.createElement(ka.a,{label:o[vt.b]!==vt.e.mealPlan?"Convert to Meal Plan":"Convert to Diet Entry",className:Object(W.default)(t.convertChip,o[vt.b]!==vt.e.mealPlan?t.mealPlanHoverStyle:t.dietEntryHoverStyle),onClick:g}):null):null},DialogContentChildren:function(){return o?s.a.createElement("div",{className:t.rootDialogContent},s.a.createElement(Jt.a,{className:t.card},s.a.createElement(Zt.a,{className:t.cardContent},s.a.createElement(O.a,{variant:"h4",gutterBottom:!0},o.title),l?s.a.createElement(hr,{entryData:o}):s.a.createElement(Oa.a,{entryData:o}),s.a.createElement(k.a,null,i?s.a.createElement(Ca.a,{targetEntrySlot:{start:o.start,end:o.end},setDateTimePickerVisibility:c,requestAddEntryToTracker:f,isMealPlanner:l}):s.a.createElement(D.a,{className:t.button,variant:"text",color:"default",onClick:m,fullWidth:!0},"Change Time Slot"))))):null},DialogActionChildren:function(){return o?s.a.createElement(s.a.Fragment,null,o[vt.b]===vt.e.mealPlan?s.a.createElement(D.a,{className:t.button,variant:"outlined",color:"default",onClick:u},"View Detailed Recipe"):null,s.a.createElement(D.a,{className:t.button,variant:"contained",color:"default",onClick:d},l?"View Detailed Nutrition For Meal Plan":"View Detailed Nutrition For Diet Entry"),s.a.createElement(D.a,{className:Object(W.default)(t.button,t.dangerButton),variant:"outlined",color:"default",onClick:p},"Delete Entry")):null}})},Er=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleNavigateToTargetDate=function(){a.props.targetDate&&(a.props.setCurrentTimelineView(vt.f.DAY),a.props.setCurrentTimelineDate(a.props.targetDate),a.props.hideEntryModal())},a.handleRequestSelectionDetails=function(){a.props.showDetailsModal(),a.props.setSelectedSnippetData(a.props.selectionData)},a.handleAddEntryToTargetSlot=function(){a.props.hideEntryModal("targetSlots"),a.props.addEntryToTargetSlot(a.props.targetSlots)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal,i=t.targetDate,c=t.selectionData,l=t.entryModalState===vt.e.mealPlan;return console.log({selectionData:c}),s.a.createElement(Qa.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{gutterBottom:!0,className:a.dialogTitle},b()(i).format("Do MMM")," ",l?"Meal Planner":"Nutrition Summary"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(Jt.a,{className:a.card},s.a.createElement(Zt.a,{className:a.cardContent},c?s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{variant:"h4",gutterBottom:!0},"Summary of ".concat(c.numEntries,l?" planned meals":" Entries")," ","for ",b()(i).format("Do MMM YYYY")),l?s.a.createElement(hr,{entryData:c,daySummary:!0}):s.a.createElement(Oa.a,{entryData:c})):s.a.createElement(O.a,{gutterBottom:!0,className:a.dialogMessage},l?"No Meals are planned for the day.":"No entries found for the day."))))},DialogActionChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,{onClick:e.handleNavigateToTargetDate,color:"primary"},"Go to the Day View"),s.a.createElement(D.a,{onClick:e.handleRequestSelectionDetails,color:"primary"},"View Detail Nutrition Report"),s.a.createElement(D.a,{onClick:e.handleAddEntryToTargetSlot,color:"primary"},l?"Add new Meal Plan":"Add new Entry"))}})}}]),t}(l.Component),Sr=Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10},dialogMessage:{textAlign:"center",paddingTop:20}}}))(Er),kr=Object(ct.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10}}})),Dr=function(e){var t=kr(),a=e.openRecipeModal,r=e.showRecipeModal,n=e.hideRecipeModal,o=e.currentTimelineRecipeDetail,i=o&&o.recipeDetail?o.recipeDetail:o,c=function(){e.showDetailsModal(),e.setSelectedSnippetData(i)};return s.a.createElement(Qa.a,{openDialogModal:a,showDialogModal:r,hideDialogModal:n,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{gutterBottom:!0,className:t.dialogTitle},i&&i.title))},DialogContentChildren:function(){return s.a.createElement("div",{className:t.rootDialogContent},s.a.createElement(Jt.a,{className:t.card},s.a.createElement(Zt.a,{className:t.cardContent},i?s.a.createElement(or.a,null):null)))},DialogActionChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,{className:t.button,variant:"contained",color:"default",onClick:c},"View Detailed Nutrition Analysis"))}})};a(692);function Or(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Cr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Or(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Or(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nr=Object(Y.c)(b.a),Tr=it(Y.a),wr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentDidUpdate=function(e,t){a.props.trackerData&&(a.props.trackerData._id||"/tracker/timeline"!==a.props.location.pathname)||a.props.history.push("/tracker/startSelectTracker")},a.handleEventMove=function(e){var t=e.event,r=e.start,n=e.end,o=e.resourceId;if(console.log(t),t&&console.log({targetDate:b()(r).dayOfYear(),currentDate:b()(t.start).dayOfYear(),today:b()(new Date).dayOfYear(),currentResourceId:t[vt.b],targetResourceId:o,event:t}),t[vt.b]===vt.e.mealPlan){if(o&&o!==vt.e.mealPlan){if(b()(r).dayOfYear()>b()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Meal Plan can be converted to Diet Entry only for today and past dates",{variant:"warning"})}else if((!o||o===vt.e.mealPlan)&&b()(r).dayOfYear()<b()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Meal Plan cannot be moved to past dates",{variant:"warning"})}else if(o&&o!==vt.e.dietEntry){if(!b()(r).dayOfYear()===b()(new Date).subtract(1,"day").dayOfYear()||!b()(r).dayOfYear()===b()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Diet Entry can be converted to Meal Plan only for today and yesterday",{variant:"warning"})}else if((!o||o===vt.e.mealPlan)&&b()(r).dayOfYear()>b()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Diet Entry cannot be moved to future dates",{variant:"warning"});var i=Cr({},t,{resourceId:o,className:o||t[vt.b]}),c=Cr({},i,{start:r,end:n,resourceId:o||t[vt.b]});a.props.editTrackerEntry(c),a.props.enqueueSnackbar("Entry moved to ".concat(b()(r).format("ddd, hh:mm A")),{variant:"success"})},a.handleEventResize=function(e){var t=e.event,r=e.start,n=e.end,o=b()(t.start);(b()(r).isBefore(n)||b()(n).isAfter(b()(r).add(6,"hours")))&&(b()(r).isSame(o)?r=new Date(b()(n).subtract(15,"minutes")):n=new Date(b()(r).add(15,"minutes")));var i=Cr({},t,{start:r,end:n});console.log({start:r,end:n}),a.props.editTrackerEntry(i),a.props.enqueueSnackbar("Entry resized to end at ".concat(b()(n).format("ddd, hh:mm A")),{variant:"success"})},a.handleSlotSelect=function(e){var t,r=a.props.currentTimelineView,n=e.start,o="object"!==typeof n?new Date(b()(n)):n;r===vt.f.DAY?(e[vt.b]===vt.e.mealPlan?a.props.setEntryModalState(vt.e.mealPlan):a.props.setEntryModalState(vt.e.dietEntry),a.props.setEntryModalVisibility(!0),a.props.setTargetNewEntrySlot(e),a.props.setSelectedSnippetType("NEW")):r!==vt.f.WEEK&&r!==vt.f.MONTH||(t=new Date(b()(n)),o.getDate()===(new Date).getDate()&&r===vt.f.WEEK&&(e[vt.b]===vt.e.mealPlan?(a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetId("".concat(b()(t).format("Do MMM YYYY"),"-").concat(vt.e.mealPlan,"-summary"))):(a.props.setEntryModalState(vt.e.dietEntry),a.props.setSelectedSnippetId("".concat(b()(t).format("Do MMM YYYY"),"-").concat(vt.e.dietEntry,"-summary")))),o.getTime()>re.endOf(new Date,"day")?(a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetId("".concat(b()(t).format("Do MMM YYYY"),"-").concat(vt.e.mealPlan,"-summary"))):(a.props.setEntryModalState(vt.e.dietEntry),a.props.setSelectedSnippetId("".concat(b()(t).format("Do MMM YYYY"),"-").concat(vt.e.dietEntry,"-summary"))),a.props.setEntryModalVisibility(!0),a.props.setTargetNewEntrySlot(e),a.props.setTargetTimelineDate(t),a.props.setSelectedSnippetType("DAYS"))},a.handleEventSelect=function(e){("object"!==typeof e.start?new Date(b()(e.start)):e.start).getTime()>re.endOf(new Date,"day")?a.props.setEntryModalState(vt.e.mealPlan):a.props.setEntryModalState(vt.e.dietEntry),a.props.setEntryModalVisibility(!0),a.props.setSelectedSnippetId(e._id),a.props.setSelectedSnippetType("ENTRIES")},a.showEntryModal=function(){a.props.setEntryModalVisibility(!0)},a.hideEntryModal=function(){a.props.openDetailsModal||a.props.openRecipeModal?a.props.setEntryModalVisibility(!1):(a.props.setEntryModalVisibility(!1),a.props.setSelectedSnippetId(void 0),a.props.setSelectedSnippetType(void 0),a.props.setSelectedSnippetData(void 0),a.props.setTargetTimelineDate(void 0),a.props.setTargetNewEntrySlot(void 0),a.props.setConfirmTimeSlotSelection(void 0),a.props.clearSyncTrackerAppState(),a.props.clearAllAppState())},a.showDetailsModal=function(){a.props.setDetailsModalVisibility(!0)},a.hideDetailsModal=function(){a.props.setDetailsModalVisibility(!1)},a.showRecipeModal=function(){a.props.setRecipeModalVisibility(!0)},a.hideRecipeModal=function(){a.props.setRecipeModalVisibility(!1)},a.addDietEntryFromToolbar=function(){a.props.setTargetNewEntrySlot({action:"toolbar",start:new Date(b()(a.props.currentTimelineDate)),end:new Date(b()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setEntryModalState(vt.e.dietEntry),console.log("Should fire NEW!"),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a.addMealPlanFromToolbar=function(){a.props.setTargetNewEntrySlot({action:"toolbar",start:new Date(b()(a.props.currentTimelineDate)),end:new Date(b()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a.switchAddEntryForm=function(e,t){console.log("Timeout for switch to the other resource type"),setTimeout((function(){console.log("Now switching over to the other resource type"),a.props.setTargetNewEntrySlot(e),a.props.setEntryModalState(t),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)}),500)},a.addEntryToTargetSlot=function(e){a.props.setTargetNewEntrySlot(e),a.props.setSelectedSnippetId(void 0),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.trackerData&&this.props.trackerData._id||this.props.history.push("/tracker/startSelectTracker")}},{key:"componentWillUnmount",value:function(){this.props.setSelectedSnippetId(void 0),this.props.setSelectedSnippetType(void 0),this.props.setSelectedSnippetData(void 0),this.props.setTargetTimelineDate(void 0),this.props.setTargetNewEntrySlot(void 0),this.props.setConfirmTimeSlotSelection(void 0),this.props.setEntryModalVisibility(!1),this.props.setDetailsModalVisibility(!1),this.props.setRecipeModalVisibility(!1),this.props.setEntryModalState(),this.props.setDetailsModalState(),this.props.setRecipeModalState(),this.props.setMouseMoveDateCellState(),this.props.setCurrentTimelineRecipeDetail(void 0),this.props.clearCurrentRecipesData(),this.props.clearSyncTrackerAppState(),this.props.clearAllAppState()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.trackerData&&this.props.trackerData.timelineSnippets&&this.props.trackerData.timelineSnippets.ENTRIES&&this.props.trackerData.timelineSnippets.ENTRIES.length>0?this.props.currentTimelineView!==vt.f.MONTH?this.props.trackerData.timelineSnippets.ENTRIES:this.props.trackerData.timelineSnippets.ENTRIES.filter((function(e){return!(e.resourceId===vt.e.mealPlan&&b()(e.start).dayOfYear()<b()(new Date).subtract(1,"day").dayOfYear())})):[];return s.a.createElement(k.a,{className:t.root},s.a.createElement(Tr,{selectable:!0,popup:!0,onSelectEvent:this.handleEventSelect,onDoubleClickEvent:this.handleEventSelect,onSelectSlot:this.handleSlotSelect,onEventDrop:this.handleEventMove,onEventResize:this.handleEventResize,onDragStart:console.log,onDragOver:console.log,resizable:!0,onSelecting:console.log,longPressThreshold:500,drilldownView:"day",events:a,step:15,timeslots:16,min:b()("5:00am","h:mma").toDate(),max:b()("11:59pm","h:mma").toDate(),localizer:Nr,date:new Date(b()(this.props.currentTimelineDate)),onNavigate:this.props.setCurrentTimelineDate,view:this.props.currentTimelineView,onView:this.props.setCurrentTimelineView,defaultDate:new Date,defaultView:vt.f.WEEK,resources:vt.c,resourceAccessor:function(e){return e[vt.b]},resourceIdAccessor:vt.b,resourceTitleAccessor:vt.d,formats:{eventTimeRangeFormat:function(e){return b()(e.start).format("hh:mma")}},eventPropGetter:this.props.currentTimelineView!==vt.f.AGENDA?this.props.currentTimelineView===vt.f.MONTH?Xa:Ka:qa,dayPropGetter:Ga,slotPropGetter:Wa,views:{agenda:Ia,day:ia,week:sa,month:!0},components:{agenda:{event:function(t){return s.a.createElement(Ma,Object.assign({},t,{openDetailsModal:e.props.openDetailsModal,showDetailsModal:e.showDetailsModal,hideDetailsModal:e.hideDetailsModal,selectedSnippetId:e.props.selectedSnippetId,setSnippetId:e.props.setSelectedSnippetId,setSnippetType:e.props.setSelectedSnippetType,setSnippetData:e.props.setSelectedSnippetData,showRecipeModal:e.showRecipeModal,setCurrentTimelineRecipeDetail:e.props.setCurrentTimelineRecipeDetail,editTrackerEntry:e.props.editTrackerEntry,removeTrackerEntry:e.props.removeTrackerEntry,successDataTrackerSync:e.props.successDataTrackerSync,errorMessageTrackerSync:e.props.errorMessageTrackerSync}))},date:function(e){return s.a.createElement(ja,e)},time:function(e){return s.a.createElement(Pa,e)},header:function(e){return s.a.createElement(Sa,e)}},day:{header:function(e){return s.a.createElement(ya,Object.assign({},e,{events:a}))}},week:{header:function(e){return s.a.createElement(ya,Object.assign({},e,{events:a}))}},month:{header:function(e){return s.a.createElement(va,e)},dateHeader:function(e){return s.a.createElement(Ea,Object.assign({},e,{events:a}))},dateCellWrapper:function(e){return s.a.createElement(Ua,Object.assign({},e,{events:a}))}},toolbar:function(t){return s.a.createElement(St,Object.assign({view:e.props.currentTimelineView,date:e.props.currentTimelineDate,updateCalendarView:e.props.setCurrentTimelineView,updateCalendarDate:e.props.setCurrentTimelineDate,showAddDietEntryForm:e.addDietEntryFromToolbar,showAddMealPlanForm:e.addMealPlanFromToolbar},t))},timeGutterHeader:function(e){return s.a.createElement(ba,e)},timeSlotWrapper:function(e){return s.a.createElement(Ha,e)},eventContainerWrapper:function(e){return s.a.createElement("div",{style:{backgroundColor:"salmon"}},e.children)},dateCellWrapper:function(e){return s.a.createElement(Va,e)}},style:{height:"100vh"}}),this.props.openEntryModal&&!this.props.targetEntrySlot&&this.props.selectedSnippetId&&"ENTRIES"===this.props.selectedSnippetType?s.a.createElement(vr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,entry:a.find((function(t){return t._id===e.props.selectedSnippetId})),showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData,setCurrentTimelineRecipeDetail:this.props.setCurrentTimelineRecipeDetail,showRecipeModal:this.showRecipeModal,currentTimelineDate:this.props.currentTimelineDate,setCurrentTimelineDate:this.props.setCurrentTimelineDate,removeTrackerEntry:this.props.removeTrackerEntry,editTrackerEntry:this.props.editTrackerEntry,confirmTimeSlotSelection:this.props.confirmTimeSlotSelection,setConfirmTimeSlotSelection:this.props.setConfirmTimeSlotSelection,dateTimePickerVisibility:this.props.dateTimePickerVisibility,setDateTimePickerVisibility:this.props.setDateTimePickerVisibility,successDataTrackerSync:this.props.successDataTrackerSync,errorMessageTrackerSync:this.props.errorMessageTrackerSync}):null,this.props.openEntryModal&&this.props.targetEntrySlot&&"NEW"===this.props.selectedSnippetType?this.props.entryModalState===vt.e.dietEntry?s.a.createElement(tr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,targetEntrySlot:this.props.targetEntrySlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,switchAddEntryForm:this.switchAddEntryForm,setEntryModalState:this.props.setEntryModalState}):s.a.createElement(mr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,targetEntrySlot:this.props.targetEntrySlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,switchAddEntryForm:this.switchAddEntryForm,setEntryModalState:this.props.setEntryModalState}):null,this.props.openEntryModal&&this.props.targetEntrySlot&&this.props.targetTimelineDate&&this.props.selectedSnippetId&&"DAYS"===this.props.selectedSnippetType?s.a.createElement(Sr,{openEntryModal:this.props.openEntryModal,targetDate:this.props.targetTimelineDate,entryModalState:this.props.entryModalState,targetSlots:this.props.targetEntrySlot,selectionData:this.props.selectedSnippetType&&this.props.selectedSnippetId&&this.props.trackerData.timelineSnippets[this.props.selectedSnippetType].find((function(t){return t.resourceId===e.props.entryModalState&&(t._id===e.props.selectedSnippetId||t.id===e.props.selectedSnippetId)})),setCurrentTimelineView:this.props.setCurrentTimelineView,setCurrentTimelineDate:this.props.setCurrentTimelineDate,addEntryToTargetSlot:this.addEntryToTargetSlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData}):null,this.props.openDetailsModal&&this.props.selectedSnippetData?s.a.createElement(ir.a,{openDetailsModal:this.props.openDetailsModal,showDetailsModal:this.showDetailsModal,hideDetailsModal:this.hideDetailsModal,selectedSnippetType:this.props.selectedSnippetType,selectionData:this.props.selectedSnippetData}):null,this.props.openRecipeModal&&this.props.currentTimelineRecipeDetail?s.a.createElement(Dr,{openRecipeModal:this.props.openRecipeModal,entryModalState:this.props.entryModalState,showRecipeModal:this.showRecipeModal,hideRecipeModal:this.hideRecipeModal,currentTimelineRecipeDetail:this.props.currentTimelineRecipeDetail,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData}):null)}}]),t}(l.PureComponent),Mr=Object(p.compose)(Object(S.a)((function(e){return{root:{marginTop:20}}})),u.withSnackbar,Object(d.b)((function(e){return{authenticated:e.appData.auth.token,successDataTrackerSync:e.appState.trackerSync.successData,errorMessageTrackerSync:e.appState.trackerSync.errorMessage,trackerData:e.appData.tracker.selectedTracker,currentTimelineView:e.appData.tracker.currentTimeline.viewKey,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,targetTimelineDate:e.appData.tracker.targetTimeline.targetDate,selectedSnippetId:e.appData.tracker.targetTimeline.selectedSnippetId,selectedSnippetType:e.appData.tracker.targetTimeline.selectedSnippetType,selectedSnippetData:e.appData.tracker.targetTimeline.selectedSnippetData,targetEntrySlot:e.appData.tracker.targetTimeline.targetEntrySlot,confirmTimeSlotSelection:e.appData.tracker.targetTimeline.confirmTimeSlotSelectionTimelineEntry,currentTimelineRecipeDetail:e.appData.userData.recipes.current.timelineDetail,entryModalState:e.uiState.uiModalOneHelper.uiState,openEntryModal:e.uiState.uiModalOneHelper.isVisible,detailsModalState:e.uiState.uiModalTwoHelper.uiState,openDetailsModal:e.uiState.uiModalTwoHelper.isVisible,recipeModalState:e.uiState.uiModalThreeHelper.uiState,openRecipeModal:e.uiState.uiModalThreeHelper.isVisible,dateTimePickerVisibility:e.uiState.uiStateHelperTwo.isVisible}}),{setCurrentTimelineView:y.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:y.trackerActions.setCurrentTimelineDate,setTargetTimelineDate:y.trackerActions.setTargetTimelineDate,setSelectedSnippetId:y.trackerActions.setSelectedSnippetId,setSelectedSnippetType:y.trackerActions.setSelectedSnippetType,setSelectedSnippetData:y.trackerActions.setSelectedSnippetData,setTargetNewEntrySlot:y.trackerActions.setTargetNewEntrySlot,setConfirmTimeSlotSelection:y.trackerActions.setConfirmTimeSlotSelectionTimelineEntry,editTrackerEntry:y.trackerActions.editTrackerEntry,removeTrackerEntry:y.trackerActions.removeTrackerEntry,setEntryModalVisibility:y.uiStateActions.setModalOneVisibility,setEntryModalState:y.uiStateActions.setModalOneState,setDetailsModalVisibility:y.uiStateActions.setModalTwoVisibility,setDetailsModalState:y.uiStateActions.setModalTwoState,setRecipeModalVisibility:y.uiStateActions.setModalThreeVisibility,setRecipeModalState:y.uiStateActions.setModalThreeState,setMouseMoveDateCellState:y.uiStateActions.setUIStateHelperOne,setDateTimePickerState:y.uiStateActions.setUIStateHelperTwo,setDateTimePickerVisibility:y.uiStateActions.setHelperTwoVisibility,setCurrentTimelineRecipeDetail:y.recipesActions.setCurrentTimelineRecipeDetail,clearCurrentRecipesData:y.recipesActions.clearCurrentRecipesData,clearSyncTrackerAppState:y.appStateActions.clearSyncTrackerAppState,clearAllAppState:y.appStateActions.clearAllAppState}))(wr),jr=a(664),Pr=a(638),Ar=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){console.log({allTrackers:a.props.allTrackers}),a.props.authenticated&&!a.props.allTrackers&&a.props.getAllTrackers(),a.props.authenticated&&a.props.lastUsedDefaultTracker&&!a.props.trackerData._id&&a.props.getTracker(a.props.lastUsedDefaultTracker)},a.redirectToAddMealPlan=function(){a.props.trackerData&&a.props.trackerData._id?(a.props.history.push("/tracker/timeline"),a.props.setEntryModalState(vt.e.mealPlan),a.props.setTargetNewEntrySlot({action:"trackerMenu",start:new Date(b()(a.props.currentTimelineDate).add(1,"day")),end:new Date(b()(a.props.currentTimelineDate).add(1,"day").add(15,"minutes"))}),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)):a.props.history.push("/tracker/startSelectTracker")},a.redirectToAddDietEntry=function(){a.props.trackerData&&a.props.trackerData._id?(a.props.history.push("/tracker/timeline"),a.props.setEntryModalState(vt.e.dietEntry),a.props.setTargetNewEntrySlot({action:"trackerMenu",start:new Date(b()(a.props.currentTimelineDate)),end:new Date(b()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)):a.props.history.push("/tracker/startSelectTracker")},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.lastUsedDefaultTracker!==this.props.lastUsedDefaultTracker&&this.props.lastUsedDefaultTracker&&!this.props.trackerData._id&&this.props.getTracker(this.props.lastUsedDefaultTracker),e.errorMessageTrackerSync!==this.props.errorMessageTrackerSync&&this.props.errorMessageTrackerSync&&this.props.enqueueSnackbar(this.props.errorMessageTrackerSync,{variant:"error"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,r=t.history,n=t.authenticated,o=t.trackerData,i=t.allTrackers,c=t.lastUsedDefaultTracker,l=t.userMetaData,d=t.successDataTrackerSync,u=t.errorMessageTrackerSync;return s.a.createElement("div",null,s.a.createElement("nav",null,s.a.createElement(Pr.a,{currentLocation:r.location.pathname},s.a.createElement(m.b,{to:"/tracker/timeline"},"Tracker Timeline"),s.a.createElement(m.b,{to:"/tracker/startSelectTracker"},"Start Select Tracker"),s.a.createElement(m.b,{to:"/tracker/trackerPreferences"},"Tracker Preferences"),s.a.createElement("button",{type:"button",onClick:this.redirectToAddDietEntry},"Add Diet Entry"),s.a.createElement("button",{type:"button",onClick:this.redirectToAddMealPlan},"Add Meal Plan"),s.a.createElement(m.b,{to:"/tracker/recentActivity"},"Recent Activity"))),n?s.a.createElement(f.d,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{replace:!0},s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/timeline"),render:function(e){return s.a.createElement(Mr,e)}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/startSelectTracker"),render:function(t){return s.a.createElement(A,Object.assign({allTrackers:i,lastUsedDefaultTracker:c,handleSelectTracker:e.props.getTracker,handleStartNewTracker:e.props.createTracker,successDataTrackerSync:d,errorMessageTrackerSync:u},t))}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/trackerPreferences"),render:function(t){return s.a.createElement(U,Object.assign({trackerData:o,trackerPreferences:o&&o.preferences,updateTrackerPreferences:e.props.editTrackerPreferences,successDataTrackerSync:d,errorMessageTrackerSync:u},t))}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/recentActivity"),render:function(t){return s.a.createElement(jr.a,Object.assign({trackerData:o,allTrackers:i,userMetaData:l,setCurrentTimelineView:e.props.setCurrentTimelineView,setCurrentTimelineDate:e.props.setCurrentTimelineDate,redirectToAddDietEntry:e.redirectToAddDietEntry,redirectToAddMealPlan:e.redirectToAddMealPlan},t))}}))),s.a.createElement(s.a.Fragment,null,i&&0!==i.length?s.a.createElement(f.a,{from:"/tracker",to:"/tracker/timeline"}):s.a.createElement(f.a,{from:"/tracker",to:"/tracker/startSelectTracker"}))):s.a.createElement(f.a,{to:"/"}))}}]),t}(l.Component),xr=Object(p.compose)(u.withSnackbar,Object(d.b)((function(e){return{authenticated:e.appData.auth.token,successDataTrackerSync:e.appState.trackerSync.successData,errorMessageTrackerSync:e.appState.trackerSync.errorMessage,allTrackers:e.appData.tracker.allTrackers,lastUsedDefaultTracker:e.appData.tracker.lastUsedDefaultTracker,trackerData:e.appData.tracker.selectedTracker,currentTimelineView:e.appData.tracker.currentTimeline.viewKey,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,userMetaData:e.appData.userData.settings.metaData}}),{getNutrition:y.nutritionActions.getNutrition,saveNutritionQuery:y.nutritionActions.saveNutritionQuery,getAllTrackers:y.trackerActions.getAllTrackers,getTracker:y.trackerActions.getTracker,addEntryToTracker:y.trackerActions.addEntryToTracker,createTracker:y.trackerActions.createTracker,editTrackerPreferences:y.trackerActions.editTrackerPreferences,setCurrentTimelineView:y.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:y.trackerActions.setCurrentTimelineDate,setTargetNewEntrySlot:y.trackerActions.setTargetNewEntrySlot,setSelectedSnippetType:y.trackerActions.setSelectedSnippetType,setEntryModalState:y.uiStateActions.setModalOneState,setEntryModalVisibility:y.uiStateActions.setModalOneVisibility}));t.default=xr(Ar)},741:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(30),o=a(31),i=a(34),c=a(32),l=a(33),s=a(0),d=a.n(s),u=a(39),p=a(60),m=a(26),f=a(71),h=a(96),g=a(662),b=a(13),y=a(6),v=a(76),E=a(98),S=a(9),k=a(566),D=a(567),O=a(191),C=a(193),N=a(573),T=a(630),w=a(632);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=Array(90).fill(10).map((function(e,t){return{value:e+t,label:e+t,name:"age"}})),A=Array(150).fill(80).map((function(e,t){return{value:e+t,label:e+t,name:"height"}})),x=Array(60).fill(40).map((function(e,t){var a=e+t,r=Math.floor(a/12),n=a%12;return{value:"".concat(r,"'").concat(n,"''"),label:"".concat(r,"'").concat(n,"''"),name:"height"}})),R=Array(300).fill(20).map((function(e,t){return{value:e+t,label:e+t,name:"weight"}})),_=[{Code:"AF",Name:"Afghanistan"},{Code:"AX",Name:"\xc5land Islands"},{Code:"AL",Name:"Albania"},{Code:"DZ",Name:"Algeria"},{Code:"AS",Name:"American Samoa"},{Code:"AD",Name:"Andorra"},{Code:"AO",Name:"Angola"},{Code:"AI",Name:"Anguilla"},{Code:"AQ",Name:"Antarctica"},{Code:"AG",Name:"Antigua and Barbuda"},{Code:"AR",Name:"Argentina"},{Code:"AM",Name:"Armenia"},{Code:"AW",Name:"Aruba"},{Code:"AU",Name:"Australia"},{Code:"AT",Name:"Austria"},{Code:"AZ",Name:"Azerbaijan"},{Code:"BS",Name:"Bahamas"},{Code:"BH",Name:"Bahrain"},{Code:"BD",Name:"Bangladesh"},{Code:"BB",Name:"Barbados"},{Code:"BY",Name:"Belarus"},{Code:"BE",Name:"Belgium"},{Code:"BZ",Name:"Belize"},{Code:"BJ",Name:"Benin"},{Code:"BM",Name:"Bermuda"},{Code:"BT",Name:"Bhutan"},{Code:"BO",Name:"Bolivia, Plurinational State of"},{Code:"BQ",Name:"Bonaire, Sint Eustatius and Saba"},{Code:"BA",Name:"Bosnia and Herzegovina"},{Code:"BW",Name:"Botswana"},{Code:"BV",Name:"Bouvet Island"},{Code:"BR",Name:"Brazil"},{Code:"IO",Name:"British Indian Ocean Territory"},{Code:"BN",Name:"Brunei Darussalam"},{Code:"BG",Name:"Bulgaria"},{Code:"BF",Name:"Burkina Faso"},{Code:"BI",Name:"Burundi"},{Code:"KH",Name:"Cambodia"},{Code:"CM",Name:"Cameroon"},{Code:"CA",Name:"Canada"},{Code:"CV",Name:"Cape Verde"},{Code:"KY",Name:"Cayman Islands"},{Code:"CF",Name:"Central African Republic"},{Code:"TD",Name:"Chad"},{Code:"CL",Name:"Chile"},{Code:"CN",Name:"China"},{Code:"CX",Name:"Christmas Island"},{Code:"CC",Name:"Cocos (Keeling) Islands"},{Code:"CO",Name:"Colombia"},{Code:"KM",Name:"Comoros"},{Code:"CG",Name:"Congo"},{Code:"CD",Name:"Congo, the Democratic Republic of the"},{Code:"CK",Name:"Cook Islands"},{Code:"CR",Name:"Costa Rica"},{Code:"CI",Name:"C\xf4te d'Ivoire"},{Code:"HR",Name:"Croatia"},{Code:"CU",Name:"Cuba"},{Code:"CW",Name:"Cura\xe7ao"},{Code:"CY",Name:"Cyprus"},{Code:"CZ",Name:"Czech Republic"},{Code:"DK",Name:"Denmark"},{Code:"DJ",Name:"Djibouti"},{Code:"DM",Name:"Dominica"},{Code:"DO",Name:"Dominican Republic"},{Code:"EC",Name:"Ecuador"},{Code:"EG",Name:"Egypt"},{Code:"SV",Name:"El Salvador"},{Code:"GQ",Name:"Equatorial Guinea"},{Code:"ER",Name:"Eritrea"},{Code:"EE",Name:"Estonia"},{Code:"ET",Name:"Ethiopia"},{Code:"FK",Name:"Falkland Islands (Malvinas)"},{Code:"FO",Name:"Faroe Islands"},{Code:"FJ",Name:"Fiji"},{Code:"FI",Name:"Finland"},{Code:"FR",Name:"France"},{Code:"GF",Name:"French Guiana"},{Code:"PF",Name:"French Polynesia"},{Code:"TF",Name:"French Southern Territories"},{Code:"GA",Name:"Gabon"},{Code:"GM",Name:"Gambia"},{Code:"GE",Name:"Georgia"},{Code:"DE",Name:"Germany"},{Code:"GH",Name:"Ghana"},{Code:"GI",Name:"Gibraltar"},{Code:"GR",Name:"Greece"},{Code:"GL",Name:"Greenland"},{Code:"GD",Name:"Grenada"},{Code:"GP",Name:"Guadeloupe"},{Code:"GU",Name:"Guam"},{Code:"GT",Name:"Guatemala"},{Code:"GG",Name:"Guernsey"},{Code:"GN",Name:"Guinea"},{Code:"GW",Name:"Guinea-Bissau"},{Code:"GY",Name:"Guyana"},{Code:"HT",Name:"Haiti"},{Code:"HM",Name:"Heard Island and McDonald Islands"},{Code:"VA",Name:"Holy See (Vatican City State)"},{Code:"HN",Name:"Honduras"},{Code:"HK",Name:"Hong Kong"},{Code:"HU",Name:"Hungary"},{Code:"IS",Name:"Iceland"},{Code:"IN",Name:"India"},{Code:"ID",Name:"Indonesia"},{Code:"IR",Name:"Iran, Islamic Republic of"},{Code:"IQ",Name:"Iraq"},{Code:"IE",Name:"Ireland"},{Code:"IM",Name:"Isle of Man"},{Code:"IL",Name:"Israel"},{Code:"IT",Name:"Italy"},{Code:"JM",Name:"Jamaica"},{Code:"JP",Name:"Japan"},{Code:"JE",Name:"Jersey"},{Code:"JO",Name:"Jordan"},{Code:"KZ",Name:"Kazakhstan"},{Code:"KE",Name:"Kenya"},{Code:"KI",Name:"Kiribati"},{Code:"KP",Name:"Korea, Democratic People's Republic of"},{Code:"KR",Name:"Korea, Republic of"},{Code:"KW",Name:"Kuwait"},{Code:"KG",Name:"Kyrgyzstan"},{Code:"LA",Name:"Lao People's Democratic Republic"},{Code:"LV",Name:"Latvia"},{Code:"LB",Name:"Lebanon"},{Code:"LS",Name:"Lesotho"},{Code:"LR",Name:"Liberia"},{Code:"LY",Name:"Libya"},{Code:"LI",Name:"Liechtenstein"},{Code:"LT",Name:"Lithuania"},{Code:"LU",Name:"Luxembourg"},{Code:"MO",Name:"Macao"},{Code:"MK",Name:"Macedonia, the Former Yugoslav Republic of"},{Code:"MG",Name:"Madagascar"},{Code:"MW",Name:"Malawi"},{Code:"MY",Name:"Malaysia"},{Code:"MV",Name:"Maldives"},{Code:"ML",Name:"Mali"},{Code:"MT",Name:"Malta"},{Code:"MH",Name:"Marshall Islands"},{Code:"MQ",Name:"Martinique"},{Code:"MR",Name:"Mauritania"},{Code:"MU",Name:"Mauritius"},{Code:"YT",Name:"Mayotte"},{Code:"MX",Name:"Mexico"},{Code:"FM",Name:"Micronesia, Federated States of"},{Code:"MD",Name:"Moldova, Republic of"},{Code:"MC",Name:"Monaco"},{Code:"MN",Name:"Mongolia"},{Code:"ME",Name:"Montenegro"},{Code:"MS",Name:"Montserrat"},{Code:"MA",Name:"Morocco"},{Code:"MZ",Name:"Mozambique"},{Code:"MM",Name:"Myanmar"},{Code:"NA",Name:"Namibia"},{Code:"NR",Name:"Nauru"},{Code:"NP",Name:"Nepal"},{Code:"NL",Name:"Netherlands"},{Code:"NC",Name:"New Caledonia"},{Code:"NZ",Name:"New Zealand"},{Code:"NI",Name:"Nicaragua"},{Code:"NE",Name:"Niger"},{Code:"NG",Name:"Nigeria"},{Code:"NU",Name:"Niue"},{Code:"NF",Name:"Norfolk Island"},{Code:"MP",Name:"Northern Mariana Islands"},{Code:"NO",Name:"Norway"},{Code:"OM",Name:"Oman"},{Code:"PK",Name:"Pakistan"},{Code:"PW",Name:"Palau"},{Code:"PS",Name:"Palestine, State of"},{Code:"PA",Name:"Panama"},{Code:"PG",Name:"Papua New Guinea"},{Code:"PY",Name:"Paraguay"},{Code:"PE",Name:"Peru"},{Code:"PH",Name:"Philippines"},{Code:"PN",Name:"Pitcairn"},{Code:"PL",Name:"Poland"},{Code:"PT",Name:"Portugal"},{Code:"PR",Name:"Puerto Rico"},{Code:"QA",Name:"Qatar"},{Code:"RE",Name:"R\xe9union"},{Code:"RO",Name:"Romania"},{Code:"RU",Name:"Russian Federation"},{Code:"RW",Name:"Rwanda"},{Code:"BL",Name:"Saint Barth\xe9lemy"},{Code:"SH",Name:"Saint Helena, Ascension and Tristan da Cunha"},{Code:"KN",Name:"Saint Kitts and Nevis"},{Code:"LC",Name:"Saint Lucia"},{Code:"MF",Name:"Saint Martin (French part)"},{Code:"PM",Name:"Saint Pierre and Miquelon"},{Code:"VC",Name:"Saint Vincent and the Grenadines"},{Code:"WS",Name:"Samoa"},{Code:"SM",Name:"San Marino"},{Code:"ST",Name:"Sao Tome and Principe"},{Code:"SA",Name:"Saudi Arabia"},{Code:"SN",Name:"Senegal"},{Code:"RS",Name:"Serbia"},{Code:"SC",Name:"Seychelles"},{Code:"SL",Name:"Sierra Leone"},{Code:"SG",Name:"Singapore"},{Code:"SX",Name:"Sint Maarten (Dutch part)"},{Code:"SK",Name:"Slovakia"},{Code:"SI",Name:"Slovenia"},{Code:"SB",Name:"Solomon Islands"},{Code:"SO",Name:"Somalia"},{Code:"ZA",Name:"South Africa"},{Code:"GS",Name:"South Georgia and the South Sandwich Islands"},{Code:"SS",Name:"South Sudan"},{Code:"ES",Name:"Spain"},{Code:"LK",Name:"Sri Lanka"},{Code:"SD",Name:"Sudan"},{Code:"SR",Name:"Suriname"},{Code:"SJ",Name:"Svalbard and Jan Mayen"},{Code:"SZ",Name:"Swaziland"},{Code:"SE",Name:"Sweden"},{Code:"CH",Name:"Switzerland"},{Code:"SY",Name:"Syrian Arab Republic"},{Code:"TW",Name:"Taiwan, Province of China"},{Code:"TJ",Name:"Tajikistan"},{Code:"TZ",Name:"Tanzania, United Republic of"},{Code:"TH",Name:"Thailand"},{Code:"TL",Name:"Timor-Leste"},{Code:"TG",Name:"Togo"},{Code:"TK",Name:"Tokelau"},{Code:"TO",Name:"Tonga"},{Code:"TT",Name:"Trinidad and Tobago"},{Code:"TN",Name:"Tunisia"},{Code:"TR",Name:"Turkey"},{Code:"TM",Name:"Turkmenistan"},{Code:"TC",Name:"Turks and Caicos Islands"},{Code:"TV",Name:"Tuvalu"},{Code:"UG",Name:"Uganda"},{Code:"UA",Name:"Ukraine"},{Code:"AE",Name:"United Arab Emirates"},{Code:"GB",Name:"United Kingdom"},{Code:"US",Name:"United States"},{Code:"UM",Name:"United States Minor Outlying Islands"},{Code:"UY",Name:"Uruguay"},{Code:"UZ",Name:"Uzbekistan"},{Code:"VU",Name:"Vanuatu"},{Code:"VE",Name:"Venezuela, Bolivarian Republic of"},{Code:"VN",Name:"Viet Nam"},{Code:"VG",Name:"Virgin Islands, British"},{Code:"VI",Name:"Virgin Islands, U.S."},{Code:"WF",Name:"Wallis and Futuna"},{Code:"EH",Name:"Western Sahara"},{Code:"YE",Name:"Yemen"},{Code:"ZM",Name:"Zambia"},{Code:"ZW",Name:"Zimbabwe"}].map((function(e){return{value:e.Code,label:e.Name,name:"country"}})),I=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",age:"",weight:"",weightUnit:"kgs",height:"",heightUnit:"inches",country:""},a.handleChange=function(e){a.setState(Object(r.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.editUserSettings=function(e){e.preventDefault(),a.props.handleSetUserSettings({metaData:j({},a.state,{height:"inches"===a.state.heightUnit?Math.floor(30.48*Number(a.state.height.split("'")[0])+2.54*parseInt(a.state.height.split("'")[1])):a.state.height})})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.props.userSettings){var e=this.props.userSettings,t=e.heightUnit,a=e.height;this.setState(j({},this.props.userSettings,{height:"inches"===t?"".concat(Math.floor(a/30.48),"'").concat(Math.round(a%30.48/2.54),"''"):a}))}}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.name,r=t.age,n=t.height,o=t.heightUnit,i=t.weight,c=t.weightUnit,l=t.country;return d.a.createElement("div",null,d.a.createElement(v.a,{className:e.rootPaper},d.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"Setup your user profile"),d.a.createElement(T.ValidatorForm,{className:e.inputForm,onSubmit:this.editUserSettings,onError:function(e){return console.log(e)}},d.a.createElement(S.a,{variant:"body1",gutterBottom:!0},"Update your personal info"),d.a.createElement("div",{className:e.inputGroup},d.a.createElement(T.TextValidator,{className:e.textField,label:"Name",onChange:this.handleChange,name:"name",value:a||"",validators:["maxStringLength:50"],errorMessages:["max length exceeded!"]})),d.a.createElement("div",{className:e.inputGroup},d.a.createElement(O.a,{className:e.formControl},d.a.createElement(w.a,{id:"select-age",name:"age",label:"Age",options:P,value:r,updateSelection:this.handleChange}),d.a.createElement(C.a,null,"Accuracy helps better analysis"))),d.a.createElement("div",{className:e.inputGroup},d.a.createElement(O.a,{className:e.formControl},d.a.createElement(w.a,{id:"select-height",name:"height",label:"Height",value:n,options:"inches"===o?x:A,updateSelection:this.handleChange}),d.a.createElement(C.a,null,"As accurate as possible")),d.a.createElement(O.a,{className:e.formControl},d.a.createElement(k.a,{id:"demo-simple-select-helper-label"},"Unit"),d.a.createElement(N.a,{name:"heightUnit",label:"Unit for height",id:"demo-simple-select-helper",value:o,onChange:this.handleChange},d.a.createElement(D.a,{value:""},d.a.createElement("em",null,"None")),d.a.createElement(D.a,{value:"inches"},"ft-inches"),d.a.createElement(D.a,{value:"cms"},"centimeters")),d.a.createElement(C.a,null,"Set unit for height"))),d.a.createElement("div",{className:e.inputGroup},d.a.createElement(O.a,{className:e.formControl},d.a.createElement(w.a,{id:"select-weight",name:"weight",label:"Weight",options:R,value:i,updateSelection:this.handleChange}),d.a.createElement(C.a,null,"As accurate as possible")),d.a.createElement(O.a,{className:e.formControl},d.a.createElement(k.a,{id:"demo-simple-select-helper-label"},"Unit"),d.a.createElement(N.a,{name:"weightUnit",label:"Unit for weight",id:"demo-simple-select-helper",value:c,onChange:this.handleChange},d.a.createElement(D.a,{value:""},d.a.createElement("em",null,"None")),d.a.createElement(D.a,{value:"kgs"},"kilograms"),d.a.createElement(D.a,{value:"pounds"},"pounds")),d.a.createElement(C.a,null,"Set unit for Weight"))),d.a.createElement("div",{className:e.inputGroup},d.a.createElement(O.a,{className:e.formControl},d.a.createElement(w.a,{id:"select-country",name:"country",label:"Country",value:l,options:_,updateSelection:this.handleChange}),d.a.createElement(C.a,null,"Provide current country location"))),d.a.createElement(E.a,{className:e.submitButton,variant:"contained",color:"default",type:"submit"},"Save Your Profile Data"))))}}]),t}(s.Component),F=Object(y.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:10,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},formControl:{marginRight:50},submitButton:{marginTop:20}}}))(I),B=a(574),V=a(251);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={expanded:!1,diet:void 0,intolerances:void 0,cuisine:void 0,excludeIngredients:void 0},a.editUserSettings=function(e){e.preventDefault();var t=a.state,r=t.diet,n=t.intolerances,o=t.cuisine,i=t.excludeIngredients;a.setState({expanded:!1}),a.props.handleSetUserSettings({preferences:{diet:r,intolerances:n,cuisine:o,excludeIngredients:i}})},a.handleSearchPreferencesPanelExpansion=function(e){return function(t,r){a.setState({expanded:!!r&&e})}},a.handleSearchPreferencesSelection=function(e){var t=a.state,r=t.diet,n=t.intolerances,o=t.cuisine,i=t.excludeIngredients;B.a(U({},e),{diet:r,intolerances:n,cuisine:o,excludeIngredients:i})||a.setState(U({},e))},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.expanded,t=this.props.classes;return d.a.createElement(v.a,{className:t.rootPaper},d.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"Set your diet choices & restrictions"),d.a.createElement("form",{onSubmit:this.editUserSettings,className:t.form},d.a.createElement("legend",null,d.a.createElement(S.a,{variant:"body1",gutterBottom:!0},"Update your diet Preferences ",d.a.createElement("em",null,"(default choices)"))),d.a.createElement(V.a,{expanded:e,preferenceOutputType:"Object",preferences:this.props.userSettings,handleSearchPreferencesPanelExpansion:this.handleSearchPreferencesPanelExpansion,setSearchPreferences:this.handleSearchPreferencesSelection}),d.a.createElement(E.a,{className:t.submitButton,variant:"contained",type:"submit"},"Save Diet Preferences")))}}]),t}(s.Component),z=Object(y.a)((function(e){return{rootPaper:{flexGrow:1,marginTop:20,backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20},paper:{padding:e.spacing(3,2)},form:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:20},submitButton:{margin:20,alignSelf:"flex-end"}}}))(Y),H=a(192),G=a(232),W=a(233),q=a(236),K=a(11),X=a.n(K),Q=a(8),J=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={unitsState:{si:{checked:!0,value:"si"},imperial:{checked:!1,value:"imperial"}},dNDState:{true:{checked:!1,value:"true"},false:{checked:!0,value:"false"}},units:void 0,doNotDisturb:void 0,lastSynced:void 0,syncFrequency:""},a.componentDidMount=function(){a.props.userSettings&&a.setState(a.props.userSettings),a.getCheckboxValues()},a.getCheckboxValues=function(){a.setState({units:Object.keys(a.state.unitsState).find((function(e){return!0===a.state.unitsState[e].checked})),doNotDisturb:Object.keys(a.state.dNDState).find((function(e){return!0===a.state.dNDState[e].checked}))})},a.handleChange=function(e){a.setState(Object(r.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.handleCheckboxChange=function(e){return function(t){return function(n){var o=n.target.checked;a.setState(Object(r.a)({},e,Object(Q.d)(a.state[e],o,t,"checked")),(function(){Object.keys(a.state[e]).filter((function(e){return e!==t})).forEach((function(t){a.setState(Object(r.a)({},e,Object(Q.d)(a.state[e],!o,t,"checked")))}))}))}}},a.editUserSettings=function(e){e.preventDefault();var t=a.state,r=t.units,n=t.doNotDisturb,o=t.syncFrequency,i=t.unitsState,c=t.dNDState;a.props.handleSetUserSettings({globalSettings:{units:r,doNotDisturb:n,syncFrequency:o,unitsState:i,dNDState:c}})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=Object.keys(this.state.unitsState).find((function(e){return!0===a.state.unitsState[e].checked})),n=Object.keys(this.state.dNDState).find((function(e){return!0===a.state.dNDState[e].checked}));t.units===r&&t.doNotDisturb===n||this.getCheckboxValues()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.unitsState,n=a.dNDState,o=a.lastSynced,i=a.syncFrequency,c="true"===Object.keys(n).find((function(e){return n[e].checked}));return d.a.createElement("div",null,d.a.createElement(v.a,{className:t.rootPaper},d.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"Setup your app preferences"),d.a.createElement("form",{className:t.inputForm,onSubmit:this.editUserSettings},d.a.createElement(S.a,{variant:"body1",gutterBottom:!0},"Update global app settings"),d.a.createElement("div",{className:t.inputGroup},d.a.createElement(O.a,{className:t.formControl},d.a.createElement(H.a,{component:"legend"},"Select units preference"),d.a.createElement(G.a,{className:t.checkBoxesConatiner},Object.keys(r).map((function(t){return d.a.createElement(W.a,{key:t,control:d.a.createElement(q.a,{checked:r[t].checked,onChange:e.handleCheckboxChange("unitsState")(r[t].value),value:r[t].value}),label:r[t].value})}))),d.a.createElement(C.a,null,"Select SI for Kilograms, Grams, ..."),d.a.createElement(C.a,null,"Select Imperial for Pounds, Ounces, ..."))),d.a.createElement("div",{className:t.inputGroup},d.a.createElement(O.a,{className:t.formControl},d.a.createElement(H.a,{error:c,component:"legend"},"Select Do not disturb preference"),d.a.createElement(G.a,{className:t.checkBoxesConatiner},Object.keys(n).map((function(t){return d.a.createElement(W.a,{key:t,control:d.a.createElement(q.a,{checked:n[t].checked,onChange:e.handleCheckboxChange("dNDState")(n[t].value),value:n[t].value}),label:n[t].value})}))),d.a.createElement(C.a,null,"*Stops all app notifications"))),d.a.createElement("div",{className:t.inputGroup},d.a.createElement(O.a,{className:t.formControl},d.a.createElement(k.a,{id:"select-syncFrequency-label"},"Sync frequency"),d.a.createElement(N.a,{name:"syncFrequency",label:"Do Not Disturb",id:"select-syncFrequency",value:i||"",onChange:this.handleChange},d.a.createElement(D.a,{value:""},d.a.createElement("em",null,"don't sync")),d.a.createElement(D.a,{value:"hour"},"hour"),d.a.createElement(D.a,{value:"day"},"day"),d.a.createElement(D.a,{value:"week"},"week")),d.a.createElement(C.a,null,"Set data sync frequency"),d.a.createElement(C.a,null,"last synced: ",o?X()(o):null))),d.a.createElement(E.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Save App Settings"))))}}]),t}(s.Component),Z=Object(y.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:20,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},formControl:{margin:e.spacing(3),marginRight:50},checkBoxesConatiner:{display:"flex",flexFlow:"row wrap"},submitButton:{marginTop:20}}}))(J),$=a(638);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var te=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).componentDidUpdate=function(e,t){e.errorMessageSettingsSync!==a.props.errorMessageSettingsSync&&a.props.errorMessageSettingsSync&&a.props.enqueueSnackbar(a.props.errorMessageSettingsSync,{variant:"error"}),e.successDataSettingsSync!==a.props.successDataSettingsSync&&a.props.successDataSettingsSync&&a.props.enqueueSnackbar("Your settings have been updated.",{variant:"success"})},a.setUserSettingsHandler=function(e){a.props.setUserSettings(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e))},a.resetPasswordHandler=function(){a.props.resetPassword()},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.userSettings||this.props.getUserSettings()}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,r=t.history,n=t.authenticated,o=t.errorMessageSettingsSync,i=t.userSettings;return d.a.createElement("div",null,d.a.createElement("nav",null,d.a.createElement($.a,{currentLocation:r.location.pathname},d.a.createElement(f.c,{exact:!0,to:"/settings/preferences"},"Diet Preferences"),d.a.createElement(f.c,{exact:!0,to:"/settings/metaData"},"Meta Profile Data"),d.a.createElement(f.c,{exact:!0,to:"/settings/globalSettings"},"Global Settings"))),n?d.a.createElement(h.d,null,d.a.createElement(d.a.Fragment,null,d.a.createElement(g.a,{replace:!0},d.a.createElement(h.b,{exact:!0,path:"".concat(a.url,"/preferences"),render:function(t){return d.a.createElement(z,Object.assign({errorMessage:o,userSettings:i.preferences,handleSetUserSettings:e.setUserSettingsHandler},t))}}),d.a.createElement(h.b,{exact:!0,path:"".concat(a.url,"/metaData"),render:function(t){return d.a.createElement(F,Object.assign({errorMessage:o,userSettings:i.metaData,handleSetUserSettings:e.setUserSettingsHandler},t))}}),d.a.createElement(h.b,{exact:!0,path:"".concat(a.url,"/globalSettings"),render:function(t){return d.a.createElement(Z,Object.assign({errorMessage:o,userSettings:i.globalSettings,handleSetUserSettings:e.setUserSettingsHandler},t))}}))),d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,{exact:!0,from:"/settings",to:"/settings/preferences"}))):d.a.createElement(h.a,{to:"/"}))}}]),t}(s.Component),ae=Object(m.compose)(p.withSnackbar,Object(u.b)((function(e){return{authenticated:e.appData.auth.token,successDataSettingsSync:e.appState.settingsSync.successData,errorMessageSettingsSync:e.appState.settingsSync.errorMessage,userSettings:e.appData.userData.settings}}),{getUserSettings:b.settingsActions.getUserSettings,setUserSettings:b.settingsActions.setUserSettings,resetPassword:b.settingsActions.resetPassword}));t.default=ae(te)},855:function(e,t,a){"use strict";a.r(t);var r=a(30),n=a(31),o=a(34),i=a(32),c=a(33),l=a(0),s=a.n(l),d=a(96),u=a(39),p=a(60),m=a(26),f=a(13),h=a(6),g=a(98),b=a(741),y=a(740),v=a(71),E=a(105),S=a(11),k=a.n(S),D=a(234),O=a(336),C=a(235),N=a(76),T=a(77),w=a(142),M=a(29),j=a(9),P=Object(E.a)((function(e){return{root:{margin:0,padding:0,paddingTop:20,maxWidth:"100%",overflow:"visible"},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10,textTransform:"capitalize"}}})),A=function(e){var t=P(),a=e.userMetaData,r=e.history,n=function(e){r.push("/settings/metaData")};return s.a.createElement(N.a,{className:t.root},s.a.createElement(j.a,{variant:"h5",gutterBottom:!0},"User Diet Info"),s.a.createElement(T.a,{container:!0,spacing:3,justify:"space-around"},s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Your diet profile",subheader:"Accuracy helps with better analysis"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},Object.keys(a).map((function(e,r){return"lastUpdated"!==e&&s.a.createElement(M.a,{key:r,className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:n.bind(void 0,e),className:t.button},s.a.createElement(j.a,{variant:"body2"},a[e]," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},e)))}))),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(a.lastUpdated).format("ddd, hA")))))))},x=Object(E.a)((function(e){return{root:{margin:0,padding:0,paddingTop:20,maxWidth:"100%",overflow:"visible"},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)",zIndex:"1 !important"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10,textTransform:"capitalize"}}})),R=function(e){var t=x(),a=e.recentSearches,r=e.savedAnalysis,n=e.history,o=e.getNutritionQuery,i=function(e){n.push("/nutrition/analysis"),o(e)},c=function(e){n.push("/nutrition/analysis"),o(e.parsedQuery||e.title)};return s.a.createElement(N.a,{className:t.root},s.a.createElement(j.a,{variant:"h5",gutterBottom:!0},"Nutrition Highlights"),s.a.createElement(T.a,{container:!0,spacing:3,justify:"space-around"},s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Saved Nutrition Analysis",subheader:"What analysis have you recently saved"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},r.sort((function(e,t){return k()(e.date).isBefore(t.date)})).filter((function(e,t){return t<10})).map((function(e,a){return s.a.createElement(M.a,{key:"".concat(e.parsedQuery||e.title,"-").concat(a),className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:c.bind(void 0,e),className:t.button},s.a.createElement(j.a,{variant:"body2"},e.parsedQuery||e.title," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(e.date).format("ddd, hA"))))})))))),s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Recent Nutrition Queries",subheader:"What have you recently searched for"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},a.sort((function(e,t){return k()(e.date).isBefore(t.date)})).filter((function(e,t){return t<10})).map((function(e,a){return s.a.createElement(M.a,{key:"".concat(e.searchQuery,"-").concat(a),className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:i.bind(void 0,e),className:t.button},s.a.createElement(j.a,{variant:"body2"},e.searchQuery," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(e.date).format("ddd, hA"))))}))))))))},_=Object(E.a)((function(e){return{root:{margin:0,padding:0,paddingTop:20,maxWidth:"100%",overflow:"visible"},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10,textTransform:"capitalize"}}})),I=function(e){var t=_(),a=e.favoriteRecipes,r=e.recentRecipes,n=e.recentSearches,o=e.history,i=e.getRecipeSearch,c=e.getRecipeDetail,l=function(e){o.push("/recipes/recipeSnippets"),i(e)},d=function(e){o.push("/recipes/recipeDetail"),c(e)};return s.a.createElement(N.a,{className:t.root},s.a.createElement(j.a,{variant:"h5",gutterBottom:!0},"Recipe Highlights"),s.a.createElement(T.a,{container:!0,spacing:3,justify:"space-around"},s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Favorite Recipes",subheader:"What have you saved as your favorites"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},a.sort((function(e,t){return k()(e.date).isBefore(t.date)})).filter((function(e,t){return t<10})).map((function(e,a){return s.a.createElement(M.a,{key:"".concat(e.recipeId,"-").concat(a),className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:d.bind(void 0,e.recipeId),className:t.button},s.a.createElement(j.a,{variant:"body2"},e.title," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(e.date).format("ddd, hA"))))})))))),s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Recent Full Recipes",subheader:"Which full recipes have you recently visited"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},r.sort((function(e,t){return k()(e.date).isBefore(t.date)})).filter((function(e,t){return t<10})).map((function(e,a){return s.a.createElement(M.a,{key:"".concat(e.recipeId,"-").concat(a),className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:d.bind(void 0,e.recipeId),className:t.button},s.a.createElement(j.a,{variant:"body2"},e.title," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(e.date).format("ddd, hA"))))})))))),s.a.createElement(T.a,{item:!0},s.a.createElement(D.a,{className:t.card,raised:!0},s.a.createElement(O.a,{title:"Recent Recipe Search Tags",subheader:"What have you recently searched for"}),s.a.createElement(C.a,{className:t.CardContent},s.a.createElement(w.a,{component:"div",className:t.mainNutrients},n.sort((function(e,t){return k()(e.date).isBefore(t.date)})).filter((function(e,t){return t<10})).map((function(e,a){return s.a.createElement(M.a,{key:"".concat(e.searchQuery,"-").concat(a),className:t.genericItem,divider:!0},s.a.createElement(g.a,{variant:"text",onClick:l.bind(void 0,e),className:t.button},s.a.createElement(j.a,{variant:"body2"},e.searchQuery," -"," "),s.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},k()(e.date).format("ddd, hA"))))}))))))))},F=a(664),B=a(666),V=a.n(B),L=a(667),U=Object(E.a)((function(e){return{dashboardRoot:{},navLinksContainer:{marginBottom:10,padding:10,backgroundColor:"rgba(232, 223, 224, 0.64)",display:"flex",justifyContent:"space-around",alignItems:"center"},navLink:{textDecoration:"none !important"},navLinkContent:{display:"flex",flexDirection:"column",alignItems:"center"},navLinkText:{textDecoration:"none !important",color:e.palette.primary.main,"&:hover":{color:e.palette.secondary.main}}}})),Y=function(e){var t=U();return s.a.createElement("div",{className:t.dashboardRoot},s.a.createElement(N.a,{component:"nav",className:t.navLinksContainer},s.a.createElement(v.c,{exact:!0,to:"/nutrition",className:t.navLink},s.a.createElement("div",{className:t.navLinkContent},s.a.createElement(V.a,{path:L.d,size:5,color:"#888"}),s.a.createElement(j.a,{className:t.navLinkText},"Get Nutrition"))),s.a.createElement(v.c,{exact:!0,to:"/recipes",className:t.navLink},s.a.createElement("div",{className:t.navLinkContent},s.a.createElement(V.a,{path:L.c,size:5,color:"#888"}),s.a.createElement(j.a,{className:t.navLinkText},"Get Recipes"))),s.a.createElement(v.c,{exact:!0,to:"/tracker",className:t.navLink},s.a.createElement("div",{className:t.navLinkContent},s.a.createElement(V.a,{path:L.a,size:5,color:"#888"}),s.a.createElement(j.a,{className:t.navLinkText},"Tracker"))),s.a.createElement(v.c,{exact:!0,to:"/settings",className:t.navLink},s.a.createElement("div",{className:t.navLinkContent},s.a.createElement(V.a,{path:L.f,size:5,color:"#888"}),s.a.createElement(j.a,{className:t.navLinkText},"User Settings")))),s.a.createElement("main",null,s.a.createElement(F.a,{history:e.history,trackerData:e.trackerData,allTrackers:e.allTrackers,trackerMetaInfo:e.trackerMetaInfo,trackerCalculations:e.trackerCalculations,setCurrentTimelineView:e.setCurrentTimelineView,setCurrentTimelineDate:e.setCurrentTimelineDate}),s.a.createElement(R,{history:e.history,recentSearches:e.savedNutrition.recentSearches,savedAnalysis:e.savedNutrition.savedAnalysis,getNutritionQuery:e.getNutritionQuery,showNutritionAnalysis:e.showNutritionAnalysis}),s.a.createElement(I,{history:e.history,recentSearches:e.savedRecipes.recentSearches,recentRecipes:e.savedRecipes.recentRecipes,favoriteRecipes:e.savedRecipes.favoriteRecipes,getRecipeSearch:e.getRecipeSearch,getRecipeDetail:e.getRecipeDetail}),s.a.createElement(A,{history:e.history,userMetaData:e.userMetaData})))},z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentDidUpdate=function(e,t){e.lastUsedDefaultTracker!==a.props.lastUsedDefaultTracker&&a.props.lastUsedDefaultTracker&&!a.props.trackerData._id&&a.props.getTracker(a.props.lastUsedDefaultTracker),e.settingsSyncErrorMessage!==a.props.settingsSyncErrorMessage&&a.props.settingsSyncErrorMessage&&a.props.enqueueSnackbar(a.props.settingsSyncErrorMessage,{variant:"error"}),e.errorMessageTrackerSync!==a.props.errorMessageTrackerSync&&a.props.errorMessageTrackerSync&&a.props.enqueueSnackbar(a.props.errorMessageTrackerSync,{variant:"error"})},a.logoutHandler=function(){a.props.logout()},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){console.log("getting user settings"),this.props.getUserSettings(),console.log({allTrackers:this.props.allTrackers}),this.props.authenticated&&!this.props.allTrackers&&this.props.getAllTrackers(),this.props.authenticated&&this.props.lastUsedDefaultTracker&&!this.props.trackerData._id&&this.props.getTracker(this.props.lastUsedDefaultTracker)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.match,n=t.authenticated,o=t.userMetaData,i=t.savedNutrition,c=t.savedRecipes,l=t.trackerData,u=t.allTrackers,p=t.trackerMetaInfo,m=t.trackerCalculations;return s.a.createElement("div",{className:a.root},s.a.createElement(g.a,{onClick:this.logoutHandler,className:a.logoutButton},"Logout"),n?s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"".concat(r.url,"/dashboard"),render:function(t){return s.a.createElement(Y,Object.assign({userMetaData:o,savedNutrition:i,savedRecipes:c,trackerMetaInfo:p,trackerCalculations:m,trackerData:l,allTrackers:u,setCurrentTimelineView:e.props.setCurrentTimelineView,setCurrentTimelineDate:e.props.setCurrentTimelineDate,getRecipeSearch:e.props.getRecipeSearch,getRecipeDetail:e.props.getRecipeDetail,getNutritionQuery:e.props.getNutritionQuery,showNutritionAnalysis:e.props.showNutritionAnalysis},t))}}),s.a.createElement(d.b,{exact:!0,path:"".concat(r.url,"/settings"),render:function(e){return s.a.createElement(b.default,e)}}),s.a.createElement(d.b,{exact:!0,path:"".concat(r.url,"/tracker"),render:function(e){return s.a.createElement(y.default,e)}}),s.a.createElement(d.a,{from:"/user",to:"/user/dashboard"})):s.a.createElement(d.a,{to:"/"}))}}]),t}(l.Component),H=Object(m.compose)(Object(h.a)((function(e){return{root:{position:"relative"},logoutButton:{position:"absolute",top:20,right:20}}})),p.withSnackbar,Object(u.b)((function(e){return{authenticated:e.appData.auth.token,userMetaData:e.appData.userData.settings.metaData,settings:e.appData.userData.settings,settingsSyncErrorMessage:e.appState.settingsSync.errorMessage,errorMessageTrackerSync:e.appState.trackerSync.errorMessage,allTrackers:e.appData.tracker.allTrackers,trackerData:e.appData.tracker.selectedTracker,trackerMetaInfo:e.appData.tracker.selectedTracker.metaInfo,trackerCalculations:e.appData.tracker.selectedTracker.calculations,savedNutrition:e.appData.userData.nutrition.saved,savedRecipes:e.appData.userData.recipes.saved}}),{logout:f.authActions.logout,getUserSettings:f.settingsActions.getUserSettings,getAllTrackers:f.trackerActions.getAllTrackers,getTracker:f.trackerActions.getTracker,setCurrentTimelineView:f.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:f.trackerActions.setCurrentTimelineDate,getRecipeDetail:f.recipesActions.getRecipeDetail,getRecipeSearch:f.recipesActions.getRecipes,getNutritionQuery:f.nutritionActions.getNutrition,showNutritionAnalysis:f.nutritionActions.setShowNutritionDetail}));t.default=H(z)}}]);
//# sourceMappingURL=8.ee15c2cb.chunk.js.map