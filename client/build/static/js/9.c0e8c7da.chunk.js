(window.webpackJsonpfood_and_u_client=window.webpackJsonpfood_and_u_client||[]).push([[9],{632:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a(55),n=a(12),o=a(146),i=a(0),l=a.n(i),c=a(680),s=a(676),d=a(4),u=a(644),p=a.n(u),m=a(105),f=a(17),h=a(47),g=a(9),y=a(279),b=a(76),v=a(578),E=a(567),S=a(679),D=a.n(S);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=Object(m.a)((function(e){return{root:{flexGrow:1,width:"auto",marginTop:10,marginBottom:0},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(f.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0}}}));function w(e){var t=e.inputRef,a=Object(o.a)(e,["inputRef"]);return l.a.createElement("div",Object.assign({ref:t},a))}var M={Control:function(e){var t=e.children,a=e.innerProps,r=e.innerRef,n=e.selectProps,o=n.classes,i=n.TextFieldProps;return l.a.createElement(y.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:w,inputProps:k({className:o.input,ref:r,children:t},a)}},i))},Menu:function(e){return l.a.createElement(b.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return l.a.createElement(g.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return l.a.createElement(E.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,r=void 0===a?{}:a,n=e.children;return l.a.createElement(g.a,Object.assign({color:"textSecondary",className:t.classes.placeholder},r),n)},SingleValue:function(e){var t=e.selectProps,a=e.innerProps,r=void 0===a?{}:a,n=e.children;return l.a.createElement(g.a,Object.assign({className:t.classes.singleValue},r),n)},MultiValue:function(e){return l.a.createElement(v.a,{tabIndex:-1,label:e.children,className:Object(d.default)(e.selectProps.classes.chip,Object(n.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:l.a.createElement(D.a,e.removeProps)})},ValueContainer:function(e){return l.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function j(e){var t=T(),a=Object(h.a)(),n=e.id,o=e.name,i=e.label,d=e.options,u=e.value,m=e.updateSelection,f=e.isMulti,g=e.creatableSelect,y=e.createCustomOption,b=e.removeCustomOption,v=l.a.useState(null),E=Object(r.a)(v,2),S=E[0],D=E[1],O=l.a.useState(null),w=Object(r.a)(O,2),j=w[0],C=w[1],P=l.a.useRef(null),N=function(e){D(e),m(e)},A=function(e){if(C(e),e){var t,a;if(g){(t=e.find((function(e){return!d.map((function(e){return e.value})).includes(e.value)&&e.__isNew__})))&&y(k({},t,{name:o,key:p()()}));var r=d.filter((function(e){return e.__isNew__}));!t&&r.length>0&&(a=r.find((function(t){return!e.map((function(e){return e.value})).includes(t.value)})))&&b(a)}var n=[],l=[];e.forEach((function(e){n.push(e.value),l.push(e.label)})),m({value:n,label:l,name:o})}else m({value:null,label:i,name:o})},x={input:function(e){return k({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return g?l.a.createElement("div",{className:t.root},l.a.createElement(s.a,{ref:P,classes:t,styles:x,inputId:n,name:o,TextFieldProps:{label:"".concat((f?j:S)?i:""),InputLabelProps:{htmlFor:{id:n},shrink:!0}},noOptionsMessage:function(){return l.a.createElement("span",null,"Invalid")},backspaceRemovesValue:!0,placeholder:i,options:d,innerProps:{},components:M,value:f?d.filter((function(e){return u&&u.includes(e.value)})):d.filter((function(e){return e.value===u})),onChange:f?A:N,isMulti:f})):l.a.createElement("div",{className:t.root},l.a.createElement(c.a,{classes:t,styles:x,inputId:n,name:o,TextFieldProps:{label:"".concat((f?j:S)?i:""),InputLabelProps:{htmlFor:{id:n},shrink:!0}},noOptionsMessage:function(){return l.a.createElement("span",null,"Invalid")},backspaceRemovesValue:!0,placeholder:i,options:d,innerProps:{},components:M,value:f?d.filter((function(e){return u&&u.includes(e.value)})):d.filter((function(e){return e.value===u})),onChange:f?A:N,isMulti:f}))}},638:function(e,t,a){"use strict";var r=a(55),n=a(0),o=a.n(n),i=a(105),l=a(71),c=a(621),s=a(854),d=a(844),u=function(e){var t=e.to,a=e.type,r=e.onClick,n=o.a.useMemo((function(){return o.a.forwardRef((function(e,a){return o.a.createElement(l.b,Object.assign({to:t},e,{ref:a}))}))}),[t]);return"button"===a?o.a.createElement(d.a,Object.assign({onClick:r},e)):o.a.createElement(d.a,Object.assign({wrapped:!0,component:n},e))},p=Object(i.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));t.a=function(e){var t=p(),a=e.currentLocation,n=e.children,i=o.a.useState(0),l=Object(r.a)(i,2),d=l[0],m=l[1],f=function(e,t){var a=t.map((function(e){return e&&e.props.to})).findIndex((function(t){return t===e}));return-1===a?0:a}(a,n);return 0===f&&"/tracker/timeline"!==a||d===f||m(f),o.a.createElement("div",{className:t.root},o.a.createElement(c.a,{position:"static"},o.a.createElement(s.a,{variant:"fullWidth",value:d,onChange:function(e,t){m(t)},"aria-label":"container nav tabs"},e.children.map((function(e,t){return e&&o.a.createElement(u,{to:e.props.to,type:e.props.type,onClick:e.props.onClick,key:t,label:e.props.children,id:"nav-tab-".concat(t),"aria-controls":"nav-tabpanel-".concat(t)})})))))}},664:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(105),i=a(11),l=a.n(i),c=a(4),s=a(234),d=a(336),u=a(235),p=a(76),m=a(77),f=a(142),h=a(29),g=a(98),y=a(9),b=a(55),v=a(857),E=a(627),S=a(859),D=a(858),O=a(856),k=a(341),T=a(861),w=a(328),M=a(339),j=a(576),C=function(e){var t=e.data,a=(e.chartType,e.width),r=t.sort((function(e,t){return e.date>t.date})).map((function(e){return{day:e.displayDate,date:e.date,calories:Number(e.ENERC_KCAL.toFixed(2)),carbs:Math.floor(e.ENERC_KCAL*e.percentCarbs/100),percentCarbs:e.percentCarbs,fat:Math.floor(e.ENERC_KCAL*e.percentFat/100),percentFat:e.percentFat,protein:Math.floor(e.ENERC_KCAL*e.percentProtein/100),percentProtein:e.percentProtein}})),o=["carbs","fat","protein"].map((function(e){return r.map((function(t){return{day:t.day,calories:isNaN(Number(t[e]))?0:Number(t[e]),label:e&&Number(t[e])>0?e:null,date:t.date,percent:t["percent".concat(e[0].toUpperCase()).concat(e.slice(1))]}}))}));return n.a.createElement("div",null,n.a.createElement("svg",{viewBox:"0 0 500 350"},t.length>0?n.a.createElement(v.a,{standalone:!1,domainPadding:{x:[100,0]},theme:E.a.material,width:a},n.a.createElement(S.a,{offset:10,domainPadding:{x:[0,0]},style:{data:{width:15}}},n.a.createElement(D.a,{domainPadding:{x:[50,0]}},n.a.createElement(O.a,{data:r.map((function(e){return{day:e.day,calories:isNaN(e.calories)?"0":e.calories}})),style:{data:{fill:"#458ca8"}},x:"day",y:"calories",labels:function(e){var t=e.datum;return"calories: ".concat(t.calories)},labelComponent:n.a.createElement(k.a,{text:function(e){var t=e.datum;return"calories: ".concat(t.calories)},cornerRadius:function(e){e.datum;return 5},pointerLength:function(e){e.datum;return 10},flyoutStyle:{stroke:function(e){var t=e.datum;return l()(t.day).isSame(new Date)?"tomato":"black"}},constrainToVisibleArea:!0,renderInPortal:!0})})),n.a.createElement(D.a,{colorScale:"qualitative",domainPadding:{x:[50,0]}},o.map((function(e,t){return n.a.createElement(O.a,{key:t,data:e,x:"day",y:"calories",labels:function(e){var t=e.datum;return"".concat(t&&t.label,": ").concat(t&&t.percent,"%")},labelComponent:n.a.createElement(k.a,{text:function(e){var t=e.datum;return"".concat(t&&t.label,": ").concat(t&&t.percent,"%")},cornerRadius:function(){return 5},pointerLength:function(){return 10},flyoutStyle:{stroke:function(e){var t=e.datum;return l()(t&&t.date).dayOfYear()===l()(new Date).dayOfYear()?"tomato":"black"},fill:"white"},constrainToVisibleArea:!0,renderInPortal:!0}),events:[{target:"data",eventHandlers:{onClick:function(){return console.log("stackbar clicked")},onMouseOver:function(){return{target:"labels",mutation:function(){return{active:!0}}}}}}]})})))),n.a.createElement(T.a,{tickValues:r.map((function(e){return l()(e.day).dayOfYear()})),tickFormat:r.map((function(e){return"".concat(l()(e).format("Do"),"\n          ").concat(l()(e).format("MMM"))}))}),n.a.createElement(T.a,{dependentAxis:!0,orientation:"left",tickFormat:function(e){return"".concat(e,"\n          KCal")},offsetX:40})):null,n.a.createElement(w.a,null,n.a.createElement("g",null,n.a.createElement(M.a,{x:410,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Protein"}),n.a.createElement("rect",{x:"440",y:"0",width:"20",height:"20",fill:"#efc94c"}),n.a.createElement(M.a,{x:330,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Fat"}),n.a.createElement("rect",{x:"350",y:"0",width:"20",height:"20",fill:"#45b29d"}),n.a.createElement(M.a,{x:255,y:10,textAnchor:"middle",style:{fontSize:12},text:"% Carbs"}),n.a.createElement("rect",{x:"280",y:"0",width:"20",height:"20",fill:"#334d5c"}),n.a.createElement(M.a,{x:155,y:10,textAnchor:"middle",style:{fontSize:12},text:"Total Calories"}),n.a.createElement("rect",{x:"200",y:"0",width:"20",height:"20",fill:"#458ca8"})))))},P=function(e){return n.a.createElement("g",null,n.a.createElement(M.a,e),n.a.createElement(k.a,Object.assign({},e,{x:200,y:250,orientation:"top",pointerLength:0,cornerRadius:50,flyoutWidth:100,flyoutHeight:100,flyoutStyle:{fill:"#252525",opacity:1,transition:"all 0.5s ease-out"}})))};P.defaultEvents=k.a.defaultEvents;var N=function(e){var t=e.data,a=(e.chartType,e.width,Object(r.useState)(!1)),o=Object(b.a)(a,2),i=o[0],l=o[1],c=Object(r.useState)(!0),s=Object(b.a)(c,2),d=s[0],u=s[1];Object(r.useEffect)((function(){var e=setTimeout((function(){u(!1)}),100);return function(){clearTimeout(e)}}),[d]);var p=t&&[{x:"carbs",y:t.percentCarbs},{x:"fat",y:t.percentFat},{x:"protein",y:t.percentProtein}];return t?n.a.createElement("svg",{viewBox:"0 0 400 400"},n.a.createElement(j.a,{standalone:!1,colorScale:"qualitative",style:{labels:{fill:"#fff"}},innerRadius:100,labelRadius:120,labels:function(e){var t=e.datum;return t.y>0?"".concat(t.x," \n      ").concat(t.y,"%"):null},labelComponent:n.a.createElement(P,null),data:d?[{x:"",y:0},{x:"",y:0},{x:"",y:0}]:p,events:[{target:"data",eventHandlers:{onMouseOver:function(){return l(!0),{target:"labels",mutation:function(){return{active:!0,style:{opacity:1,fill:"#fff",fontSize:20,transition:"all 0.25s ease-out"}}}}},onMouseOut:function(){return l(!1),{target:"labels",mutation:function(){return{active:!1}}}}}}],animate:{duration:1e3,easing:"circleInOut"}}),i?null:n.a.createElement(M.a,{textAnchor:"middle",style:{fontSize:20},x:200,y:200,text:"Total \n        ".concat(t.ENERC_KCAL.toFixed()," \n      Calories")})):null},A=a(16),x=Object(o.a)((function(e){return{root:{margin:0,padding:0,paddingTop:20,maxWidth:"100%",overflow:"visible"},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},cardContentPieCharts:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},chart:{maxWidth:"60%"},list:{width:"400px"},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10,textTransform:"capitalize"}}}));t.a=function(e){var t=x(),a=e.trackerData,r=e.history,o=e.setCurrentTimelineView,i=e.setCurrentTimelineDate,b=[],v=[],E=[],S=[],D=[],O=[];a&&a.timelineSnippets&&a.timelineSnippets.ENTRIES&&a.timelineSnippets.DAYS&&(b=a.timelineSnippets.ENTRIES.filter((function(e){return e[A.b]===A.e.dietEntry})).sort((function(e,t){return e.start<t.start})).filter((function(e,t){return t<=5})),v=a.timelineSnippets.ENTRIES.filter((function(e){return e[A.b]===A.e.mealPlan})).sort((function(e,t){return e.start>t.start})).filter((function(e,t){return t<=5})),E=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).find((function(e){return l()(e.date).dayOfYear()===l()(new Date).subtract(1,"day").dayOfYear()})),S=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).find((function(e){return l()(e.date).dayOfYear()===l()(new Date).dayOfYear()})),D=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).find((function(e){return l()(e.date).dayOfYear()===l()(new Date).dayOfYear()})),O=a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).find((function(e){return l()(e.date).dayOfYear()===l()(new Date).add(1,"day").dayOfYear()})));var k=function(e){r.push("/tracker/timeline"),o(A.f.AGENDA),i(e)},T=function(){r.push("/tracker/timeline")};return n.a.createElement(p.a,{className:t.root},n.a.createElement(y.a,{variant:"h5",gutterBottom:!0},"Recent Tracker Activity"),a&&a._id&&a.timelineSnippets.ENTRIES.length>0&&a.timelineSnippets.DAYS.length>0?n.a.createElement(m.a,{container:!0,spacing:3,justify:"space-around"},E?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for yesterday's Diet Entries summary",subheader:"What had you eaten yesterday"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(y.a,{variant:"body2",gutterBottom:!0},E.numEntries," ",1!==E.numEntries?"Entries":"Entry"),n.a.createElement(N,{className:t.chart,data:E,chartType:"PIE",width:500})))):null,S?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for today's Diet Entries summary",subheader:"What have you eaten today"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(y.a,{variant:"body2",gutterBottom:!0},S.numEntries," ",1!==S.numEntries?"Entries":"Entry"),n.a.createElement(N,{className:t.chart,data:S,chartType:"PIE",width:500})))):null,D?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for today's Meal Plan summary",subheader:"What have you planned to eat today"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(y.a,{variant:"body2",gutterBottom:!0},D.numEntries," ",1!==D.numEntries?"Entries":"Entry"),n.a.createElement(N,{className:t.chart,data:D,chartType:"PIE",width:500})))):null,O?n.a.createElement(m.a,{item:!0,xs:12,md:3},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for tomorrow's Meal Plan summary",subheader:"What have you planned to eat tomorrow"}),n.a.createElement(u.a,{className:t.cardContentPieCharts},n.a.createElement(y.a,{variant:"body2",gutterBottom:!0},O.numEntries," ",1!==O.numEntries?"Entries":"Entry"),n.a.createElement(N,{className:t.chart,data:O,chartType:"PIE",width:500})))):null,n.a.createElement(m.a,{item:!0,xs:12,md:6},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for Last 7 days Diet Entries",subheader:"What have you lately eaten"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(C,{className:t.chart,data:a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.dietEntry})).filter((function(e){return l()(e.date).dayOfYear()>=l()(new Date).subtract(5,"days").dayOfYear()&&l()(e.date).dayOfYear()<=l()(new Date).dayOfYear()})),chartType:"BAR",width:500})))),n.a.createElement(m.a,{item:!0},n.a.createElement(s.a,{className:t.card,raised:!0},n.a.createElement(d.a,{title:"Recent Diet Entries",subheader:"What have you lately eaten"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(f.a,{component:"div",className:t.list},b.map((function(e){return n.a.createElement(h.a,{key:e._id,className:t.genericItem,divider:!0},n.a.createElement(g.a,{variant:"text",onClick:k.bind(void 0,e.start),className:t.button},n.a.createElement(y.a,{variant:"body2"},e.title," -"," "),n.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary"},l()(e.start).format("ddd, hA"))))})))))),n.a.createElement(m.a,{item:!0,xs:12,md:6},n.a.createElement(s.a,{className:Object(c.default)(t.card),raised:!0},n.a.createElement(d.a,{title:"Chart for Next 7 days Meal Plans",subheader:"What have you planned to eat"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(C,{className:t.chart,data:a.timelineSnippets.DAYS.filter((function(e){return e[A.b]===A.e.mealPlan})).filter((function(e){return l()(e.date).dayOfYear()>=l()(new Date).dayOfYear()&&l()(e.date).dayOfYear()<=l()(new Date).add(5,"days").dayOfYear()})),chartType:"BAR",width:500})))),n.a.createElement(m.a,{item:!0},n.a.createElement(s.a,{className:t.card,raised:!0},n.a.createElement(d.a,{title:"Recent Meal Plans",subheader:"What have you planned to eat"}),n.a.createElement(u.a,{className:t.CardContent},n.a.createElement(f.a,{component:"div",className:t.list},v.map((function(e){return n.a.createElement(h.a,{key:e._id,className:t.genericItem,divider:!0},n.a.createElement(g.a,{variant:"text",onClick:k.bind(void 0,e.start),className:t.button},n.a.createElement(y.a,{variant:"body2"},e.title," -"," "),n.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary"},l()(e.start).format("ddd, hA"))))}))))))):a&&a._id&&0===a.timelineSnippets.ENTRIES.length&&0===a.timelineSnippets.DAYS.length?n.a.createElement("div",null,n.a.createElement(y.a,{variant:"body2",gutterBottom:!0}," ","No entries have been made to your selected tracker."),n.a.createElement(g.a,{variant:"contained",onClick:e.redirectToAddDietEntry?e.redirectToAddDietEntry:T,className:t.button}," ","Add a new Diet Entry"," "),n.a.createElement(g.a,{variant:"contained",onClick:e.redirectToAddMealPlan?e.redirectToAddMealPlan:T,className:t.button}," ","Add a new Meal Plan"," ")):n.a.createElement("div",null,n.a.createElement(y.a,{variant:"body2",gutterBottom:!0}," ","Default tracker has not been set. Please select one of your existing trackers or create a new one."),n.a.createElement(g.a,{variant:"contained",onClick:function(){r.push("/tracker/startSelectTracker")},className:t.button}," ","Start/Select Tracker"," ")))}},692:function(e,t,a){},740:function(e,t,a){"use strict";a.r(t);var r=a(30),n=a(31),o=a(34),i=a(32),l=a(33),c=a(0),s=a.n(c),d=a(39),u=a(60),p=a(26),m=a(71),f=a(96),h=a(662),g=a(11),y=a.n(g),b=a(13),v=a(12),E=a(113),S=a(6),D=a(76),O=a(98),k=a(9),T=a(191),w=a(193),M=a(630),j=a(632),C=Array(180).fill(1).map((function(e,t){return{value:e+t,label:e+t,name:"tracker_lengthValue"}})),P=["days","weeks","months","years"].map((function(e){return{value:e,label:e,name:"tracker_lengthUnit"}})),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={default_tracker:void 0,tracker_title:"",tracker_goal:"",tracked_meals:["all"],tracker_lengthValue:"30",tracker_lengthUnit:"days",trackedMealsOptions:["all","breakfast","lunch","evening snack","dinner","midnight snack"].map((function(e){return{value:e,label:e,name:"tracked_meals",key:e}})),availableTrackers:[]},a.componentDidUpdate=function(e,t){if(e.allTrackers!==a.props.allTrackers&&a.props.allTrackers){var r=a.props.allTrackers.map((function(e){return{value:e._id,label:e.title,name:"default_tracker"}}));a.setState({availableTrackers:r})}e.successDataTrackerSync!==a.props.successDataTrackerSync&&a.props.successDataTrackerSync&&a.props.history.push("/tracker/timeline")},a.handleCreateCustomOption=function(e){var t=[].concat(Object(E.a)(a.state.trackedMealsOptions),[e]);a.setState({trackedMealsOptions:t})},a.handleRemoveCustomOption=function(e){var t=a.state.trackedMealsOptions.filter((function(t){return t.key!==e.key}));a.setState({trackedMealsOptions:t})},a.handleChange=function(e){e&&a.setState(Object(v.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.requestStartNewTracker=function(e){e.preventDefault();var t=a.state,r=t.tracker_title,n=t.tracker_goal,o=t.tracked_meals,i=t.tracker_lengthValue,l=t.tracker_lengthUnit,c=t.trackedMealsOptions;a.props.handleStartNewTracker({tracker_title:r,tracker_goal:n,tracked_meals:o,tracker_lengthValue:i,tracker_lengthUnit:l,trackedMealsOptions:c})},a.requestSelectTracker=function(e){e.preventDefault(),a.state.default_tracker&&a.props.handleSelectTracker(a.state.default_tracker)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.allTrackers&&this.props.lastUsedDefaultTracker&&this.props.allTrackers.find((function(t){return t._id===e.props.lastUsedDefaultTracker}))&&this.setState({default_tracker:this.props.lastUsedDefaultTracker}),this.props.allTrackers){var t=this.props.allTrackers.map((function(e){return{value:e._id,label:e.title,name:"default_tracker"}}));this.setState({availableTrackers:t})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.successDataTrackerSync,r=e.errorMessageTrackerSync,n=this.state,o=n.default_tracker,i=n.tracker_title,l=n.tracker_goal,c=n.tracked_meals,d=n.tracker_lengthValue,u=n.tracker_lengthUnit,p=n.trackedMealsOptions,m=n.availableTrackers;return s.a.createElement("div",null,s.a.createElement(D.a,{className:t.rootPaper},s.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Select or Setup a new Diet Tracker"),s.a.createElement("form",{className:t.inputForm,onSubmit:this.requestSelectTracker},s.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"Select from previously created Trackers"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-default-tracker",name:"default_tracker",label:"Set Default Tracker",options:m,value:o,updateSelection:this.handleChange}),s.a.createElement(w.a,null,"Select from your previous trackers for quick setup"))),s.a.createElement(O.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Select Tracker")),s.a.createElement(M.ValidatorForm,{className:t.inputForm,onSubmit:this.requestStartNewTracker,onError:function(e){return console.log(e)}},s.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"Customize and create new Tracker"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(M.TextValidator,{className:t.textField,label:"Tracker Title",onChange:this.handleChange,name:"tracker_title",value:i||"",validators:["required","maxStringLength:50"],errorMessages:["this field is required","max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(M.TextValidator,{className:t.textField,label:"Tracker Goal",onChange:this.handleChange,name:"tracker_goal",value:l||"",validators:["maxStringLength:100"],errorMessages:["max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracked-meals",name:"tracked_meals",label:"Tracked Meals",options:p,createCustomOption:this.handleCreateCustomOption,removeCustomOption:this.handleRemoveCustomOption,value:c,updateSelection:this.handleChange,isMulti:!0,creatableSelect:!0}),s.a.createElement(w.a,null,"Planning enables tracking with reminders"))),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracker-lengthValue",name:"tracker_lengthValue",label:"Tracker Timeframe",options:C,value:d,updateSelection:this.handleChange}),s.a.createElement(w.a,null,"Setup timeframe for the tracker")),s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracker-lengthUnit",name:"tracker_lengthUnit",label:"Timeframe Unit",options:P,value:u,updateSelection:this.handleChange}),s.a.createElement(w.a,null,"Change tracker's timeframe unit"))),s.a.createElement(O.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Start New Tracker")),s.a.createElement(k.a,{variant:"body1",gutterBottom:!0,color:"secondary"},!a&&r?r:null)))}}]),t}(c.Component),A=Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:20,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},formControl:{marginRight:50},submitButton:{marginTop:20}}}))(N),x=a(644),R=a.n(x),_=a(719),F=a.n(_);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var V=Array(180).fill(1).map((function(e,t){return{value:e+t,label:e+t,name:"tracker_lengthValue"}})),B=["days","weeks","months","years"].map((function(e){return{value:e,label:e,name:"tracker_lengthUnit"}})),Y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={reminders:[],tracker_title:"",tracker_goal:"",tracked_meals:[],trackedMealsOptions:[],tracker_lengthValue:void 0,tracker_lengthUnit:void 0},a.componentDidUpdate=function(e,t){if(a.props.trackerPreferences&&a.props.trackerPreferences!==e.trackerPreferences){var r=a.props.trackerPreferences,n=r.tracker_title,o=r.tracker_goal,i=r.reminders,l=r.tracked_meals,c=r.trackedMealsOptions,s=r.tracker_lengthValue,d=r.tracker_lengthUnit;a.setState({tracker_title:n,tracker_goal:o,reminders:i,tracked_meals:l,trackedMealsOptions:c,tracker_lengthValue:s,tracker_lengthUnit:d})}},a.handleChange=function(e){e&&a.setState(Object(v.a)({},e.target&&e.target.name||e.name,e.target&&e.target.value||e.value))},a.handleCreateCustomOption=function(e){var t=[].concat(Object(E.a)(a.state.trackedMealsOptions),[e]);a.setState({trackedMealsOptions:t})},a.handleRemoveCustomOption=function(e){var t=a.state.trackedMealsOptions.filter((function(t){return t.key!==e.key}));a.setState({trackedMealsOptions:t})},a.onTimePickerChange=function(e,t){console.log(e);var r=a.state.reminders.map((function(a){return a.id===t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{value:e}):a}));a.setState({reminders:r})},a.handleRemoveReminder=function(e){var t=a.state.reminders.filter((function(t){return t.id!==e}));a.setState({reminders:t})},a.handleAddReminder=function(){var e=[].concat(Object(E.a)(a.state.reminders),[{id:R()(),time:"10:00"}]);a.setState({reminders:e})},a.saveTrackerPreferences=function(e){e.preventDefault(),console.log(a.state),a.props.updateTrackerPreferences(a.state)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(this.props.trackerPreferences){var e=this.props.trackerPreferences,t=e.tracker_title,a=e.tracker_goal,r=e.reminders,n=e.tracked_meals,o=e.trackedMealsOptions,i=e.tracker_lengthValue,l=e.tracker_lengthUnit;this.setState({tracker_title:t,tracker_goal:a,reminders:r,tracked_meals:n,trackedMealsOptions:o,tracker_lengthValue:i,tracker_lengthUnit:l})}}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.reminders,n=a.tracker_title,o=a.tracker_goal,i=a.tracked_meals,l=a.trackedMealsOptions,c=a.tracker_lengthValue,d=a.tracker_lengthUnit;return s.a.createElement("div",null,s.a.createElement(D.a,{className:t.rootPaper},s.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Edit"," ",this.props.trackerPreferences&&this.props.trackerPreferences.tracker_title||"tracker"," ","preferences"),s.a.createElement(M.ValidatorForm,{className:t.inputForm,onSubmit:this.saveTrackerPreferences,onError:function(e){return console.log(e)}},s.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"Update tracker preferences and reminder settings"),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(M.TextValidator,{className:t.textField,label:"Tracker Title",onChange:this.handleChange,name:"tracker_title",value:n||"",validators:["required","maxStringLength:50"],errorMessages:["this field is required","max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(M.TextValidator,{className:t.textField,label:"Tracker Goal",onChange:this.handleChange,name:"tracker_goal",value:o||"",validators:["maxStringLength:100"],errorMessages:["max length exceeded!"]})),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracked-meals",name:"tracked_meals",label:"Tracked Meals",options:l,createCustomOption:this.handleCreateCustomOption,removeCustomOption:this.handleRemoveCustomOption,value:i,updateSelection:this.handleChange,isMulti:!0,creatableSelect:!0}),s.a.createElement(w.a,null,"Planning enables tracking with reminders"))),s.a.createElement("div",{className:t.inputGroup},s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracker-lengthValue",name:"tracker_lengthValue",label:"Tracker Timeframe",options:V,value:c,updateSelection:this.handleChange}),s.a.createElement(w.a,null,"Setup timeframe for the tracker")),s.a.createElement(T.a,{className:t.formControl},s.a.createElement(j.a,{id:"select-tracker-lengthUnit",name:"tracker_lengthUnit",label:"Timeframe Unit",options:B,value:d,updateSelection:this.handleChange}),s.a.createElement(w.a,null,"Change tracker's timeframe unit"))),s.a.createElement("div",{className:t.reminderGroup},r.map((function(a,r){return s.a.createElement(T.a,{className:t.reminderFormControl,key:r},s.a.createElement(F.a,{onChange:function(t){return e.onTimePickerChange(t,a.id)},value:a.time,format:"hh:mm a"}),s.a.createElement(O.a,{type:"button",variant:"outlined",className:t.removeButton,onClick:e.handleRemoveReminder.bind(e,a.id)},"Remove"))})),s.a.createElement(O.a,{type:"button",variant:"outlined",onClick:this.handleAddReminder},"Add New Reminder")),s.a.createElement(O.a,{className:t.submitButton,variant:"contained",color:"default",type:"submit"},"Save Tracker Preferences"))))}}]),t}(c.Component),L=Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:20},inputForm:{backgroundColor:"rgba(232, 223, 224, 0.64)",padding:20,display:"flex",flexDirection:"column",justifyContent:"center"},inputGroup:{width:"90%",marginBottom:20,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},reminderGroup:{width:"90%",marginTop:20,marginBottom:20,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"flex-start"},formControl:{marginRight:50},reminderFormControl:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginBottom:20},removeButton:{marginLeft:50},submitButton:{marginTop:20}}}))(Y),z=a(641),H=a(146),W=a(1),q=a.n(W),U=a(4),G="PREV",K="NEXT",X={MONTH:"month",WEEK:"week",DAY:"day",AGENDA:"agenda"},J=Object.keys(X).map((function(e){return X[e]})),Q=q.a.oneOfType([q.a.string,q.a.func]);q.a.any,q.a.func,q.a.oneOfType([q.a.arrayOf(q.a.oneOf(J)),q.a.objectOf((function(e,t){var a=-1!==J.indexOf(t)&&"boolean"===typeof e[t];if(a)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return q.a.elementType.apply(q.a,[e,t].concat(n))}))]),q.a.oneOfType([q.a.oneOf(["overlap","no-overlap"]),q.a.func]);function $(e,t){var a=null;return"function"===typeof t?a=t(e):"string"===typeof t&&"object"===typeof e&&null!=e&&t in e&&(a=e[t]),a}var Z=function(e){return function(t){return $(t,e)}},ee=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleResizeUp=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","UP"))},a.handleResizeDown=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","DOWN"))},a.handleResizeLeft=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","LEFT"))},a.handleResizeRight=function(e){0===e.button&&(e.stopPropagation(),a.context.draggable.onBeginAction(a.props.event,"resize","RIGHT"))},a.handleStartDragging=function(e){0===e.button&&a.context.draggable.onBeginAction(a.props.event,"move")},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"renderAnchor",value:function(e){var t="Up"===e||"Down"===e?"ns":"ew";return s.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-anchor"),onMouseDown:this["handleResize".concat(e)]},s.a.createElement("div",{className:"rbc-addons-dnd-resize-".concat(t,"-icon")}))}},{key:"render",value:function(){var e=this.props,t=e.event,a=e.type,r=e.continuesPrior,n=e.continuesAfter,o=this.props.children;if(t.__isPreview)return s.a.cloneElement(o,{className:Object(U.default)(o.props.className,"rbc-addons-dnd-drag-preview")});var i=this.context.draggable,l=i.draggableAccessor,c=i.resizableAccessor,d=!l||!!$(t,l);if(!d)return o;var u=!c||!!$(t,c);if(u||d){var p={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(u){var m=null,f=null;"date"===a?(m=!r&&this.renderAnchor("Left"),f=!n&&this.renderAnchor("Right")):(m=!r&&this.renderAnchor("Up"),f=!n&&this.renderAnchor("Down"));var h=this.props,g=h.isMonthDateCellWrapper,b=h.mouseMoveDateCell,v="object"!==typeof t.start?new Date(y()(t.start)):t.start,E=g&&new Date(y()(b.value)).getDate()===v.getDate(),S={padding:"2px",transition:"all 0.1s ease-out",visibility:E?"hidden":"visible",display:E?"none":"block",borderRadius:"5px",opacity:1};p.children=s.a.createElement("div",{className:Object(U.default)("rbc-addons-dnd-resizable",t.className),style:S},m,o.props.children,f)}i.dragAndDropAction.interacting&&i.dragAndDropAction.event===t&&(p.className=Object(U.default)(o.props.className,"rbc-addons-dnd-dragged-event")),o=s.a.cloneElement(o,p)}return o}}]),t}(s.a.Component);ee.contextTypes={draggable:q.a.shape({onStart:q.a.func,onEnd:q.a.func,onBeginAction:q.a.func,draggableAccessor:Q,resizableAccessor:Q,dragAndDropAction:q.a.object})};var te=Object(d.b)((function(e){return{mouseMoveDateCell:e.uiState.uiStateHelperOne.uiState,isMonthDateCellWrapper:e.uiState.uiStateHelperOne.isVisible}}))(ee),ae=a(245),re=a(629),ne={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function oe(e,t){var a=re.startOf(e,t);return re.eq(a,e)?a:re.add(a,1,t)}function ie(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,n=[];re.lte(r,t,a);)n.push(r),r=re.add(r,1,a);return n}function le(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=re.startOf(e,"day"),e=re.hours(e,re.hours(t)),e=re.minutes(e,re.minutes(t)),e=re.seconds(e,re.seconds(t)),re.milliseconds(e,re.milliseconds(t)))}function ce(e){return 0===re.hours(e)&&0===re.minutes(e)&&0===re.seconds(e)&&0===re.milliseconds(e)}function se(e,t,a){return a&&"milliseconds"!==a?Math.round(Math.abs(+re.startOf(e,a)/ne[a]-+re.startOf(t,a)/ne[a])):Math.abs(+e-+t)}var de=a(23),ue=a(639),pe=a(663),me=a(648);function fe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return Object(me.default)(a,e,t,{passive:!1})}function he(e,t){var a=t.clientX,r=t.clientY,n=document.elementFromPoint(a,r);return Object(pe.default)(n,".rbc-event",e)}function ge(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}function ye(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=be(e),n=r.top,o=r.left,i=r.right,l=void 0===i?o:i,c=r.bottom,s=void 0===c?n:c,d=be(t),u=d.top,p=d.left,m=d.right,f=void 0===m?p:m,h=d.bottom;return!(s-a<u||n+a>(void 0===h?u:h)||l-a<p||o+a>f)}function be(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),a=t.left+ve("left"),r=t.top+ve("top");return{top:r,left:a,right:(e.offsetWidth||0)+a,bottom:(e.offsetHeight||0)+r}}function ve(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var Ee=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.global,o=void 0!==n&&n,i=a.longPressThreshold,l=void 0===i?250:i;Object(r.a)(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||o,this.longPressThreshold=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=fe("touchmove",(function(){}),window),this._removeKeyDownListener=fe("keydown",this._keyListener),this._removeKeyUpListener=fe("keyup",this._keyListener),this._removeDropFromOutsideListener=fe("drop",this._dropFromOutsideListener),this._onDragOverfromOutisde=fe("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Object(n.a)(e,[{key:"on",value:function(e,t){var a=this._listeners[e]||(this._listeners[e]=[]);return a.push(t),{remove:function(){var e=a.indexOf(t);-1!==e&&a.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var n,o=this._listeners[e]||[];return o.forEach((function(e){void 0===n&&(n=e.apply(void 0,a))})),n}},{key:"teardown",value:function(){this.isDetached=!0,this.listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&ye(t,be(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var a=this,r=null,n=null,o=null,i=function(t){r=setTimeout((function(){c(),e(t)}),a.longPressThreshold),n=fe("touchmove",(function(){return c()})),o=fe("touchend",(function(){return c()}))},l=fe("touchstart",i),c=function(){r&&clearTimeout(r),n&&n(),o&&o(),r=null,n=null,o=null};return t&&i(t),function(){c(),l()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=fe("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=fe("mousedown",e._handleInitialEvent)})),a=fe("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),a()}}},{key:"_dropFromOutsideListener",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:a,y:r,clientX:n,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:a,y:r,clientX:n,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(!this.isDetached){var t,a=ge(e),r=a.clientX,n=a.clientY,o=a.pageX,i=a.pageY,l=this.container();if(3!==e.which&&2!==e.button&&(s=r,d=n,!(c=l)||Object(ue.default)(c,document.elementFromPoint(s,d)))){var c,s,d;if(!this.globalMouse&&l&&!Object(ue.default)(l,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==typeof e&&(e={top:e,left:e,right:e,bottom:e});return e}(0),p=u.top,m=u.left,f=u.bottom,h=u.right;if(!ye({top:(t=be(l)).top-p,left:t.left-m,bottom:t.bottom+f,right:t.right+h},{top:i,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:i,clientX:r,clientY:n}))switch(e.type){case"mousedown":this._removeEndListener=fe("mouseup",this._handleTerminatingEvent),this._onEscListener=fe("keydown",this._handleTerminatingEvent),this._removeMoveListener=fe("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=fe("touchend",this._handleTerminatingEvent),this._removeMoveListener=fe("touchmove",this._handleMoveEvent)}}}}},{key:"_handleTerminatingEvent",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._initialEventData){var n=!this.container||Object(ue.default)(this.container(),e.target),o=this._selectRect,i=this.isClick(a,r);return this._initialEventData=null,"Escape"===e.key?this.emit("reset"):n?i&&n?this._handleClickEvent(e):i?void 0:this.emit("select",o):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=ge(e),a=t.pageX,r=t.pageY,n=t.clientX,o=t.clientY,i=(new Date).getTime();return this._lastClickData&&i-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:r,clientX:n,clientY:o})):(this._lastClickData={timestamp:i},this.emit("click",{x:a,y:r,clientX:n,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,a=t.x,r=t.y,n=ge(e),o=n.pageX,i=n.pageY,l=Math.abs(a-o),c=Math.abs(r-i),s=Math.min(o,a),d=Math.min(i,r),u=this.selecting;(!this.isClick(o,i)||u||l||c)&&(this.selecting=!0,this._selectRect={top:d,left:s,x:o,y:i,right:s+l,bottom:d+c},u||this.emit("selectStart",this._initialEventData),this.isClick(o,i)||this.emit("selecting",this._selectRect),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var a=this._initialEventData,r=a.x,n=a.y;return!a.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-n)<=5}}]),e}();function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e){return"string"===typeof e?e:e+"%"}var ke=function(e){var t,a=e.style,r=e.className,n=e.event,o=e.accessors,i=e.rtl,l=e.selected,c=e.label,d=e.continuesEarlier,u=e.continuesLater,p=e.getters,m=e.onClick,f=e.onDoubleClick,h=e.components,g=h.event,y=h.eventWrapper,b=o.title(n),E=o.tooltip(n),S=o.end(n),D=o.start(n),O=p.eventProp(n,D,S,l),k=a.height,T=a.top,w=a.width,M=a.xOffset,j=[s.a.createElement("div",{key:"1",className:"rbc-event-label"},c),s.a.createElement("div",{key:"2",className:"rbc-event-content"},g?s.a.createElement(g,{event:n,title:b}):b)];return s.a.createElement(y,Object.assign({type:"time"},e),s.a.createElement("div",{onClick:m,onDoubleClick:f,style:De({},O.style,(t={top:Oe(T)},Object(v.a)(t,i?"right":"left",Oe(M)),Object(v.a)(t,"width",Oe(w)),Object(v.a)(t,"height",Oe(k)),t)),title:E?("string"===typeof c?c+": ":"")+E:void 0,className:Object(U.default)("rbc-event",n.className,r,O.className,{"rbc-selected":l,"rbc-event-continues-earlier":d,"rbc-event-continues-later":u})},j))};function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Me={start:Z((function(e){return e.start})),end:Z((function(e){return e.end}))},je=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t.filter(Boolean).map(c.createFactory),n=function(e){var t=e.children,a=Object(H.a)(e,["children"]);return r.reduceRight((function(e,t){return t(a,e)}),t)};return n},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.keys(t),r=we({},e);return a.forEach((function(a){r[a]=e[a]?je(e[a],t[a]):t[a]})),r};var Pe=function(e){return e.children};function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=function(e,t){var a=t.x,r=t.y,n=e.left,o=e.right,i=e.top;return a<o+10&&a>n&&r>i},Re=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleMove=function(e,t){var r=a.context.draggable.dragAndDropAction.event,n=a.props,o=n.accessors,i=n.slotMetrics;if(xe(t,e)){var l=i.closestSlotFromPoint({y:e.y-a.eventOffsetTop,x:e.x},t),c=o.start(r),s=o.end(r),d=re.add(l,se(c,s,"minutes"),"minutes");a.update(r,i.getRange(l,d,!1,!0))}else a.reset()},a.handleDropFromOutside=function(e,t){var r=a.props,n=r.slotMetrics,o=r.resource,i=n.closestSlotFromPoint({y:e.y,x:e.x},t);a.context.draggable.onDropFromOutside({start:i,end:n.nextSlot(i),allDay:!1,resource:o})},a._selectable=function(){var e=Object(de.findDOMNode)(Object(ae.a)(a)),t=a._selector=new Ee((function(){return e.closest(".rbc-time-view")}));t.on("beforeSelect",(function(t){var r=a.context.draggable.dragAndDropAction;if(!r.action)return!1;if("resize"===r.action)return xe(be(e),t);var n=he(e,t);if(!n)return!1;a.eventOffsetTop=t.y-be(n).top})),t.on("selecting",(function(t){var r=be(e),n=a.context.draggable.dragAndDropAction;"move"===n.action&&a.handleMove(t,r),"resize"===n.action&&a.handleResize(t,r)})),t.on("dropFromOutside",(function(t){if(a.context.draggable.onDropFromOutside){var r=be(e);xe(r,t)&&a.handleDropFromOutside(t,r)}})),t.on("dragOver",(function(t){if(a.context.draggable.dragFromOutsideItem){var r=be(e);a.handleDropFromOutside(t,r)}})),t.on("selectStart",(function(){return a.context.draggable.onStart()})),t.on("select",(function(t){var r=be(e);a.state.event&&xe(r,t)&&a.handleInteractionEnd()})),t.on("click",(function(){return a.context.draggable.onEnd(null)})),t.on("reset",(function(){a.reset(),a.context.draggable.onEnd(null)}))},a.handleInteractionEnd=function(){var e=a.props.resource,t=a.state.event;a.reset(),a.context.draggable.onEnd({start:t.start,end:t.end,resourceId:e})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a.state={},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(e,t){var a=t.startDate,r=t.endDate,n=t.top,o=t.height,i=this.state.event;i&&a===i.start&&r===i.end||this.setState({top:n,height:o,event:Ae({},e,{start:a,end:r})})}},{key:"handleResize",value:function(e,t){var a,r,n=this.props,o=n.accessors,i=n.slotMetrics,l=this.context.draggable.dragAndDropAction,c=l.event,s=l.direction,d=i.closestSlotFromPoint(e,t);"UP"===s?(r=o.end(c),a=re.min(d,i.closestSlotFromDate(r,-1))):"DOWN"===s&&(a=o.start(c),r=re.max(d,i.closestSlotFromDate(a))),this.update(c,i.getRange(a,r))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.accessors,r=e.components,n=e.getters,o=e.slotMetrics,i=e.localizer,l=this.state,c=l.event,d=l.top,u=l.height;if(!c)return t;var p,m=t.props.children,f=c.start,h=c.end,g="eventTimeRangeFormat",y=o.startsBeforeDay(f),b=o.startsAfterDay(h);return y?g="eventTimeRangeEndFormat":b&&(g="eventTimeRangeStartFormat"),p=y&&b?i.messages.allDay:i.format({start:f,end:h},g),s.a.cloneElement(t,{children:s.a.createElement(s.a.Fragment,null,m,c&&s.a.createElement(ke,{event:c,label:p,className:"rbc-addons-dnd-drag-preview",style:{top:d,height:u,width:100},getters:n,components:Ae({},r,{eventWrapper:Pe}),accessors:Ae({},a,{},Me),continuesEarlier:y,continuesLater:b}))})}}]),t}(s.a.Component);Re.contextTypes={draggable:q.a.shape({onStart:q.a.func,onEnd:q.a.func,onDropFromOutside:q.a.func,onBeginAction:q.a.func,dragAndDropAction:q.a.object,dragFromOutsideItem:q.a.func})};var _e=Re;function Fe(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)}function Ie(e,t){return(e.right-e.left)/t}function Ve(e,t,a,r){var n=Ie(e,r);return a?r-1-Math.floor((t-e.left)/n):Math.floor((t-e.left)/n)}function Be(e,t){var a=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&a>=e.left&&a<=e.right}var Ye=a(723),Le=a.n(Ye);function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";return{first:e[0],last:re.add(e[e.length-1],1,t)}}function He(e,t,a){var r=ze(t),n=r.first,o=r.last,i=se(n,o,"day"),l=re.max(re.startOf(a.start(e),"day"),n),c=re.min(oe(a.end(e),"day"),o),s=Le()(t,(function(e){return re.eq(e,l,"day")})),d=se(l,c,"day");return d=Math.min(d,i),{event:e,span:d=Math.max(d,1),left:s+1,right:Math.max(s+d,1)}}function We(e,t,a,r){var n=re.startOf(r.start(e),"day"),o=r.end(e),i=re.lte(n,a,"day"),l=re.eq(n,o,"minutes")?re.gte(o,t,"minutes"):re.gt(o,t,"minutes");return i&&l}function qe(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ke=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,r=e.event,n=e.selected,o=e.isAllDay,i=e.onSelect,l=e.onDoubleClick,c=e.localizer,d=e.continuesPrior,u=e.continuesAfter,p=e.accessors,m=e.getters,f=e.children,h=e.components,g=h.event,y=h.eventWrapper,b=e.slotStart,v=e.slotEnd,E=Object(H.a)(e,["style","className","event","selected","isAllDay","onSelect","onDoubleClick","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"]),S=p.title(r),D=p.tooltip(r),O=p.end(r),k=p.start(r),T=p.allDay(r),w=o||T||se(k,oe(O,"day"),"day")>1,M=m.eventProp(r,k,O,n),j=s.a.createElement("div",{className:"rbc-event-content",title:D||void 0},g?s.a.createElement(g,{event:r,continuesPrior:d,continuesAfter:u,title:S,isAllDay:T,localizer:c,slotStart:b,slotEnd:v}):S);return s.a.createElement(y,Object.assign({},this.props,{type:"date"}),s.a.createElement("div",Object.assign({},E,{tabIndex:0,style:Ge({},M.style,{},t),className:Object(U.default)("rbc-event",r.className,a,M.className,{"rbc-selected":n,"rbc-event-allday":w,"rbc-event-continues-prior":d,"rbc-event-continues-after":u}),onClick:function(e){return i&&i(r,e)},onDoubleClick:function(e){return l&&l(r,e)}}),"function"===typeof f?f(j):j))}}]),t}(s.a.Component),Xe=(q.a.object.isRequired,q.a.object,q.a.bool,q.a.object.isRequired,q.a.object.isRequired,q.a.object.isRequired,q.a.object.isRequired,q.a.func,q.a.func,{segments:[],selected:{}}),Je=function(e,t){var a=e.selected,r=e.accessors,n=e.getters,o=e.onSelect,i=e.onDoubleClick,l=e.localizer,c=e.slotMetrics,d=e.components,u=c.continuesPrior(t),p=c.continuesAfter(t);return s.a.createElement(Ke,{event:t,getters:n,localizer:l,accessors:r,components:d,onSelect:o,onDoubleClick:i,continuesPrior:u,continuesAfter:p,slotStart:c.first,slotEnd:c.last,selected:Fe(t,a)})},Qe=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",n=arguments.length>4?arguments[4]:void 0,o=Math.abs(t)/e*100+"%";return s.a.createElement("div",{key:a,className:Object(U.default)("rbc-row-segment",n.className),style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},r)};function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ze=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.segments,r=t.slotMetrics.slots,n=t.className,o=1;return s.a.createElement("div",{className:Object(U.default)(n,"rbc-row")},a.reduce((function(t,a,n){var i=a.event,l=a.left,c=a.right,s=a.span,d="_lvl_"+n,u=l-o,p=Je(e.props,i);return u&&t.push(Qe(r,u,"".concat(d,"_gap")," ",i)),t.push(Qe(r,s,d,p,i)),o=c+1,t}),[]))}}]),t}(s.a.Component);Ze.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Xe);var et=Ze;function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleMove=function(e,t,r){var n=e.x,o=e.y,i=a.context.draggable.dragAndDropAction.event,l=void 0===i?r:i,c=a.props.slotMetrics,s=a.props.accessors;if(l){var d=be(t);if(Be(d,{x:n,y:o})){var u=le(c.getDateForSlot(Ve(d,n,!1,c.slots)),s.start(l)),p=re.add(u,se(s.start(l),s.end(l),"minutes"),"minutes");a.update(l,u,p)}else a.reset()}},a.handleDropFromOutside=function(e,t){if(a.context.draggable.onDropFromOutside){var r=a.props.slotMetrics,n=r.getDateForSlot(Ve(t,e.x,!1,r.slots));a.context.draggable.onDropFromOutside({start:n,end:re.add(n,1,"day"),allDay:!1})}},a.handleDragOverFromOutside=function(e,t){var r=e.x,n=e.y;a.context.draggable.dragFromOutsideItem&&a.handleMove({x:r,y:n},t,a.context.draggable.dragFromOutsideItem())},a._selectable=function(){var e=Object(de.findDOMNode)(Object(ae.a)(a)).closest(".rbc-month-row, .rbc-allday-cell"),t=e.closest(".rbc-month-view, .rbc-time-view"),r=a._selector=new Ee((function(){return t}));r.on("beforeSelect",(function(t){var r=a.props.isAllDay,n=a.context.draggable.dragAndDropAction.action;return"move"===n||"resize"===n&&(!r||Be(be(e),t))})),r.on("selecting",(function(t){var r=be(e),n=a.context.draggable.dragAndDropAction;"move"===n.action&&a.handleMove(t,r),"resize"===n.action&&a.handleResize(t,r)})),r.on("selectStart",(function(){return a.context.draggable.onStart()})),r.on("select",(function(t){var r=be(e);a.state.segment&&Be(r,t)&&a.handleInteractionEnd()})),r.on("dropFromOutside",(function(t){if(a.context.draggable.onDropFromOutside){var r=be(e);Be(r,t)&&a.handleDropFromOutside(t,r)}})),r.on("dragOverFromOutside",(function(t){if(a.context.draggable.dragFromOutsideItem){var r=be(e);a.handleDragOverFromOutside(t,r)}})),r.on("click",(function(){return a.context.draggable.onEnd(null)})),r.on("reset",(function(){a.reset(),a.context.draggable.onEnd(null)}))},a.handleInteractionEnd=function(){var e=a.props,t=e.resourceId,r=e.isAllDay,n=a.state.segment.event;a.reset(),a.context.draggable.onEnd({start:n.start,end:n.end,resourceId:t,isAllDay:r})},a._teardownSelectable=function(){a._selector&&(a._selector.teardown(),a._selector=null)},a.state={},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(e,t,a){var r=He(at({},e,{end:a,start:t,__isPreview:!0}),this.props.slotMetrics.range,Me),n=this.state.segment;n&&r.span===n.span&&r.left===n.left&&r.right===n.right||this.setState({segment:r})}},{key:"handleResize",value:function(e,t){var a=this.context.draggable.dragAndDropAction,r=a.event,n=a.direction,o=this.props,i=o.accessors,l=o.slotMetrics,c=function(e,t){var a=t.start(e),r=t.end(e);return re.eq(a,r,"minutes")&&0===a.getMinutes()&&(r=re.add(r,1,"day")),{start:a,end:r}}(r,i),s=c.start,d=c.end,u=be(t),p=Be(u,e);if("RIGHT"===n){if(p){if(l.last<s)return this.reset();d=re.add(l.getDateForSlot(Ve(u,e.x,!1,l.slots)),1,"day")}else{if(!(re.inRange(s,l.first,l.last)||u.bottom<e.y&&+l.first>+s))return void this.setState({segment:null});d=re.add(l.last,1,"milliseconds")}d=re.max(d,re.add(s,1,"day"))}else if("LEFT"===n){if(p){if(l.first>d)return this.reset();s=l.getDateForSlot(Ve(u,e.x,!1,l.slots))}else{if(!(re.inRange(d,l.first,l.last)||u.top>e.y&&+l.last<+d))return void this.reset();s=re.add(l.first,-1,"milliseconds")}s=re.min(re.add(d,-1,"day"),s)}this.update(r,s,d)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.accessors,r=this.state.segment;return s.a.createElement("div",{className:"rbc-addons-dnd-row-body"},t,r&&s.a.createElement(et,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[r],accessors:at({},a,{},Me)})))}}]),t}(s.a.Component);rt.contextTypes={draggable:q.a.shape({onStart:q.a.func,onEnd:q.a.func,dragAndDropAction:q.a.object,onDropFromOutside:q.a.func,onBeginAction:q.a.func,dragFromOutsideItem:q.a.func})};var nt=rt;function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var it=function(e){var t=function(t){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];(t=Object(o.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(l)))).defaultOnDragOver=function(e){e.preventDefault()},t.handleBeginAction=function(e,a,r){var n=t.props.onDragStart;t.setState({event:e,action:a,direction:r}),n&&n({event:e,action:a,direction:r})},t.handleInteractionStart=function(){!1===t.state.interacting&&t.setState({interacting:!0})},t.handleInteractionEnd=function(e){var a=t.state,r=a.action,n=a.event;r&&(t.setState({action:null,event:null,interacting:!1,direction:null}),null!=e&&(e.event=n,"move"===r&&t.props.onEventDrop(e),"resize"===r&&t.props.onEventResize(e)))};var s=t.props.components;return t.components=Ce(s,{eventWrapper:te,eventContainerWrapper:_e,weekWrapper:nt}),t.state={interacting:!1},t}return Object(l.a)(a,t),Object(n.a)(a,[{key:"getChildContext",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var t=this.props,a=t.selectable,r=t.elementProps,n=Object(H.a)(t,["selectable","elementProps"]),o=this.state.interacting;delete n.onEventDrop,delete n.onEventResize,n.selectable=!!a&&"ignoreEvents";var i=this.props.onDropFromOutside?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):r;return n.className=Object(U.default)(n.className,"rbc-addons-dnd",!!o&&"rbc-addons-dnd-is-dragging"),s.a.createElement(e,Object.assign({},n,{elementProps:i,components:this.components}))}}]),a}(s.a.Component);return t.defaultProps={components:{},draggableAccessor:null,resizableAccessor:null,step:30},t.contextTypes={dragDropManager:q.a.object},t.childContextTypes={draggable:q.a.shape({onStart:q.a.func,onEnd:q.a.func,onBeginAction:q.a.func,onDropFromOutside:q.a.func,dragFromOutsideItem:q.a.func,draggableAccessor:Q,resizableAccessor:Q,dragAndDropAction:q.a.object})},t},lt=(a(640),a(724),a(105)),ct=a(845),st=a(846),dt=a(725),ut=a.n(dt),pt=a(726),mt=a.n(pt),ft=a(153),ht=a.n(ft),gt=a(134),yt=a.n(gt),bt=a(77),vt=a(16),Et=Object(lt.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,position:"relative",width:"100%",minHeight:75},toolbar_container:{justifyContent:"space-between",alignItems:"center",textAlign:"center"},navigation_container:{justifyContent:"flex-start"},filter_container:{justifyContent:"flex-end"},labelDate:{fontSize:"1rem"},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textTransform:"capitalize",fontSize:"1rem"},labelFilterButton:{textTransform:"capitalize",fontSize:"1rem"},button_active:{backgroundColor:"#BBB"},add_dietEntry_fab:{position:"absolute",bottom:e.spacing(2),left:e.spacing(2)},add_mealPlan_fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),St=function(e,t){var a=Et(),r={prev:"",current:"Today",next:""};switch(e.view){case vt.f.AGENDA:case vt.f.DAY:r={prev:"".concat(y()(y()(e.date).subtract(1,"day")).format("Do")),current:"Today",next:"".concat(y()(y()(e.date).add(1,"day")).format("Do"))};break;case vt.f.WEEK:r={prev:"".concat(y()(y()(e.date).subtract(1,"week")).format("Wo")," wk"),current:"This Week",next:"".concat(y()(y()(e.date).add(1,"week")).format("Wo")," wk")};break;case vt.f.MONTH:r={prev:"".concat(y()(y()(e.date).subtract(1,"month")).format("MMM")),current:"This Month",next:"".concat(y()(y()(e.date).add(1,"month")).format("MMM"))};break;default:r={prev:"",current:"Today",next:""}}return s.a.createElement("div",{className:a.root},s.a.createElement(bt.a,{container:!0,spacing:2,className:a.toolbar_container},s.a.createElement(bt.a,{item:!0,xs:8,sm:5,className:a.navigation_container},s.a.createElement(ct.a,{"aria-label":"contained default button group"},s.a.createElement(O.a,{variant:"contained",className:a.button,onClick:function(){var t=e.date;switch(e.view){case vt.f.AGENDA:case vt.f.DAY:e.date.setDate(t.getDate()-1);break;case vt.f.WEEK:e.date.setDate(t.getDate()-7);break;case vt.f.MONTH:default:e.date.setYear(t.getFullYear()),e.date.setMonth(t.getMonth()-1),e.date.setDate(1)}e.onNavigate("prev"),e.updateCalendarDate(e.date)}},s.a.createElement(ht.a,null)," ",r.prev),s.a.createElement(O.a,{variant:"contained",className:a.button,onClick:function(){e.onNavigate("TODAY"),e.updateCalendarDate(new Date)}},r.current),s.a.createElement(O.a,{variant:"contained",className:a.button,onClick:function(){var t=e.date;switch(e.view){case vt.f.AGENDA:case vt.f.DAY:e.date.setDate(t.getDate()+1);break;case vt.f.WEEK:e.date.setDate(t.getDate()+7);break;case vt.f.MONTH:default:e.date.setYear(t.getFullYear()),e.date.setMonth(t.getMonth()+1),e.date.setDate(1)}e.onNavigate("next"),e.updateCalendarDate(e.date)}},r.next," ",s.a.createElement(yt.a,null)))),s.a.createElement(bt.a,{item:!0,xs:4,sm:2,className:a.label},s.a.createElement("label",{className:a.labelDate},function(){var t=y()(e.date);return s.a.createElement("span",null,s.a.createElement("b",null,t.format("MMMM")),e.view===vt.f.DAY||e.view===vt.f.AGENDA?s.a.createElement("span",null," ",t.format("Do"),","):null,s.a.createElement("span",null," ",t.format("YYYY")))}())),s.a.createElement(bt.a,{xs:12,sm:5,item:!0,className:a.filter_container},s.a.createElement(ct.a,{"aria-label":"contained default button group"},s.a.createElement(O.a,{variant:"contained",className:a.button&&e.view===vt.f.AGENDA?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.AGENDA),e.onView(vt.f.AGENDA)}},s.a.createElement("span",{className:a.labelFilterButton},"Entries")),s.a.createElement(O.a,{variant:"contained",className:a.button&&e.view===vt.f.DAY?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.DAY),e.onView(vt.f.DAY)}},s.a.createElement("span",{className:a.labelFilterButton},"Day")),s.a.createElement(O.a,{variant:"contained",className:a.button&&e.view===vt.f.WEEK?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.WEEK),e.onView(vt.f.WEEK)}},s.a.createElement("span",{className:a.labelFilterButton},"Week")),s.a.createElement(O.a,{variant:"contained",className:a.button&&e.view===vt.f.MONTH?a.button_active:null,onClick:function(){e.updateCalendarView(vt.f.MONTH),e.onView(vt.f.MONTH)}},s.a.createElement("span",{className:a.labelFilterButton},"Month")))),s.a.createElement(st.a,{"aria-label":"add entry",className:a.add_dietEntry_fab,color:"default",onClick:e.showAddDietEntryForm},s.a.createElement(ut.a,{color:"primary"})),s.a.createElement(st.a,{"aria-label":"add entry",className:a.add_mealPlan_fab,color:"default",onClick:e.showAddMealPlanForm},s.a.createElement(mt.a,{color:"primary"}))))},Dt=a(55),Ot=a(683),kt=a(645),Tt=a(634),wt=a(727),Mt=a.n(wt),jt=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},Ct=function(e,t,a,r){return"".concat(+re.startOf(e,"minutes"))+"".concat(+re.startOf(t,"minutes"))+"".concat(a,"-").concat(r)};var Pt=a(690),Nt=a.n(Pt),At=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,a=e.resource,r=e.group,n=e.getters,o=e.components,i=(o=void 0===o?{}:o).timeSlotWrapper,l=void 0===i?Nt.a:i;return s.a.createElement("div",{elevation:10,className:"rbc-timeslot-group"},r.map((function(e,r){var o=n?n.slotProp(e,a):{};return s.a.createElement(l,{key:r,value:e,resource:a},s.a.createElement("div",Object.assign({},o,{className:Object(U.default)("rbc-time-slot",o.className)}),t&&t(e,r)))})))}}]),t}(c.Component),xt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).renderSlot=function(e,t){if(0!==t)return null;var r=a.props,n=r.localizer,o=r.getNow,i=a.slotMetrics.dateIsInGroup(o(),t);return s.a.createElement("span",{className:Object(U.default)("rbc-label",i&&"rbc-now")},n.format(e,"timeGutterFormat"))};var d=a.props,u=d.min,p=d.max,m=d.timeslots,f=d.step;return a.slotMetrics=function e(t){for(var a=t.min,r=t.max,n=t.step,o=t.timeslots,i=Ct(a,r,n,o),l=re.startOf(a,"day"),c=jt(l,a),s=1+se(a,r,"minutes")+jt(a,r),d=se(l,a,"minutes")+c,u=Math.ceil(s/(n*o)),p=u*o,m=new Array(u),f=new Array(p),h=0;h<u;h++){m[h]=new Array(o);for(var g=0;g<o;g++){var y=h*o+g,b=y*n;f[y]=m[h][g]=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,d+b,0,0)}}var v=f.length*n;function E(e){var t=se(a,e,"minutes")+jt(a,e);return Math.min(t,s)}return f.push(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,d+v,0,0)),{groups:m,update:function(t){return Ct(t)!==i?e(t):this},dateIsInGroup:function(e,t){var a=m[t+1];return re.inRange(e,m[t][0],a?a[0]:r,"minutes")},nextSlot:function(e){var t=f[Math.min(f.indexOf(e)+1,f.length-1)];return t===e&&(t=re.add(e,n,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(f.length-1,Math.max(0,Math.floor(e*p)));return f[t]},closestSlotFromPoint:function(e,t){var a=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/a)},closestSlotFromDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(re.lt(e,a,"minutes"))return f[0];var r=se(a,e,"minutes");return f[(r-r%n)/n+t]},startsBeforeDay:function(e){return re.lt(e,a,"day")},startsAfterDay:function(e){return re.gt(e,r,"day")},startsBefore:function(e){return re.lt(le(a,e),a,"minutes")},startsAfter:function(e){return re.gt(le(r,e),r,"minutes")},getRange:function(e,t,o,i){o||(e=re.min(r,re.max(a,e))),i||(t=re.min(r,re.max(a,t)));var l=E(e),c=E(t),s=c-l<n&&!re.eq(r,t)?(l-n)/(n*p)*100:l/(n*p)*100;return{top:s,height:c/(n*p)*100-s,start:E(e),startDate:e,end:E(t),endDate:t}},getCurrentTimePosition:function(e){return E(e)/(n*p)*100}}}({min:u,max:p,timeslots:m,step:f}),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.min,a=e.max,r=e.timeslots,n=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:a,timeslots:r,step:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.resource,r=t.components;return s.a.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map((function(t,n){return s.a.createElement(At,{key:n,group:t,resource:a,components:r,renderSlot:e.renderSlot})})))}}]),t}(c.Component),Rt=a(646),_t=a(685),Ft=a(686);function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Vt=function(e,t){return e.left<=t&&e.right>=t},Bt=function(e,t){return e.range===t.range&&e.events===t.events};function Yt(){return Object(Tt.a)((function(e){for(var t=e.range,a=e.events,r=e.maxRows,n=e.minRows,o=e.accessors,i=ze(t),l=i.first,c=i.last,s=a.map((function(e){return He(e,t,o)})),d=function(e){var t,a,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],i=[];for(t=0;t<e.length;t++){for(r=e[t],a=0;a<o.length&&qe(r,o[a]);a++);a>=n?i.push(r):(o[a]||(o[a]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:i}}(s,Math.max(r-1,1)),u=d.levels,p=d.extra;u.length<n;)u.push([]);return{first:l,last:c,levels:u,extra:p,range:t,slots:t.length,clone:function(t){return Yt()(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return re.eq(t,e,"day")}))},getEventsForSlot:function(e){return s.filter((function(t){return Vt(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return re.lt(o.start(e),l,"day")},continuesAfter:function(e){var t=o.end(e);return re.eq(o.start(e),t,"minutes")?re.gte(t,c,"minutes"):re.gt(t,c,"minutes")}}}),Bt)}var Lt=a(731),zt=a.n(Lt),Ht=a(732),Wt=a.n(Ht),qt=a(734),Ut=a.n(qt),Gt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleSelectSlot=function(e){var t=a.props,r=t.range;(0,t.onSelectSlot)(r.slice(e.start,e.end+1),e)},a.handleShowMore=function(e,t){var r,n=a.props,o=n.range,i=n.onShowMore,l=a.slotMetrics(a.props),c=Object(Ft.a)(Object(de.findDOMNode)(Object(ae.a)(a)),".rbc-row-bg")[0];c&&(r=c.children[e-1]),i(l.getEventsForSlot(e),o[e-1],r,e,t)},a.createHeadingRef=function(e){a.headingRow=e},a.createEventRef=function(e){a.eventRow=e},a.getContainer=function(){var e=a.props.container;return e?e():Object(de.findDOMNode)(Object(ae.a)(a))},a.renderHeadingCell=function(e,t){var r=a.props,n=r.renderHeader,o=r.getNow;return n({date:e,key:"header_".concat(t),className:Object(U.default)("rbc-date-cell",re.eq(e,o(),"day")&&"rbc-now")})},a.renderDummy=function(){var e=a.props,t=e.className,r=e.range,n=e.renderHeader;return s.a.createElement("div",{className:t},s.a.createElement("div",{className:"rbc-row-content"},n&&s.a.createElement("div",{className:"rbc-row",ref:a.createHeadingRef},r.map(a.renderHeadingCell)),s.a.createElement("div",{className:"rbc-row",ref:a.createEventRef},s.a.createElement("div",{className:"rbc-row-segment"},s.a.createElement("div",{className:"rbc-event"},s.a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},a.slotMetrics=Yt(),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"getRowLimit",value:function(){var e=Object(_t.a)(this.eventRow),t=this.headingRow?Object(_t.a)(this.headingRow):0,a=Object(_t.a)(Object(de.findDOMNode)(this))-t;return Math.max(Math.floor(a/e),1)}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.rtl,r=e.range,n=e.className,o=e.selected,i=e.selectable,l=e.renderForMeasure,c=e.accessors,d=e.getters,u=e.components,p=e.getNow,m=e.renderHeader,f=e.onSelect,h=e.localizer,g=e.onSelectStart,y=e.onSelectEnd,b=e.onDoubleClick,v=e.resourceId,E=e.longPressThreshold,S=e.isAllDay;if(l)return this.renderDummy();var D=this.slotMetrics(this.props),O=D.levels,k=D.extra,T=u.weekWrapper,w={selected:o,accessors:c,getters:d,localizer:h,components:u,onSelect:f,onDoubleClick:b,resourceId:v,slotMetrics:D};return s.a.createElement("div",{className:n},s.a.createElement(zt.a,{date:t,getNow:p,rtl:a,range:r,selectable:i,container:this.getContainer,getters:d,onSelectStart:g,onSelectEnd:y,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:E}),s.a.createElement("div",{className:"rbc-row-content"},m&&s.a.createElement("div",{className:"rbc-row ",ref:this.createHeadingRef},r.map(this.renderHeadingCell)),s.a.createElement(T,Object.assign({isAllDay:S},w),O.map((function(e,t){return s.a.createElement(Wt.a,Object.assign({key:t,segments:e},w))})),!!k.length&&s.a.createElement(Ut.a,Object.assign({segments:k,onShowMore:this.handleShowMore},w)))))}}]),t}(s.a.Component);Gt.defaultProps={minRows:0,maxRows:1/0};var Kt=Gt,Xt=a(735),Jt=a.n(Xt),Qt=a(234),$t=a(235),Zt=Object(lt.a)((function(e){return{card:{width:"100%",height:"100%",backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.3s","&:hover":{backgroundColor:"rgba(135, 206, 250, 0.64)",zIndex:"1 !important"},boxSizing:"border-box",boxShadow:"16px 16px 16px 16px rgba(0, 0, 0, 0.2)"},cardContent:{padding:"0 !important",margin:0,width:"100%"},headerColorMealPlan:{backgroundColor:"rgba(255, 225, 220, 0.96)"},headerColorDietEntry:{backgroundColor:"rgba(255, 245, 220, 0.96)"},headerBody:{lineHeight:.8,fontWeight:"normal"},headerLabel:{marginTop:0,paddingTop:10}}})),ea=function(e){var t=e.label,a=Zt(),r=vt.c.map((function(e){return e[vt.d]}));return s.a.createElement(Qt.a,{className:a.card,raised:!0},s.a.createElement($t.a,{className:Object(U.default)(a.cardContent,r[0]===t?a.headerColorMealPlan:a.headerColorDietEntry)},s.a.createElement(k.a,{variant:"caption"},t)))};function ta(e,t){e&&e.apply(null,[].concat(t))}var aa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleHeaderClick=function(e,t,r){r.preventDefault(),ta(a.props.onDrillDown,[e,t])},a.renderRow=function(e){var t=a.props,r=t.events,n=t.rtl,o=t.selectable,i=t.getNow,l=t.range,c=t.getters,d=t.localizer,u=t.accessors,p=t.components,m=u.resourceId(e),f=e?r.filter((function(e){return u.resource(e)===m})):r;return s.a.createElement(Kt,{isAllDay:!0,rtl:n,getNow:i,minRows:2,range:l,events:f,resourceId:m,className:"rbc-allday-cell",selectable:o,selected:a.props.selected,components:p,accessors:u,getters:c,localizer:d,onSelect:a.props.onSelectEvent,onDoubleClick:a.props.onDoubleClickEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold})},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"renderHeaderCells",value:function(e,t){var a=this,r=this.props,n=r.localizer,o=r.getDrilldownView,i=r.getNow,l=r.getters.dayProp,c=r.components.header,d=void 0===c?Jt.a:c,u=i();return e.map((function(e,r){var i=o(e),c=n.format(e,"dayFormat"),p=l(e),m=p.className,f=p.style,h=Object(v.a)({},vt.b,t),g=s.a.createElement(d,Object.assign({date:e,label:c},h,{localizer:n}));return s.a.createElement("div",{key:r,style:f,className:Object(U.default)("rbc-header",m,re.eq(e,u,"day")&&"rbc-today")},i?s.a.createElement(O.a,{variant:"text",style:{margin:0,padding:0,width:"100%",boxSizing:"border-box",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)"},href:"#",onClick:function(t){return a.handleHeaderClick(e,i,t)}},g):s.a.createElement("span",null,g))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,r=t.rtl,n=t.resources,o=t.range,i=t.events,l=t.getNow,c=t.accessors,d=t.selectable,u=t.components,p=t.getters,m=t.scrollRef,f=t.localizer,h=t.isOverflowing,g=t.components,y=g.timeGutterHeader,b=g.resourceHeader,v=void 0===b?ea:b,E={};h&&(E[r?"marginLeft":"marginRight"]="".concat(Object(Rt.a)(),"px"));var S=n.groupEvents(i);return s.a.createElement("div",{style:E,ref:m,className:Object(U.default)("rbc-time-header",h&&"rbc-overflowing")},s.a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},y&&s.a.createElement(y,null)),o.map((function(t,a){return n.map((function(a,n){var o=Object(Dt.a)(a,2),i=o[0],m=o[1];return s.a.createElement("div",{className:"rbc-time-header-content",key:i||n},s.a.createElement("div",{className:"rbc-row rbc-time-header-cell"},e.renderHeaderCells([t],i)),s.a.createElement(Kt,{isAllDay:!0,rtl:r,getNow:l,minRows:2,range:[t],events:S.get(i)||[],resourceId:m&&i,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:u,accessors:c,getters:p,localizer:f,onSelect:e.props.onSelectEvent,onDoubleClick:e.props.onDoubleClickEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold}),m&&s.a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},s.a.createElement("div",{className:"rbc-header"},s.a.createElement(v,{index:n,label:c.resourceTitle(m),resource:m}))))}))})))}}]),t}(s.a.Component),ra={};var na=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleScroll=function(e){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=e.target.scrollLeft)},a.handleResize=function(){Ot.a(a.rafHandle),a.rafHandle=Ot.b(a.checkOverflow)},a.gutterRef=function(e){a.gutter=e&&Object(de.findDOMNode)(e)},a.handleSelectAlldayEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ta(a.props.onSelectEvent,t)},a.handleSelectAllDaySlot=function(e,t){ta(a.props.onSelectSlot,{slots:e,start:e[0],end:e[e.length-1],action:t.action})},a.checkOverflow=function(){if(!a._updatingOverflow){var e=a.contentRef.current,t=e.scrollHeight>e.clientHeight;a.state.isOverflowing!==t&&(a._updatingOverflow=!0,a.setState({isOverflowing:t},(function(){a._updatingOverflow=!1})))}},a.memoizedResources=Object(Tt.a)((function(e,t){return function(e,t){return{map:function(a){return e?e.map((function(e,r){return a([t.resourceId(e),e],r)})):[a([ra,null],0)]},groupEvents:function(a){var r=new Map;return e?(a.forEach((function(e){var a=t.resource(e)||ra,n=r.get(a)||[];n.push(e),r.set(a,n)})),r):(r.set(ra,a),r)}}}(e,t)})),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=s.a.createRef(),a.contentRef=s.a.createRef(),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){this.calculateScroll()}},{key:"componentDidMount",value:function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Ot.a(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){null==this.props.width&&this.measureGutter(),this.applyScroll()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.range,r=t.scrollToTime;re.eq(e.range[0],a[0],"minute")&&re.eq(e.scrollToTime,r,"minute")||this.calculateScroll(e)}},{key:"renderEvents",value:function(e,t,a){var r=this,n=this.props,o=n.min,i=n.max,l=n.components,c=n.accessors,d=n.localizer,u=this.memoizedResources(this.props.resources,c),p=u.groupEvents(t);return e.map((function(e,t){return u.map((function(n,u){var m=Object(Dt.a)(n,2),f=m[0],h=m[1],g=(p.get(f)||[]).filter((function(t){return re.inRange(e,c.start(t),c.end(t),"day")}));return s.a.createElement(Mt.a,Object.assign({},r.props,{localizer:d,min:le(e,o),max:le(e,i),resource:h&&f,components:l,isNow:re.eq(e,a,"day"),key:u+"-"+t,date:e,events:g}))}))}))}},{key:"render",value:function(){var e=this.props,t=e.events,a=e.range,r=e.width,n=e.rtl,o=e.selected,i=e.getNow,l=e.resources,c=e.components,d=e.accessors,u=e.getters,p=e.localizer,m=e.min,f=e.max,h=e.showMultiDayTimes,g=e.longPressThreshold;r=r||this.state.gutterWidth;var y=a[0],b=a[a.length-1];this.slots=a.length;var v=[],E=[];return t.forEach((function(e){if(We(e,y,b,d)){var t=d.start(e),a=d.end(e);d.allDay(e)||ce(t)&&ce(a)||!h&&!re.eq(t,a,"day")?v.push(e):E.push(e)}})),v.sort((function(e,t){return function(e,t,a){var r=+re.startOf(a.start(e),"day")-+re.startOf(a.start(t),"day"),n=se(a.start(e),oe(a.end(e),"day"),"day"),o=se(a.start(t),oe(a.end(t),"day"),"day");return r||Math.max(o,1)-Math.max(n,1)||!!a.allDay(t)-!!a.allDay(e)||+a.start(e)-+a.start(t)}(e,t,d)})),s.a.createElement("div",{className:Object(U.default)("rbc-time-view",l&&"rbc-time-view-resources")},s.a.createElement(aa,{range:a,events:v,width:r,rtl:n,getNow:i,localizer:p,selected:o,resources:this.memoizedResources(l,d),selectable:this.props.selectable,accessors:d,getters:u,components:c,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:g,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView}),s.a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},s.a.createElement(xt,{date:y,ref:this.gutterRef,localizer:p,min:le(y,m),max:le(y,f),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:c,className:"rbc-time-gutter"}),this.renderEvents(a,E,i())))}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t=Object(kt.a)(e.gutter);t&&e.state.gutterWidth!==t&&e.setState({gutterWidth:t})}))}},{key:"applyScroll",value:function(){if(this._scrollRatio){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,a=e.max,r=e.scrollToTime,n=r-re.startOf(r,"day"),o=se(a,t);this._scrollRatio=n/o}}]),t}(c.Component);na.defaultProps={step:30,timeslots:2,min:re.startOf(new Date,"day"),max:re.endOf(new Date,"day"),scrollToTime:re.startOf(new Date,"day")};var oa=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.date,a="object"!==typeof e?new Date(y()(e)):e,r=t.range(a);return s.a.createElement(na,Object.assign({},this.props,{range:r,eventOffset:15,hideTimeGutter:!0}))}}]),t}(c.Component);oa.range=function(e){return[new Date(y()(e).hour(0).minutes(0).seconds(1))]},oa.navigate=function(e,t){switch(t){case z.b.PREVIOUS:case z.b.NEXT:return re.add("day");default:return e}},oa.title=function(e){return"Today's Tracker Timeline: ".concat(e.toLocaleDateString())};var ia=oa,la=a(736),ca=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,a=e.date,r=Object(H.a)(e,["date"]),n=t.range(a,this.props);return s.a.createElement(na,Object.assign({},r,{range:n,eventOffset:15}))}}]),t}(s.a.Component);ca.defaultProps=na.defaultProps,ca.navigate=function(e,t){switch(t){case vt.a.PREVIOUS:return Object(re.add)(e,-1,"week");case vt.a.NEXT:return Object(re.add)(e,1,"week");default:return e}},ca.range=function(e,t){var a=t.localizer.startOfWeek();return ie(Object(re.startOf)(e,"week",a),Object(re.endOf)(e,"week",a))},ca.title=function(e,t){var a=t.localizer,r=ca.range(e,{localizer:a}),n=Object(la.a)(r),o=n[0],i=n.slice(1);return a.format({start:o,end:i.pop()},"dayRangeHeaderFormat")};var sa=ca,da=a(693),ua=a(687),pa=a(847),ma=a(850),fa=a(848),ha=a(849),ga=Object(lt.a)((function(e){return{card:{width:"100%",height:"99%",backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.3s","&:hover":{backgroundColor:"rgba(135, 206, 250, 0.26)",zIndex:"1 !important"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0,height:"100px"},headerColorDefault:{backgroundColor:"default"},headerColorCustom:{backgroundColor:"default"},headerBody:{lineHeight:.8,fontWeight:"normal",textTransform:"capitalize"},headerLabel:{marginTop:0,paddingTop:10},headerLabelMonth:{marginTop:0},gutterTitle:{paddingTop:10},tableHead:{"& p":{paddingLeft:10}},dateHeader:{cursor:"pointer",paddingRight:"2%"}}})),ya=function(e){var t=ga();return s.a.createElement(Qt.a,{className:t.card},s.a.createElement(s.a.Fragment,null,s.a.createElement($t.a,{className:t.cardContent},s.a.createElement(k.a,{className:t.gutterTitle,color:"textSecondary",gutterBottom:!0},"Nutrition Status"))))},ba=Object(d.b)((function(e){return{trackerEntries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,trackerDataDays:e.appData.tracker.selectedTracker.timelineSnippets.DAYS}}))((function(e){var t=e.label,a=e.date,r=e.trackerEntries,n=ga(),o=r.filter((function(e){return t=a,r=e.start,y()(t).isSame(r,"day")&&y()(t).isSame(r,"month")&&y()(t).isSame(r,"year");var t,r})),i=a.getDate()===(new Date).getDate(),l=o.filter((function(t){return t[vt.b]===e[vt.b]})),c=l.length,d=c>0&&vt.c.find((function(t){return t[vt.b]===e[vt.b]}))[vt.d],u=c>0&&l.reduce((function(e,t){return e+Number(t.ENERC_KCAL)}),0).toFixed(2);return s.a.createElement(Qt.a,{className:n.card},s.a.createElement(s.a.Fragment,null,s.a.createElement($t.a,{className:Object(U.default)(n.cardContent,c&&!i?n.headerColorCustom:n.headerColorDefault)},s.a.createElement(k.a,{className:n.headerLabel,color:"textPrimary"},t),l&&c>0&&s.a.createElement("div",{className:n.headerBody},s.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},c," ",d&&d.replace(/s$/,c>1?"s":"")),s.a.createElement(k.a,{variant:"body1",component:"h2",gutterBottom:!0},u," KCal")))))})),va=function(e){var t=ga();return s.a.createElement(k.a,{className:t.headerLabelMonth,color:"textPrimary"},e.label)},Ea=function(e){var t=ga(),a=e.label,r=e.date,n=e.onDrillDown,o=e.events.find((function(e){return y()(r).isSame(e.start,"day")})),i=r<new Date;return s.a.createElement("div",{onClick:n,className:Object(U.default)(t.dateHeader,i&&o?t.headerColorCustom:t.headerColorDefault)},a)},Sa=function(e){var t=e.messages,a=e.headerRef,r=e.dateColRef,n=e.timeColRef,o=ga(),i=t.date,l=t.time,c=t.event;return s.a.createElement(D.a,null,s.a.createElement(pa.a,{className:"rbc-agenda-table","aria-label":"header table",ref:a},s.a.createElement(fa.a,null,s.a.createElement(ha.a,null,s.a.createElement(ma.a,{className:Object(U.default)(o.tableHead,"rbc-header"),align:"left",ref:r},s.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},i)),s.a.createElement(ma.a,{className:Object(U.default)(o.tableHead,"rbc-header"),align:"left",ref:n},s.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},l)),s.a.createElement(ma.a,{className:Object(U.default)(o.tableHead,"rbc-header"),align:"left"},s.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},c))))))},Da=a(578),Oa=a(337),ka=a(246),Ta=a(247);function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ja=Object(lt.a)((function(e){return{card:{width:"100%",height:"100%",padding:20,backgroundColor:"rgba(232, 223, 224, 0.64)",zIndex:"100 !important",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)",zIndex:"1 !important"}},cardContent:{paddingTop:2,paddingBottom:0,marginBottom:0},title:{fontSize:14,marginTop:0},resourceTypeChip:{color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.87)",marginBottom:10,marginRight:10},convertChip:{color:"rgba(0, 0, 0, 0.87)",backgroundColor:"rgba(232, 223, 224, 0.64)",marginBottom:10,marginRight:10},dietEntryStyle:{backgroundColor:"#3174ad"},mealPlanStyle:{backgroundColor:"#455a64"},dietEntryHoverStyle:{backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#3174ad"}},mealPlanHoverStyle:{backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#455a64"}},cardActions:{paddingTop:0,marginTop:0,display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},button:{marginLeft:10,marginRight:10},buttonGroup:{display:"flex",justifyContent:"space-between",alignItems:"center"},dangerButton:{"&:hover":{color:"crimson"}},cardLabel:{padding:10,backgroundColor:"rgba(232, 223, 224, 0.64)"},dateTimePickerButton:{backgroundColor:"rgba(232, 223, 224, 0.64)"}}})),Ca=Object(d.b)((function(e){return{entries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES}}))((function(e){var t=ja(),a=e.event,r=e.entries,n=y()(a.start).dayOfYear()===y()(new Date).subtract(1,"day").dayOfYear()||y()(a.start).dayOfYear()===y()(new Date).dayOfYear();return s.a.createElement(s.a.Fragment,null,s.a.createElement(Qt.a,{className:t.card},s.a.createElement($t.a,{className:t.cardContent},s.a.createElement(Da.a,{label:a[vt.b]===vt.e.mealPlan?"Planned Meal":"Diet Entry",className:Object(U.default)(t.resourceTypeChip,a[vt.b]===vt.e.mealPlan?t.mealPlanStyle:t.dietEntryStyle)}),n?s.a.createElement(Da.a,{label:a[vt.b]!==vt.e.mealPlan?"Convert to Planned Meal":"Convert to Diet Entry",className:Object(U.default)(t.convertChip,a[vt.b]!==vt.e.mealPlan?t.mealPlanHoverStyle:t.dietEntryHoverStyle),onClick:function(){var t=a[vt.b]===vt.e.mealPlan?vt.e.dietEntry:vt.e.mealPlan,r=Ma({},a,{resourceId:t,className:t});e.editTrackerEntry(r)}}):null,s.a.createElement(k.a,{variant:"h4",gutterBottom:!0},a.title),s.a.createElement(ka.a,{entryData:a})),s.a.createElement(Oa.a,{className:t.cardActions},s.a.createElement("div",{className:t.buttonGroup},a[vt.b]===vt.e.mealPlan?s.a.createElement(O.a,{className:t.button,variant:"outlined",color:"default",onClick:function(t){e.setCurrentTimelineRecipeDetail({recipeDetail:a}),e.showRecipeModal()}},"View Detailed Recipe"):null,s.a.createElement(O.a,{className:t.button,variant:"outlined",color:"default",onClick:function(t){e.setSnippetId(a._id),e.setSnippetType("ENTRIES"),e.setSnippetData(r.find((function(e){return e._id===a._id}))),e.setCurrentTimelineRecipeDetail(),e.showDetailsModal()}},"View Detailed Nutrition Analysis"),s.a.createElement(O.a,{className:Object(U.default)(t.button,t.dangerButton),variant:"outlined",color:"default",onClick:function(){e.removeTrackerEntry(a)}},"Delete Entry")))))})),Pa=function(e){var t=ja(),a=e.label;return s.a.createElement(Qt.a,{className:t.cardLabel},s.a.createElement($t.a,{className:t.cardContent},s.a.createElement(k.a,{variant:"h6",gutterBottom:!0},a)))},Na=function(e){var t=ja(),a=e.label;return s.a.createElement(Qt.a,{className:t.cardLabel},s.a.createElement($t.a,{className:t.cardContent},s.a.createElement(k.a,{variant:"h6",gutterBottom:!0},a)))},Aa=Object(d.b)((function(e){return{entries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,selectedSnippetId:e.appData.tracker.targetTimeline.selectedSnippetId,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,dateTimePickerVisibility:e.uiState.uiStateHelperTwo.isVisible}}),{editTrackerEntry:b.trackerActions.editTrackerEntry,setSelectedSnippetId:b.trackerActions.setSelectedSnippetId,setCurrentTimelineDate:b.trackerActions.setCurrentTimelineDate,setDateTimePickerVisibility:b.uiStateActions.setHelperTwoVisibility})((function(e){var t=e.event,a=e.entries.find((function(e){return e._id===t._id})),r=function(){e.setSelectedSnippetId(a._id),e.setDateTimePickerVisibility(!0)},n=ja(),o=a[vt.b]===vt.e.mealPlan;return s.a.createElement(s.a.Fragment,null,e.selectedSnippetId!==t._id?s.a.createElement(O.a,{className:n.dateTimePickerButton,variant:"outlined",color:"default",onClick:r,fullWidth:!0},"Change Time Slot"):e.dateTimePickerVisibility?s.a.createElement(Ta.a,{targetEntrySlot:{start:a.start,end:a.end},setDateTimePickerVisibility:e.setDateTimePickerVisibility,requestAddEntryToTracker:function(t,r){e.editTrackerEntry(Ma({},a,{},t)),e.setDateTimePickerVisibility(!1),e.setSelectedSnippetId(void 0),y()(r).isSame(e.currentTimelineDate)||e.setCurrentTimelineDate(r)},isMealPlanner:o,setSelectedSnippetId:e.setSelectedSnippetId}):s.a.createElement(O.a,{className:n.dateTimePickerButton,variant:"outlined",color:"default",onClick:r,fullWidth:!0},"Change Time Slot"))})),xa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).renderDay=function(e,t,r){var n=a.props,o=n.selected,i=n.getters,l=n.accessors,c=n.localizer,d=n.components,u=d.event,p=d.date;return(t=t.filter((function(t){return We(t,re.startOf(e,"day"),re.endOf(e,"day"),l)}))).map((function(n,d){var m=l.title(n),f=l.end(n),h=l.start(n),g=i.eventProp(n,h,f,Fe(n,o)),y=0===d&&c.format(e,"agendaDateFormat"),b=0===d&&s.a.createElement("td",{rowSpan:t.length,className:"rbc-agenda-date-cell"},p?s.a.createElement(p,{day:e,label:y}):y);return s.a.createElement("tr",{key:r+"_"+d,className:g.className,style:g.style},s.a.createElement("td",null,s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,b,s.a.createElement("td",{className:"rbc-agenda-time-cell"},a.timeRangeLabel(e,n))))))),s.a.createElement("tr",null,s.a.createElement("td",{className:"rbc-agenda-time-cell"},s.a.createElement(Aa,{event:n})))))),s.a.createElement("td",{className:"rbc-agenda-event-cell"},u?s.a.createElement(u,{event:n,title:m}):m))}),[])},a.timeRangeLabel=function(e,t){var r=a.props,n=r.accessors,o=r.localizer,i="",l=r.components.time,c=o.messages.allDay,d=n.end(t),u=n.start(t);return n.allDay(t)||(re.eq(u,d)?c=o.format(u,"agendaTimeFormat"):re.eq(u,d,"day")?c=o.format({start:u,end:d},"agendaTimeRangeFormat"):re.eq(e,u,"day")?c=o.format(u,"agendaTimeFormat"):re.eq(e,d,"day")&&(c=o.format(d,"agendaTimeFormat"))),re.gt(e,u,"day")&&(i="rbc-continues-prior"),re.lt(e,d,"day")&&(i+=" rbc-continues-after"),s.a.createElement("span",{className:i.trim()},l?s.a.createElement(l,{event:t,day:e,label:c}):c)},a._adjustHeader=function(){if(a.tbodyRef.current){var e=a.headerRef.current,t=a.tbodyRef.current.firstChild;if(t){var r=a.contentRef.current.scrollHeight>a.contentRef.current.clientHeight,n=a._widths||[];a._widths=[Object(kt.a)(t.children[0]),Object(kt.a)(t.children[1])],n[0]===a._widths[0]&&n[1]===a._widths[1]||(a.dateColRef.current.style.width=a._widths[0]+"px",a.timeColRef.current.style.width=a._widths[1]+"px"),r?(Object(da.a)(e,"rbc-header-overflowing"),e.style.marginRight=Object(Rt.a)()+"px"):Object(ua.a)(e,"rbc-header-overflowing")}}},a.headerRef=s.a.createRef(),a.dateColRef=s.a.createRef(),a.timeColRef=s.a.createRef(),a.contentRef=s.a.createRef(),a.tbodyRef=s.a.createRef(),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this._adjustHeader()}},{key:"componentDidUpdate",value:function(){this._adjustHeader()}},{key:"render",value:function(){var e=this,t=this.props,a=t.length,r=t.date,n=t.events,o=t.accessors,i=t.localizer,l=t.customHeader,c=i.messages,d=re.add(r,a,"day"),u=ie(r,d,"day");return(n=n.filter((function(e){return We(e,r,d,o)}))).sort((function(e,t){return+o.start(e)-+o.start(t)})),s.a.createElement("div",{className:"rbc-agenda-view"},0!==n.length?s.a.createElement(s.a.Fragment,null,l?s.a.createElement(Sa,{messages:c,headerRef:this.headerRef,dateColRef:this.dateColRef,timeColRef:this.timeColRef}):s.a.createElement("table",{ref:this.headerRef,className:"rbc-agenda-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"rbc-header",ref:this.dateColRef},c.date),s.a.createElement("th",{className:"rbc-header",ref:this.timeColRef},c.time),s.a.createElement("th",{className:"rbc-header"},c.event)))),s.a.createElement("div",{className:"rbc-agenda-content",ref:this.contentRef},s.a.createElement("table",{className:"rbc-agenda-table"},s.a.createElement("tbody",{ref:this.tbodyRef},u.map((function(t,a){return e.renderDay(t,n,a)})))))):s.a.createElement("span",{className:"rbc-agenda-empty"},c.noEventsInRange))}}]),t}(s.a.Component);xa.defaultProps={length:30},xa.range=function(e,t){var a=t.length,r=void 0===a?xa.defaultProps.length:a;return{start:e,end:re.add(e,r,"day")}},xa.navigate=function(e,t,a){var r=a.length,n=void 0===r?xa.defaultProps.length:r;switch(t){case G:return re.add(e,-n,"day");case K:return re.add(e,n,"day");default:return e}},xa.title=function(e,t){var a=t.length,r=void 0===a?xa.defaultProps.length:a,n=t.localizer,o=re.add(e,r,"day");return n.format({start:e,end:o},"agendaHeaderFormat")};var Ra=xa,_a=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return s.a.createElement(Ra,Object.assign({},this.props,{events:this.props.events,date:new Date(y()(this.props.date).set("hour",0)),length:0,customHeader:!0}))}}]),t}(c.Component);_a.defaultProps={length:0},_a.navigate=function(e,t){switch(t){case z.b.PREVIOUS:case z.b.NEXT:return re.add("day");default:return e}},_a.title=function(e){return"Today's Tracker Entries: ".concat(e.toLocaleDateString())};var Fa=_a;function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ba=function(e){var t=e.children,a=(e.range,e.value),r=new Date;return s.a.cloneElement(c.Children.only(t),{style:Va({},t.style,{backgroundColor:a<r?"#f5f5dc":"#fff"})})},Ya=Object(lt.a)((function(e){return{rootPaper:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(232, 223, 224, 0.64)"},card:{width:"96%",height:"96%",backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.1s ease-out",cursor:"pointer",opacity:.5},cardHoverStyle:{"&:hover":{backgroundColor:"rgba(135, 206, 250, 0.26)",opacity:1}},today:{border:"solid 1px rgba(56, 142, 60, 0.64)"},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},text:{backfaceVisibility:"hidden !important"},title:Object(v.a)({fontSize:14,marginTop:0,textOverflow:"fade",whiteSpace:"nowrap"},e.breakpoints.down("lg"),{whiteSpace:"normal"}),pos:{marginBottom:12},cardActions:{paddingTop:0,marginTop:0},moreButton:{zIndex:200}}})),La=Object(d.b)((function(e){return{trackerEntries:e.appData.tracker.selectedTracker.timelineSnippets.ENTRIES,trackerDataDays:e.appData.tracker.selectedTracker.timelineSnippets.DAYS}}),{setMouseMoveDateCellState:b.uiStateActions.setUIStateHelperOne,isMonthDateCellWrapper:b.uiStateActions.setHelperOneVisibility})((function(e){var t=e.children,a=(e.range,e.value),r=e.setMouseMoveDateCellState,n=e.isMonthDateCellWrapper,o=(e.events,e.trackerEntries),i=e.trackerDataDays,l=Ya(),c=a<new Date,d=function(e,t){return y()(e).isSame(t,"day")&&y()(e).isSame(t,"month")&&y()(e).isSame(t,"year")},u=o.filter((function(e){var t="object"!==typeof e.start?new Date(y()(e.start)):e.start;return d(a,t)})),p=u.filter((function(e){return e.resourceId===vt.e.dietEntry})).length,m=u.filter((function(e){return e.resourceId===vt.e.mealPlan})).length,f=u.length,h=i.find((function(e){return d(a,e.date)&&e.resourceId===vt.e.dietEntry})),g=i.find((function(e){return d(a,e.date)&&e.resourceId===vt.e.mealPlan})),b=a.getDate()===(new Date).getDate()&&0===p&&m>0?g:c?h:g;return s.a.createElement("div",{style:{display:"flex",flex:1,borderLeft:"1px solid #DDD",position:"relative"}},s.a.cloneElement(t,{},s.a.createElement(D.a,{className:l.rootPaper},s.a.createElement(Qt.a,{className:Object(U.default)(l.card,l.cardHoverStyle,d(a,new Date)?l.today:"")},b&&u&&f>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement($t.a,{className:l.cardContent},s.a.createElement(k.a,{className:Object(U.default)(l.title,l.text),color:"textPrimary",gutterBottom:!0},h&&h.numEntries>0?"".concat(h.numEntries," Diet Entries"):null,h&&h.numEntries>0?", ":"",g&&g.numEntries>0?"".concat(g.numEntries," Meal Plans"):null),s.a.createElement(k.a,{className:l.text,variant:"h5",component:"h2"},b&&Number(b.ENERC_KCAL).toFixed(2)," KCal"),s.a.createElement(k.a,{className:l.text,variant:"body2",component:"p"},b&&Number(b.percentProtein).toFixed(2),"% Pro, ",b&&Number(b.percentCarbs).toFixed(2),"% Crb, ",b&&Number(b.percentFat).toFixed(2),"% Fat"),s.a.createElement(k.a,{className:l.text,variant:"body2",component:"p"},"a day of balanced diet")),s.a.createElement(Oa.a,{className:l.cardActions},s.a.createElement(O.a,{className:l.moreButton,size:"small",fullWidth:!0,onMouseOver:function(){r({name:"MonthDateCellWrapper",value:a}),n(!0)},onMouseOut:function(){r({name:"MonthDateCellWrapper",value:a}),n(!1)}},"Learn More")))))))}));function za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ha=Object(lt.a)((function(e){return{title:{fontSize:14,marginTop:0}}})),Wa=function(e){var t,a,r=Ha(),n=void 0===e.resource,o=e.resource===vt.e.dietEntry,i=e.resource===vt.e.mealPlan,l=y()(e.value).date()===y()(new Date).date()&&y()(e.value).month()===y()(new Date).month()&&y()(e.value).year()===y()(new Date).year(),c=e.value?y()(e.value).hours():void 0,d=e.value?y()(e.value).minutes():void 0;switch(!0){case 8===c&&45===d:t="Breakfast";break;case 12===c&&45===d:t="Lunch";break;case 16===c&&45===d:t="Evening Snack";break;case 20===c&&45===d:t="Dinner";break;case 0===c&&45===d:t="Midnight Snack";break;default:t=null}switch(!0){case 5===c&&0===d:case 9===c&&0===d:case 13===c&&0===d:case 17===c&&0===d:case 21===c&&0===d:a=!0;break;default:a=null}var u=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?za(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):za(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.children.style,{display:"flex",flex:1,paddingLeft:10,backgroundColor:l?"#eaf6ff":t&&o?"rgba(255, 245, 220, 0.96)":t&&i?"rgba(255, 225, 220, 0.96)":"inherit"});return o||i||n?s.a.createElement("div",{style:u},t&&s.a.createElement(k.a,{className:r.title,color:"textSecondary",gutterBottom:!0},t),a?s.a.createElement(k.a,{component:"div",className:r.title,color:"textPrimary",gutterBottom:!0},e.children):e.children):s.a.createElement("div",null,e.children)},qa=function(e){return t=new Date,a=e,y()(t).isSame(a,"day")&&y()(t).isSame(a,"month")&&y()(t).isSame(a,"year")?{className:"special-today",style:{border:"solid 2px rgba(56, 142, 60, 0.64)"}}:{};var t,a},Ua=function(e){var t=y()(new Date).hours(5).minutes(0).seconds(0),a=y()(new Date).add(1,"day").hours(0).minutes(59).seconds(59);return y()(e).isBetween(t,a)?{className:"today custom-timeslot",style:{}}:{className:"custom-timeslot"}},Ga=function(e){var t=e.start.getHours()<5;return{style:{backgroundColor:e[vt.b]===vt.e.dietEntry?t?"rgba(255, 182, 193, 0.5)":"rgba(49, 116, 173, 0.2)":"rgba(69, 90, 100, 0.2)",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)"}}},Ka=function(e){var t=("object"!==typeof e.start?new Date(y()(e.start)):e.start).getHours()<5;return{style:{backgroundColor:e[vt.b]===vt.e.dietEntry?t?"rgba(255, 182, 193, 0.5)":"#3174ad":"#455A64",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)"}}},Xa=function(e){var t=e.start,a=!0;e.resourceId===vt.e.mealPlan&&y()(t).dayOfYear()<y()(new Date).subtract(1,"day").dayOfYear()&&(a=!1);var r=("object"!==typeof t?new Date(y()(t)):t).getHours()<5;return{style:{display:a?"block":"none",backgroundColor:e[vt.b]===vt.e.dietEntry?r?"rgba(255, 182, 193, 0.5)":"#3174ad":"#455A64",boxShadow:"8px 16px 32px 8px rgba(0, 0, 0, 0.2)",borderRadius:"5px"}}},Ja=a(239),Qa=a(257),$a=a(258),Za=Object(f.g)($a.a),er=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).componentWillUnmount=function(){console.log("AddDietEntryForm unmounting!")},a.requestSwitchEntryModalState=function(){a.props.switchAddEntryForm(a.props.targetEntrySlot,vt.e.mealPlan),a.props.setEntryModalState(vt.e.mealPlan)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal;return s.a.createElement(Ja.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{gutterBottom:!0,className:"dialogTitle"},"Add entry to your Tracker"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(Qa.a,null),s.a.createElement(Za,null))},DialogActionChildren:function(){return s.a.createElement(O.a,{className:Object(U.default)(a.button,a.switchButton),variant:"outlined",color:"default",onClick:e.requestSwitchEntryModalState},"Switch to Meal Planner")}})}}]),t}(c.Component),tr=Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},switchButton:{color:"#455a64","&:hover":{backgroundColor:"#455a64",color:"#fff"}}}}))(er),ar=a(250),rr=a(57),nr=a(252),or=a(150),ir=a(151);function lr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var cr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){},a.componentDidUpdate=function(e,t){e.successDataRecipesSync!==a.props.successDataRecipesSync&&a.props.successDataRecipesSync&&a.props.enqueueSnackbar("Recipe has been saved to your favorites",{variant:"default"})},a.componentWillUnmount=function(){a.props.setEntryModalVisibility(!1),a.props.setConfirmTimeSlotSelection(!1),a.props.setTargetNewEntrySlot(),a.props.clearCurrentRecipesData(),a.props.clearPrimaryAppState(),a.props.clearSecondaryAppState(),console.log("MealPlanner unmounting!")},a.backToRecipeSnippets=function(){a.props.setCurrentRecipeDetail(void 0)},a.handleSaveRecipe=function(){var e=a.props.currentRecipeDetail&&a.props.currentRecipeDetail.recipeDetail;a.props.saveRecipe(e.id,e.title)},a.requestDetailRecipeNurition=function(){a.props.setDetailsModalVisibility(!0)},a.hideDetailsModal=function(){a.props.setDetailsModalVisibility(!1)},a.initiateSlotSelectForEntry=function(){a.props.setDateTimePickerVisibility(!0)},a.confirmSlotSelectForEntry=function(){a.props.setConfirmTimeSlotSelection(!0)},a.requestAddEntryToTracker=function(e,t){if(a.props.currentRecipeDetail&&a.props.currentRecipeDetail.recipeDetail&&!a.props.errorMessageSecondary){var r=Object(rr.b)(a.props.currentRecipeDetail.recipeDetail);a.props.addEntryToTracker(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lr(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{},e),(function(){console.log("redirect after new tracker entry saved successful"),"/tracker/timeline"!==a.props.match.url&&a.props.history.push("/tracker/timeline"),a.props.setDateTimePickerVisibility(!1),a.props.setCurrentTimelineView(vt.f.AGENDA),a.props.setCurrentTimelineDate(t),a.props.setTargetNewEntrySlot(),a.props.setEntryModalVisibility(!1),a.props.clearCurrentRecipesData(),a.props.clearPrimaryAppState()}))}},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.errorMessagePrimary,r=e.dateTimePickerVisibility,n=e.openDetailsModal,o=e.currentRecipeDetail,i=e.targetEntrySlot,l=e.confirmTimeSlotSelection,c=o&&o.recipeDetail;return console.log({recipeDetail:c}),s.a.createElement("div",null,s.a.createElement(D.a,{className:t.rootPaper},a?s.a.createElement(k.a,{variant:"h5"},a):s.a.createElement(s.a.Fragment,null,c?null:s.a.createElement(s.a.Fragment,null,s.a.createElement(nr.a,{addRecipeToMealPlanner:!0})),c?s.a.createElement(s.a.Fragment,null,s.a.createElement(or.a,{backToRecipeSnippets:this.backToRecipeSnippets}),c&&r?s.a.createElement(Ta.a,{targetEntrySlot:i,dateTimePickerVisibility:r,setDateTimePickerVisibility:this.props.setDateTimePickerVisibility,confirmTimeSlotSelection:l,requestAddEntryToTracker:this.requestAddEntryToTracker,isMealPlanner:!0}):null,c?s.a.createElement("div",{className:t.buttonGroup},s.a.createElement(O.a,{className:t.button,variant:"contained",color:"default",onClick:this.handleSaveRecipe},"Save Recipe but don't add to Meal-Planner"),s.a.createElement(O.a,{className:t.button,variant:"contained",color:"default",onClick:this.requestDetailRecipeNurition},"View Detailed Recipe Nutrition"),r?s.a.createElement(O.a,{className:t.button,variant:"contained",color:"primary",onClick:this.confirmSlotSelectForEntry},"Confirm Add MealPlan to My Tracker"):s.a.createElement(O.a,{className:t.button,variant:"contained",color:"default",onClick:this.initiateSlotSelectForEntry},"Select Time Slot to Add to the Tracker")):null):null)),n&&c?s.a.createElement(ir.a,{openDetailsModal:n,showDetailsModal:this.requestDetailRecipeNurition,hideDetailsModal:this.hideDetailsModal,selectionData:Object(rr.b)(c)}):null)}}]),t}(c.Component),sr=Object(p.compose)(u.withSnackbar,Object(S.a)((function(e){return{rootPaper:{marginTop:20,marginBottom:10},nutritionSummary:{marginBottom:10},dateTimePickerRoot:{padding:10,position:"relative",backgroundColor:"rgba(232, 223, 224, 0.64)"},dateTimePickerButtonGroup:{padding:10},dateTimePickerCloseButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},buttonGroup:{display:"flex",justifyContent:"flex-end"},button:{margin:10}}})),Object(d.b)((function(e){return{errorMessagePrimary:e.appState.primary.errorMessage,errorMessageSecondary:e.appState.secondary.errorMessage,successDataRecipesSync:e.appState.recipesSync.successData,errorMessageRecipesSync:e.appState.recipesSync.errorMessage,currentRecipeDetail:e.appData.userData.recipes.current.detail,confirmTimeSlotSelection:e.appData.tracker.targetTimeline.confirmTimeSlotSelectionMealPlan,targetEntryId:e.appData.tracker.targetTimeline.targetEntryId,targetEntrySlot:e.appData.tracker.targetTimeline.targetEntrySlot,openDetailsModal:e.uiState.uiModalTwoHelper.isVisible,dateTimePickerVisibility:e.uiState.uiStateMealplanHelper.isVisible}}),{addEntryToTracker:b.trackerActions.addEntryToTracker,saveRecipe:b.recipesActions.saveRecipeToFavorites,setCurrentRecipeDetail:b.recipesActions.setCurrentRecipeDetail,clearCurrentRecipesData:b.recipesActions.clearCurrentRecipesData,setCurrentTimelineView:b.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:b.trackerActions.setCurrentTimelineDate,setTargetNewEntrySlot:b.trackerActions.setTargetNewEntrySlot,setConfirmTimeSlotSelection:b.trackerActions.setConfirmTimeSlotSelectionMealPlan,setEntryModalVisibility:b.uiStateActions.setModalOneVisibility,setDetailsModalVisibility:b.uiStateActions.setModalTwoVisibility,setDateTimePickerVisibility:b.uiStateActions.setMealplanHelperVisibility,clearPrimaryAppState:b.appStateActions.clearPrimaryAppState,clearSecondaryAppState:b.appStateActions.clearSecondaryAppState}))(cr),dr=Object(f.g)(sr),ur=Object(f.g)(ar.a),pr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).componentWillUnmount=function(){console.log("AddMealPlanForm unmounting!")},a.requestSwitchEntryModalState=function(){a.props.switchAddEntryForm(a.props.targetEntrySlot,vt.e.dietEntry),a.props.setEntryModalState(vt.e.dietEntry)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal;return s.a.createElement(Ja.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{gutterBottom:!0,className:"dialogTitle"},"Add meal plan to your tracker"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(ur,{addRecipeToMealPlanner:!0}),s.a.createElement(dr,null))},DialogActionChildren:function(){return s.a.createElement(O.a,{className:Object(U.default)(a.button,a.switchButton),variant:"outlined",color:"default",onClick:e.requestSwitchEntryModalState},"Switch to Diet Entry")}})}}]),t}(c.Component),mr=Object(p.compose)(f.g,Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},switchButton:{color:"#3174ad","&:hover":{backgroundColor:"#3174ad",color:"#fff"}}}})))(pr),fr=Object(lt.a)((function(e){return{nutritionSummary:{marginBottom:10,padding:10,backgroundColor:"rgba(232, 223, 224, 0.64)"}}})),hr=function(e){var t=e.entryData,a=e.daySummary,r=fr();return s.a.createElement(D.a,{className:r.nutritionSummary},s.a.createElement(k.a,{variant:"h6",gutterBottom:!0},"Meal Plan Highlights"),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},"Meal Slot - "),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},a?"all day":y()(t.start).format("ddd, hh:mm A"))),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},a?null:"Recipe/Dish - "),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},t.mealRecipe||t.title)),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0},a?"Total":"Meal"," Calorie Count - "),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.ENERC_KCAL).toFixed(2)),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," Cal")),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentCarbs).toFixed(2)),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Carbs")),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentFat).toFixed(2)),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Fat")),s.a.createElement("div",null,s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textPrimary",gutterBottom:!0},Number(t.percentProtein).toFixed(2)),s.a.createElement(k.a,{variant:"h6",display:"inline",color:"textSecondary",gutterBottom:!0}," % Protein")))};function gr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function yr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gr(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var br=Object(lt.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10},dangerButton:{"&:hover":{color:"crimson"}},resourceTypeChip:{color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.87)",marginBottom:10,marginRight:10},convertChip:{color:"rgba(0, 0, 0, 0.87)",backgroundColor:"rgba(232, 223, 224, 0.64)",marginBottom:10,marginRight:10},dietEntryStyle:{backgroundColor:"#3174ad"},mealPlanStyle:{backgroundColor:"#455a64"},dietEntryHoverStyle:{color:"#3174ad",backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#3174ad"}},mealPlanHoverStyle:{color:"#455a64",backgroundColor:"rgba(232, 223, 224, 0.64)","&:hover":{color:"#fff",backgroundColor:"#455a64"}}}})),vr=function(e){var t=br(),a=e.openEntryModal,r=e.showEntryModal,n=e.hideEntryModal,o=e.entry,i=e.dateTimePickerVisibility,l=e.setDateTimePickerVisibility,c=o&&o[vt.b]===vt.e.mealPlan,d=function(){e.showDetailsModal(),e.setSelectedSnippetData(e.entry)},u=function(t){e.setCurrentTimelineRecipeDetail({recipeDetail:e.entry}),e.showRecipeModal()},p=function(){e.removeTrackerEntry(e.entry),e.hideEntryModal()},m=function(){e.setDateTimePickerVisibility(!0)},f=function(t,a){e.editTrackerEntry(yr({},o,{},t)),e.setDateTimePickerVisibility(!1),y()(a).isSame(e.currentTimelineDate)||e.setCurrentTimelineDate(a)},h=o&&y()(o.start).dayOfYear()===y()(new Date).subtract(1,"day").dayOfYear()||o&&y()(o.start).dayOfYear()===y()(new Date).dayOfYear(),g=function(){var t=o[vt.b]===vt.e.mealPlan?vt.e.dietEntry:vt.e.mealPlan,a=yr({},o,{resourceId:t,className:t});e.editTrackerEntry(a)};return s.a.createElement(Ja.a,{openDialogModal:a,showDialogModal:r,hideDialogModal:n,DialogTitleChildren:function(){return o?s.a.createElement(s.a.Fragment,null,s.a.createElement(Da.a,{label:o[vt.b]===vt.e.mealPlan?"Meal Plan":"Diet Entry",className:Object(U.default)(t.resourceTypeChip,o[vt.b]===vt.e.mealPlan?t.mealPlanStyle:t.dietEntryStyle)}),h?s.a.createElement(Da.a,{label:o[vt.b]!==vt.e.mealPlan?"Convert to Meal Plan":"Convert to Diet Entry",className:Object(U.default)(t.convertChip,o[vt.b]!==vt.e.mealPlan?t.mealPlanHoverStyle:t.dietEntryHoverStyle),onClick:g}):null):null},DialogContentChildren:function(){return o?s.a.createElement("div",{className:t.rootDialogContent},s.a.createElement(Qt.a,{className:t.card},s.a.createElement($t.a,{className:t.cardContent},s.a.createElement(k.a,{variant:"h4",gutterBottom:!0},o.title),c?s.a.createElement(hr,{entryData:o}):s.a.createElement(ka.a,{entryData:o}),s.a.createElement(D.a,null,i?s.a.createElement(Ta.a,{targetEntrySlot:{start:o.start,end:o.end},setDateTimePickerVisibility:l,requestAddEntryToTracker:f,isMealPlanner:c}):s.a.createElement(O.a,{className:t.button,variant:"text",color:"default",onClick:m,fullWidth:!0},"Change Time Slot"))))):null},DialogActionChildren:function(){return o?s.a.createElement(s.a.Fragment,null,o[vt.b]===vt.e.mealPlan?s.a.createElement(O.a,{className:t.button,variant:"outlined",color:"default",onClick:u},"View Detailed Recipe"):null,s.a.createElement(O.a,{className:t.button,variant:"contained",color:"default",onClick:d},c?"View Detailed Nutrition For Meal Plan":"View Detailed Nutrition For Diet Entry"),s.a.createElement(O.a,{className:Object(U.default)(t.button,t.dangerButton),variant:"outlined",color:"default",onClick:p},"Delete Entry")):null}})},Er=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleNavigateToTargetDate=function(){a.props.targetDate&&(a.props.setCurrentTimelineView(vt.f.DAY),a.props.setCurrentTimelineDate(a.props.targetDate),a.props.hideEntryModal())},a.handleRequestSelectionDetails=function(){a.props.showDetailsModal(),a.props.setSelectedSnippetData(a.props.selectionData)},a.handleAddEntryToTargetSlot=function(){a.props.hideEntryModal("targetSlots"),a.props.addEntryToTargetSlot(a.props.targetSlots)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.openEntryModal,n=t.showEntryModal,o=t.hideEntryModal,i=t.targetDate,l=t.selectionData,c=t.entryModalState===vt.e.mealPlan;return console.log({selectionData:l}),s.a.createElement(Ja.a,{openDialogModal:r,showDialogModal:n,hideDialogModal:o,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{gutterBottom:!0,className:a.dialogTitle},y()(i).format("Do MMM")," ",c?"Meal Planner":"Nutrition Summary"))},DialogContentChildren:function(){return s.a.createElement("div",{className:a.rootDialogContent},s.a.createElement(Qt.a,{className:a.card},s.a.createElement($t.a,{className:a.cardContent},l?s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{variant:"h4",gutterBottom:!0},"Summary of ".concat(l.numEntries,c?" planned meals":" Entries")," ","for ",y()(i).format("Do MMM YYYY")),c?s.a.createElement(hr,{entryData:l,daySummary:!0}):s.a.createElement(ka.a,{entryData:l})):s.a.createElement(k.a,{gutterBottom:!0,className:a.dialogMessage},c?"No Meals are planned for the day.":"No entries found for the day."))))},DialogActionChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{onClick:e.handleNavigateToTargetDate,color:"primary"},"Go to the Day View"),s.a.createElement(O.a,{onClick:e.handleRequestSelectionDetails,color:"primary"},"View Detail Nutrition Report"),s.a.createElement(O.a,{onClick:e.handleAddEntryToTargetSlot,color:"primary"},c?"Add new Meal Plan":"Add new Entry"))}})}}]),t}(c.Component),Sr=Object(S.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10},dialogMessage:{textAlign:"center",paddingTop:20}}}))(Er),Dr=Object(lt.a)((function(e){return{rootDialogContent:{margin:0,padding:e.spacing(2)},card:{width:"100%",height:"100%",padding:0,backgroundColor:"rgba(232, 223, 224, 0.64)",transition:"0.2s ease-out","&:hover":{backgroundColor:"rgba(232, 223, 224, 0.96)"}},cardContent:{paddingTop:2,paddingBottom:4,marginBottom:0},title:{fontSize:14,marginTop:0},cardActions:{paddingTop:0,marginTop:0},button:{marginLeft:10,marginRight:10}}})),Or=function(e){var t=Dr(),a=e.openRecipeModal,r=e.showRecipeModal,n=e.hideRecipeModal,o=e.currentTimelineRecipeDetail,i=o&&o.recipeDetail?o.recipeDetail:o,l=function(){e.showDetailsModal(),e.setSelectedSnippetData(i)};return s.a.createElement(Ja.a,{openDialogModal:a,showDialogModal:r,hideDialogModal:n,DialogTitleChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{gutterBottom:!0,className:t.dialogTitle},i&&i.title))},DialogContentChildren:function(){return s.a.createElement("div",{className:t.rootDialogContent},s.a.createElement(Qt.a,{className:t.card},s.a.createElement($t.a,{className:t.cardContent},i?s.a.createElement(or.a,null):null)))},DialogActionChildren:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:t.button,variant:"contained",color:"default",onClick:l},"View Detailed Nutrition Analysis"))}})};a(692);function kr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kr(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wr=Object(z.c)(y.a),Mr=it(z.a),jr=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).componentDidUpdate=function(e,t){a.props.trackerData&&(a.props.trackerData._id||"/tracker/timeline"!==a.props.location.pathname)||a.props.history.push("/tracker/startSelectTracker")},a.handleEventMove=function(e){var t=e.event,r=e.start,n=e.end,o=e.resourceId;if(console.log(t),t&&console.log({targetDate:y()(r).dayOfYear(),currentDate:y()(t.start).dayOfYear(),today:y()(new Date).dayOfYear(),currentResourceId:t[vt.b],targetResourceId:o,event:t}),t[vt.b]===vt.e.mealPlan){if(o&&o!==vt.e.mealPlan){if(y()(r).dayOfYear()>y()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Meal Plan can be converted to Diet Entry only for today and past dates",{variant:"warning"})}else if((!o||o===vt.e.mealPlan)&&y()(r).dayOfYear()<y()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Meal Plan cannot be moved to past dates",{variant:"warning"})}else if(o&&o!==vt.e.dietEntry){if(!y()(r).dayOfYear()===y()(new Date).subtract(1,"day").dayOfYear()||!y()(r).dayOfYear()===y()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Diet Entry can be converted to Meal Plan only for today and yesterday",{variant:"warning"})}else if((!o||o===vt.e.mealPlan)&&y()(r).dayOfYear()>y()(new Date).dayOfYear())return void a.props.enqueueSnackbar("Diet Entry cannot be moved to future dates",{variant:"warning"});var i=Tr({},t,{resourceId:o,className:o||t[vt.b]}),l=Tr({},i,{start:r,end:n,resourceId:o||t[vt.b]});a.props.editTrackerEntry(l),a.props.enqueueSnackbar("Entry moved to ".concat(y()(r).format("ddd, hh:mm A")),{variant:"success"})},a.handleEventResize=function(e){var t=e.event,r=e.start,n=e.end,o=y()(t.start);(y()(r).isBefore(n)||y()(n).isAfter(y()(r).add(6,"hours")))&&(y()(r).isSame(o)?r=new Date(y()(n).subtract(15,"minutes")):n=new Date(y()(r).add(15,"minutes")));var i=Tr({},t,{start:r,end:n});console.log({start:r,end:n}),a.props.editTrackerEntry(i),a.props.enqueueSnackbar("Entry resized to end at ".concat(y()(n).format("ddd, hh:mm A")),{variant:"success"})},a.handleSlotSelect=function(e){var t,r=a.props.currentTimelineView,n=e.start,o="object"!==typeof n?new Date(y()(n)):n;r===vt.f.DAY?(e[vt.b]===vt.e.mealPlan?a.props.setEntryModalState(vt.e.mealPlan):a.props.setEntryModalState(vt.e.dietEntry),a.props.setEntryModalVisibility(!0),a.props.setTargetNewEntrySlot(e),a.props.setSelectedSnippetType("NEW")):r!==vt.f.WEEK&&r!==vt.f.MONTH||(t=new Date(y()(n)),o.getDate()===(new Date).getDate()&&r===vt.f.WEEK&&(e[vt.b]===vt.e.mealPlan?(a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetId("".concat(y()(t).format("Do MMM YYYY"),"-").concat(vt.e.mealPlan,"-summary"))):(a.props.setEntryModalState(vt.e.dietEntry),a.props.setSelectedSnippetId("".concat(y()(t).format("Do MMM YYYY"),"-").concat(vt.e.dietEntry,"-summary")))),o.getTime()>re.endOf(new Date,"day")?(a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetId("".concat(y()(t).format("Do MMM YYYY"),"-").concat(vt.e.mealPlan,"-summary"))):(a.props.setEntryModalState(vt.e.dietEntry),a.props.setSelectedSnippetId("".concat(y()(t).format("Do MMM YYYY"),"-").concat(vt.e.dietEntry,"-summary"))),a.props.setEntryModalVisibility(!0),a.props.setTargetNewEntrySlot(e),a.props.setTargetTimelineDate(t),a.props.setSelectedSnippetType("DAYS"))},a.handleEventSelect=function(e){("object"!==typeof e.start?new Date(y()(e.start)):e.start).getTime()>re.endOf(new Date,"day")?a.props.setEntryModalState(vt.e.mealPlan):a.props.setEntryModalState(vt.e.dietEntry),a.props.setEntryModalVisibility(!0),a.props.setSelectedSnippetId(e._id),a.props.setSelectedSnippetType("ENTRIES")},a.showEntryModal=function(){a.props.setEntryModalVisibility(!0)},a.hideEntryModal=function(){a.props.openDetailsModal||a.props.openRecipeModal?a.props.setEntryModalVisibility(!1):(a.props.setEntryModalVisibility(!1),a.props.setSelectedSnippetId(void 0),a.props.setSelectedSnippetType(void 0),a.props.setSelectedSnippetData(void 0),a.props.setTargetTimelineDate(void 0),a.props.setTargetNewEntrySlot(void 0),a.props.setConfirmTimeSlotSelection(void 0),a.props.clearSyncTrackerAppState(),a.props.clearAllAppState())},a.showDetailsModal=function(){a.props.setDetailsModalVisibility(!0)},a.hideDetailsModal=function(){a.props.setDetailsModalVisibility(!1)},a.showRecipeModal=function(){a.props.setRecipeModalVisibility(!0)},a.hideRecipeModal=function(){a.props.setRecipeModalVisibility(!1)},a.addDietEntryFromToolbar=function(){a.props.setTargetNewEntrySlot({action:"toolbar",start:new Date(y()(a.props.currentTimelineDate)),end:new Date(y()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setEntryModalState(vt.e.dietEntry),console.log("Should fire NEW!"),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a.addMealPlanFromToolbar=function(){a.props.setTargetNewEntrySlot({action:"toolbar",start:new Date(y()(a.props.currentTimelineDate)),end:new Date(y()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setEntryModalState(vt.e.mealPlan),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a.switchAddEntryForm=function(e,t){console.log("Timeout for switch to the other resource type"),setTimeout((function(){console.log("Now switching over to the other resource type"),a.props.setTargetNewEntrySlot(e),a.props.setEntryModalState(t),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)}),500)},a.addEntryToTargetSlot=function(e){a.props.setTargetNewEntrySlot(e),a.props.setSelectedSnippetId(void 0),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.trackerData&&this.props.trackerData._id||this.props.history.push("/tracker/startSelectTracker")}},{key:"componentWillUnmount",value:function(){this.props.setSelectedSnippetId(void 0),this.props.setSelectedSnippetType(void 0),this.props.setSelectedSnippetData(void 0),this.props.setTargetTimelineDate(void 0),this.props.setTargetNewEntrySlot(void 0),this.props.setConfirmTimeSlotSelection(void 0),this.props.setEntryModalVisibility(!1),this.props.setDetailsModalVisibility(!1),this.props.setRecipeModalVisibility(!1),this.props.setEntryModalState(),this.props.setDetailsModalState(),this.props.setRecipeModalState(),this.props.setMouseMoveDateCellState(),this.props.setCurrentTimelineRecipeDetail(void 0),this.props.clearCurrentRecipesData(),this.props.clearSyncTrackerAppState(),this.props.clearAllAppState()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.trackerData&&this.props.trackerData.timelineSnippets&&this.props.trackerData.timelineSnippets.ENTRIES&&this.props.trackerData.timelineSnippets.ENTRIES.length>0?this.props.currentTimelineView!==vt.f.MONTH?this.props.trackerData.timelineSnippets.ENTRIES:this.props.trackerData.timelineSnippets.ENTRIES.filter((function(e){return!(e.resourceId===vt.e.mealPlan&&y()(e.start).dayOfYear()<y()(new Date).subtract(1,"day").dayOfYear())})):[];return s.a.createElement(D.a,{className:t.root},s.a.createElement(Mr,{selectable:!0,popup:!0,onSelectEvent:this.handleEventSelect,onDoubleClickEvent:this.handleEventSelect,onSelectSlot:this.handleSlotSelect,onEventDrop:this.handleEventMove,onEventResize:this.handleEventResize,onDragStart:console.log,onDragOver:console.log,resizable:!0,onSelecting:console.log,longPressThreshold:500,drilldownView:"day",events:a,step:15,timeslots:16,min:y()("5:00am","h:mma").toDate(),max:y()("11:59pm","h:mma").toDate(),localizer:wr,date:new Date(y()(this.props.currentTimelineDate)),onNavigate:this.props.setCurrentTimelineDate,view:this.props.currentTimelineView,onView:this.props.setCurrentTimelineView,defaultDate:new Date,defaultView:vt.f.WEEK,resources:vt.c,resourceAccessor:function(e){return e[vt.b]},resourceIdAccessor:vt.b,resourceTitleAccessor:vt.d,formats:{eventTimeRangeFormat:function(e){return y()(e.start).format("hh:mma")}},eventPropGetter:this.props.currentTimelineView!==vt.f.AGENDA?this.props.currentTimelineView===vt.f.MONTH?Xa:Ka:Ga,dayPropGetter:qa,slotPropGetter:Ua,views:{agenda:Fa,day:ia,week:sa,month:!0},components:{agenda:{event:function(t){return s.a.createElement(Ca,Object.assign({},t,{openDetailsModal:e.props.openDetailsModal,showDetailsModal:e.showDetailsModal,hideDetailsModal:e.hideDetailsModal,selectedSnippetId:e.props.selectedSnippetId,setSnippetId:e.props.setSelectedSnippetId,setSnippetType:e.props.setSelectedSnippetType,setSnippetData:e.props.setSelectedSnippetData,showRecipeModal:e.showRecipeModal,setCurrentTimelineRecipeDetail:e.props.setCurrentTimelineRecipeDetail,editTrackerEntry:e.props.editTrackerEntry,removeTrackerEntry:e.props.removeTrackerEntry,successDataTrackerSync:e.props.successDataTrackerSync,errorMessageTrackerSync:e.props.errorMessageTrackerSync}))},date:function(e){return s.a.createElement(Pa,e)},time:function(e){return s.a.createElement(Na,e)},header:function(e){return s.a.createElement(Sa,e)}},day:{header:function(e){return s.a.createElement(ba,Object.assign({},e,{events:a}))}},week:{header:function(e){return s.a.createElement(ba,Object.assign({},e,{events:a}))}},month:{header:function(e){return s.a.createElement(va,e)},dateHeader:function(e){return s.a.createElement(Ea,Object.assign({},e,{events:a}))},dateCellWrapper:function(e){return s.a.createElement(La,Object.assign({},e,{events:a}))}},toolbar:function(t){return s.a.createElement(St,Object.assign({view:e.props.currentTimelineView,date:e.props.currentTimelineDate,updateCalendarView:e.props.setCurrentTimelineView,updateCalendarDate:e.props.setCurrentTimelineDate,showAddDietEntryForm:e.addDietEntryFromToolbar,showAddMealPlanForm:e.addMealPlanFromToolbar},t))},timeGutterHeader:function(e){return s.a.createElement(ya,e)},timeSlotWrapper:function(e){return s.a.createElement(Wa,e)},eventContainerWrapper:function(e){return s.a.createElement("div",{style:{backgroundColor:"salmon"}},e.children)},dateCellWrapper:function(e){return s.a.createElement(Ba,e)}},style:{height:"100vh"}}),this.props.openEntryModal&&!this.props.targetEntrySlot&&this.props.selectedSnippetId&&"ENTRIES"===this.props.selectedSnippetType?s.a.createElement(vr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,entry:a.find((function(t){return t._id===e.props.selectedSnippetId})),showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData,setCurrentTimelineRecipeDetail:this.props.setCurrentTimelineRecipeDetail,showRecipeModal:this.showRecipeModal,currentTimelineDate:this.props.currentTimelineDate,setCurrentTimelineDate:this.props.setCurrentTimelineDate,removeTrackerEntry:this.props.removeTrackerEntry,editTrackerEntry:this.props.editTrackerEntry,confirmTimeSlotSelection:this.props.confirmTimeSlotSelection,setConfirmTimeSlotSelection:this.props.setConfirmTimeSlotSelection,dateTimePickerVisibility:this.props.dateTimePickerVisibility,setDateTimePickerVisibility:this.props.setDateTimePickerVisibility,successDataTrackerSync:this.props.successDataTrackerSync,errorMessageTrackerSync:this.props.errorMessageTrackerSync}):null,this.props.openEntryModal&&this.props.targetEntrySlot&&"NEW"===this.props.selectedSnippetType?this.props.entryModalState===vt.e.dietEntry?s.a.createElement(tr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,targetEntrySlot:this.props.targetEntrySlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,switchAddEntryForm:this.switchAddEntryForm,setEntryModalState:this.props.setEntryModalState}):s.a.createElement(mr,{openEntryModal:this.props.openEntryModal,entryModalState:this.props.entryModalState,targetEntrySlot:this.props.targetEntrySlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,switchAddEntryForm:this.switchAddEntryForm,setEntryModalState:this.props.setEntryModalState}):null,this.props.openEntryModal&&this.props.targetEntrySlot&&this.props.targetTimelineDate&&this.props.selectedSnippetId&&"DAYS"===this.props.selectedSnippetType?s.a.createElement(Sr,{openEntryModal:this.props.openEntryModal,targetDate:this.props.targetTimelineDate,entryModalState:this.props.entryModalState,targetSlots:this.props.targetEntrySlot,selectionData:this.props.selectedSnippetType&&this.props.selectedSnippetId&&this.props.trackerData.timelineSnippets[this.props.selectedSnippetType].find((function(t){return t.resourceId===e.props.entryModalState&&(t._id===e.props.selectedSnippetId||t.id===e.props.selectedSnippetId)})),setCurrentTimelineView:this.props.setCurrentTimelineView,setCurrentTimelineDate:this.props.setCurrentTimelineDate,addEntryToTargetSlot:this.addEntryToTargetSlot,showEntryModal:this.showEntryModal,hideEntryModal:this.hideEntryModal,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData}):null,this.props.openDetailsModal&&this.props.selectedSnippetData?s.a.createElement(ir.a,{openDetailsModal:this.props.openDetailsModal,showDetailsModal:this.showDetailsModal,hideDetailsModal:this.hideDetailsModal,selectedSnippetType:this.props.selectedSnippetType,selectionData:this.props.selectedSnippetData}):null,this.props.openRecipeModal&&this.props.currentTimelineRecipeDetail?s.a.createElement(Or,{openRecipeModal:this.props.openRecipeModal,entryModalState:this.props.entryModalState,showRecipeModal:this.showRecipeModal,hideRecipeModal:this.hideRecipeModal,currentTimelineRecipeDetail:this.props.currentTimelineRecipeDetail,showDetailsModal:this.showDetailsModal,setSelectedSnippetData:this.props.setSelectedSnippetData}):null)}}]),t}(c.PureComponent),Cr=Object(p.compose)(Object(S.a)((function(e){return{root:{marginTop:20}}})),u.withSnackbar,Object(d.b)((function(e){return{authenticated:e.appData.auth.token,successDataTrackerSync:e.appState.trackerSync.successData,errorMessageTrackerSync:e.appState.trackerSync.errorMessage,trackerData:e.appData.tracker.selectedTracker,currentTimelineView:e.appData.tracker.currentTimeline.viewKey,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,targetTimelineDate:e.appData.tracker.targetTimeline.targetDate,selectedSnippetId:e.appData.tracker.targetTimeline.selectedSnippetId,selectedSnippetType:e.appData.tracker.targetTimeline.selectedSnippetType,selectedSnippetData:e.appData.tracker.targetTimeline.selectedSnippetData,targetEntrySlot:e.appData.tracker.targetTimeline.targetEntrySlot,confirmTimeSlotSelection:e.appData.tracker.targetTimeline.confirmTimeSlotSelectionTimelineEntry,currentTimelineRecipeDetail:e.appData.userData.recipes.current.timelineDetail,entryModalState:e.uiState.uiModalOneHelper.uiState,openEntryModal:e.uiState.uiModalOneHelper.isVisible,detailsModalState:e.uiState.uiModalTwoHelper.uiState,openDetailsModal:e.uiState.uiModalTwoHelper.isVisible,recipeModalState:e.uiState.uiModalThreeHelper.uiState,openRecipeModal:e.uiState.uiModalThreeHelper.isVisible,dateTimePickerVisibility:e.uiState.uiStateHelperTwo.isVisible}}),{setCurrentTimelineView:b.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:b.trackerActions.setCurrentTimelineDate,setTargetTimelineDate:b.trackerActions.setTargetTimelineDate,setSelectedSnippetId:b.trackerActions.setSelectedSnippetId,setSelectedSnippetType:b.trackerActions.setSelectedSnippetType,setSelectedSnippetData:b.trackerActions.setSelectedSnippetData,setTargetNewEntrySlot:b.trackerActions.setTargetNewEntrySlot,setConfirmTimeSlotSelection:b.trackerActions.setConfirmTimeSlotSelectionTimelineEntry,editTrackerEntry:b.trackerActions.editTrackerEntry,removeTrackerEntry:b.trackerActions.removeTrackerEntry,setEntryModalVisibility:b.uiStateActions.setModalOneVisibility,setEntryModalState:b.uiStateActions.setModalOneState,setDetailsModalVisibility:b.uiStateActions.setModalTwoVisibility,setDetailsModalState:b.uiStateActions.setModalTwoState,setRecipeModalVisibility:b.uiStateActions.setModalThreeVisibility,setRecipeModalState:b.uiStateActions.setModalThreeState,setMouseMoveDateCellState:b.uiStateActions.setUIStateHelperOne,setDateTimePickerState:b.uiStateActions.setUIStateHelperTwo,setDateTimePickerVisibility:b.uiStateActions.setHelperTwoVisibility,setCurrentTimelineRecipeDetail:b.recipesActions.setCurrentTimelineRecipeDetail,clearCurrentRecipesData:b.recipesActions.clearCurrentRecipesData,clearSyncTrackerAppState:b.appStateActions.clearSyncTrackerAppState,clearAllAppState:b.appStateActions.clearAllAppState}))(jr),Pr=a(664),Nr=a(638),Ar=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){console.log({allTrackers:a.props.allTrackers}),a.props.authenticated&&!a.props.allTrackers&&a.props.getAllTrackers(),a.props.authenticated&&a.props.lastUsedDefaultTracker&&!a.props.trackerData._id&&a.props.getTracker(a.props.lastUsedDefaultTracker)},a.redirectToAddMealPlan=function(){a.props.trackerData&&a.props.trackerData._id?(a.props.history.push("/tracker/timeline"),a.props.setEntryModalState(vt.e.mealPlan),a.props.setTargetNewEntrySlot({action:"trackerMenu",start:new Date(y()(a.props.currentTimelineDate).add(1,"day")),end:new Date(y()(a.props.currentTimelineDate).add(1,"day").add(15,"minutes"))}),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)):a.props.history.push("/tracker/startSelectTracker")},a.redirectToAddDietEntry=function(){a.props.trackerData&&a.props.trackerData._id?(a.props.history.push("/tracker/timeline"),a.props.setEntryModalState(vt.e.dietEntry),a.props.setTargetNewEntrySlot({action:"trackerMenu",start:new Date(y()(a.props.currentTimelineDate)),end:new Date(y()(a.props.currentTimelineDate).add(15,"minutes"))}),a.props.setSelectedSnippetType("NEW"),a.props.setEntryModalVisibility(!0)):a.props.history.push("/tracker/startSelectTracker")},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.lastUsedDefaultTracker!==this.props.lastUsedDefaultTracker&&this.props.lastUsedDefaultTracker&&!this.props.trackerData._id&&this.props.getTracker(this.props.lastUsedDefaultTracker),e.errorMessageTrackerSync!==this.props.errorMessageTrackerSync&&this.props.errorMessageTrackerSync&&this.props.enqueueSnackbar(this.props.errorMessageTrackerSync,{variant:"error"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,r=t.history,n=t.authenticated,o=t.trackerData,i=t.allTrackers,l=t.lastUsedDefaultTracker,c=t.userMetaData,d=t.successDataTrackerSync,u=t.errorMessageTrackerSync;return s.a.createElement("div",null,s.a.createElement("nav",null,s.a.createElement(Nr.a,{currentLocation:r.location.pathname},s.a.createElement(m.b,{to:"/tracker/timeline"},"Tracker Timeline"),s.a.createElement(m.b,{to:"/tracker/startSelectTracker"},"Start Select Tracker"),s.a.createElement(m.b,{to:"/tracker/trackerPreferences"},"Tracker Preferences"),s.a.createElement("button",{type:"button",onClick:this.redirectToAddDietEntry},"Add Diet Entry"),s.a.createElement("button",{type:"button",onClick:this.redirectToAddMealPlan},"Add Meal Plan"),s.a.createElement(m.b,{to:"/tracker/recentActivity"},"Recent Activity"))),n?s.a.createElement(f.d,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{replace:!0},s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/timeline"),render:function(e){return s.a.createElement(Cr,e)}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/startSelectTracker"),render:function(t){return s.a.createElement(A,Object.assign({allTrackers:i,lastUsedDefaultTracker:l,handleSelectTracker:e.props.getTracker,handleStartNewTracker:e.props.createTracker,successDataTrackerSync:d,errorMessageTrackerSync:u},t))}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/trackerPreferences"),render:function(t){return s.a.createElement(L,Object.assign({trackerData:o,trackerPreferences:o&&o.preferences,updateTrackerPreferences:e.props.editTrackerPreferences,successDataTrackerSync:d,errorMessageTrackerSync:u},t))}}),s.a.createElement(f.b,{exact:!0,path:"".concat(a.url,"/recentActivity"),render:function(t){return s.a.createElement(Pr.a,Object.assign({trackerData:o,allTrackers:i,userMetaData:c,setCurrentTimelineView:e.props.setCurrentTimelineView,setCurrentTimelineDate:e.props.setCurrentTimelineDate,redirectToAddDietEntry:e.redirectToAddDietEntry,redirectToAddMealPlan:e.redirectToAddMealPlan},t))}}))),s.a.createElement(s.a.Fragment,null,i&&0!==i.length?s.a.createElement(f.a,{from:"/tracker",to:"/tracker/timeline"}):s.a.createElement(f.a,{from:"/tracker",to:"/tracker/startSelectTracker"}))):s.a.createElement(f.a,{to:"/"}))}}]),t}(c.Component),xr=Object(p.compose)(u.withSnackbar,Object(d.b)((function(e){return{authenticated:e.appData.auth.token,successDataTrackerSync:e.appState.trackerSync.successData,errorMessageTrackerSync:e.appState.trackerSync.errorMessage,allTrackers:e.appData.tracker.allTrackers,lastUsedDefaultTracker:e.appData.tracker.lastUsedDefaultTracker,trackerData:e.appData.tracker.selectedTracker,currentTimelineView:e.appData.tracker.currentTimeline.viewKey,currentTimelineDate:e.appData.tracker.currentTimeline.displayDate,userMetaData:e.appData.userData.settings.metaData}}),{getNutrition:b.nutritionActions.getNutrition,saveNutritionQuery:b.nutritionActions.saveNutritionQuery,getAllTrackers:b.trackerActions.getAllTrackers,getTracker:b.trackerActions.getTracker,addEntryToTracker:b.trackerActions.addEntryToTracker,createTracker:b.trackerActions.createTracker,editTrackerPreferences:b.trackerActions.editTrackerPreferences,setCurrentTimelineView:b.trackerActions.setCurrentTimelineView,setCurrentTimelineDate:b.trackerActions.setCurrentTimelineDate,setTargetNewEntrySlot:b.trackerActions.setTargetNewEntrySlot,setSelectedSnippetType:b.trackerActions.setSelectedSnippetType,setEntryModalState:b.uiStateActions.setModalOneState,setEntryModalVisibility:b.uiStateActions.setModalOneVisibility}));t.default=xr(Ar)}}]);
//# sourceMappingURL=9.c0e8c7da.chunk.js.map